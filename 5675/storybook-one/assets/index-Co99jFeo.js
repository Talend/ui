import{t as G,v as J,g as se}from"./iframe-BBf9rzxA.js";var K={},Y,te;function ce(){if(te)return Y;te=1;var S=(function(){function T(p,w){var _=[],d=!0,g=!1,x=void 0;try{for(var c=p[Symbol.iterator](),i;!(d=(i=c.next()).done)&&(_.push(i.value),!(w&&_.length===w));d=!0);}catch(b){g=!0,x=b}finally{try{!d&&c.return&&c.return()}finally{if(g)throw x}}return _}return function(p,w){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return T(p,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();return Y=function(T){var p=T.data,w=T.multiSection;function _(i){for(i===null?i=0:i++;i<p.length&&p[i]===0;)i++;return i===p.length?null:i}function d(i){for(i===null?i=p.length-1:i--;i>=0&&p[i]===0;)i--;return i===-1?null:i}function g(i){var b=S(i,2),I=b[0],o=b[1];return w?o===null||o===p[I]-1?(I=_(I),I===null?[null,null]:[I,0]):[I,o+1]:p===0||o===p-1?[null,null]:o===null?[null,0]:[null,o+1]}function x(i){var b=S(i,2),I=b[0],o=b[1];return w?o===null||o===0?(I=d(I),I===null?[null,null]:[I,p[I]-1]):[I,o-1]:p===0||o===0?[null,null]:o===null?[null,p-1]:[null,o-1]}function c(i){return g(i)[1]===null}return{next:g,prev:x,isLast:c}},Y}var U={exports:{}},Z,ne;function de(){if(ne)return Z;ne=1;var S=Object.prototype.propertyIsEnumerable;function T(w){if(w==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(w)}function p(w){var _=Object.getOwnPropertyNames(w);return Object.getOwnPropertySymbols&&(_=_.concat(Object.getOwnPropertySymbols(w))),_.filter(function(d){return S.call(w,d)})}return Z=Object.assign||function(w,_){for(var d,g,x=T(w),c=1;c<arguments.length;c++){d=arguments[c],g=p(Object(d));for(var i=0;i<g.length;i++)x[g[i]]=d[g[i]]}return x},Z}var re;function he(){return re||(re=1,(function(S,T){Object.defineProperty(T,"__esModule",{value:!0});var p=(function(){function c(i,b){var I=[],o=!0,h=!1,l=void 0;try{for(var e=i[Symbol.iterator](),n;!(o=(n=e.next()).done)&&(I.push(n.value),!(b&&I.length===b));o=!0);}catch(a){h=!0,l=a}finally{try{!o&&e.return&&e.return()}finally{if(h)throw l}}return I}return function(i,b){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return c(i,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})();function w(c){return c&&c.__esModule?c:{default:c}}function _(c){if(Array.isArray(c)){for(var i=0,b=Array(c.length);i<c.length;i++)b[i]=c[i];return b}else return Array.from(c)}var d=de(),g=w(d),x=function(i){return i};T.default=function(c){var i=Array.isArray(c)&&c.length===2?c:[c,null],b=p(i,2),I=b[0],o=b[1];return function(h){for(var l=arguments.length,e=Array(l>1?l-1:0),n=1;n<l;n++)e[n-1]=arguments[n];var a=e.map(function(f){return I[f]}).filter(x);return typeof a[0]=="string"||typeof o=="function"?{key:h,className:o?o.apply(void 0,_(a)):a.join(" ")}:{key:h,style:g.default.apply(void 0,[{}].concat(_(a)))}}},S.exports=T.default})(U,U.exports)),U.exports}var N={},B={},ie;function ee(){if(ie)return B;ie=1,Object.defineProperty(B,"__esModule",{value:!0});var S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};B.default=T;function T(p,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(p===w)return!1;var d=Object.keys(p),g=Object.keys(w);if(d.length!==g.length)return!0;var x={},c=void 0,i=void 0;for(c=0,i=_.length;c<i;c++)x[_[c]]=!0;for(c=0,i=d.length;c<i;c++){var b=d[c],I=p[b],o=w[b];if(I!==o){if(!x[b]||I===null||o===null||(typeof I>"u"?"undefined":S(I))!=="object"||(typeof o>"u"?"undefined":S(o))!=="object")return!0;var h=Object.keys(I),l=Object.keys(o);if(h.length!==l.length)return!0;for(var e=0,n=h.length;e<n;e++){var a=h[e];if(I[a]!==o[a])return!0}}}return!1}return B}var oe;function me(){if(oe)return N;oe=1,Object.defineProperty(N,"__esModule",{value:!0});var S=(function(){function o(h,l){for(var e=0;e<l.length;e++){var n=l[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(h,n.key,n)}}return function(h,l,e){return l&&o(h.prototype,l),e&&o(h,e),h}})(),T=G(),p=x(T),w=J(),_=x(w),d=ee(),g=x(d);function x(o){return o&&o.__esModule?o:{default:o}}function c(o,h){if(!(o instanceof h))throw new TypeError("Cannot call a class as a function")}function i(o,h){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:o}function b(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);o.prototype=Object.create(h&&h.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(o,h):o.__proto__=h)}var I=(function(o){b(h,o);function h(){return c(this,h),i(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return S(h,[{key:"shouldComponentUpdate",value:function(e){return(0,g.default)(e,this.props)}},{key:"render",value:function(){var e=this.props,n=e.section,a=e.renderSectionTitle,f=e.theme,y=e.sectionKeyPrefix,E=a(n);return E?p.default.createElement("div",f(y+"title","sectionTitle"),E):null}}]),h})(T.Component);return I.propTypes={section:_.default.any.isRequired,renderSectionTitle:_.default.func.isRequired,theme:_.default.func.isRequired,sectionKeyPrefix:_.default.string.isRequired},N.default=I,N}var W={},z={},ae;function pe(){if(ae)return z;ae=1,Object.defineProperty(z,"__esModule",{value:!0});var S=Object.assign||function(l){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(l[a]=n[a])}return l},T=(function(){function l(e,n){for(var a=0;a<n.length;a++){var f=n[a];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,n,a){return n&&l(e.prototype,n),a&&l(e,a),e}})(),p=G(),w=c(p),_=J(),d=c(_),g=ee(),x=c(g);function c(l){return l&&l.__esModule?l:{default:l}}function i(l,e){var n={};for(var a in l)e.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(l,a)&&(n[a]=l[a]);return n}function b(l,e){if(!(l instanceof e))throw new TypeError("Cannot call a class as a function")}function I(l,e){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:l}function o(l,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(l,e):l.__proto__=e)}var h=(function(l){o(e,l);function e(){var n,a,f,y;b(this,e);for(var E=arguments.length,q=Array(E),O=0;O<E;O++)q[O]=arguments[O];return y=(a=(f=I(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(q))),f),f.storeItemReference=function(j){j!==null&&(f.item=j)},f.onMouseEnter=function(j){var s=f.props,u=s.sectionIndex,v=s.itemIndex;f.props.onMouseEnter(j,{sectionIndex:u,itemIndex:v})},f.onMouseLeave=function(j){var s=f.props,u=s.sectionIndex,v=s.itemIndex;f.props.onMouseLeave(j,{sectionIndex:u,itemIndex:v})},f.onMouseDown=function(j){var s=f.props,u=s.sectionIndex,v=s.itemIndex;f.props.onMouseDown(j,{sectionIndex:u,itemIndex:v})},f.onClick=function(j){var s=f.props,u=s.sectionIndex,v=s.itemIndex;f.props.onClick(j,{sectionIndex:u,itemIndex:v})},a),I(f,y)}return T(e,[{key:"shouldComponentUpdate",value:function(a){return(0,x.default)(a,this.props,["renderItemData"])}},{key:"render",value:function(){var a=this.props,f=a.isHighlighted,y=a.item,E=a.renderItem,q=a.renderItemData,O=i(a,["isHighlighted","item","renderItem","renderItemData"]);return delete O.sectionIndex,delete O.itemIndex,typeof O.onMouseEnter=="function"&&(O.onMouseEnter=this.onMouseEnter),typeof O.onMouseLeave=="function"&&(O.onMouseLeave=this.onMouseLeave),typeof O.onMouseDown=="function"&&(O.onMouseDown=this.onMouseDown),typeof O.onClick=="function"&&(O.onClick=this.onClick),w.default.createElement("li",S({role:"option"},O,{ref:this.storeItemReference}),E(y,S({isHighlighted:f},q)))}}]),e})(p.Component);return h.propTypes={sectionIndex:d.default.number,isHighlighted:d.default.bool.isRequired,itemIndex:d.default.number.isRequired,item:d.default.any.isRequired,renderItem:d.default.func.isRequired,renderItemData:d.default.object.isRequired,onMouseEnter:d.default.func,onMouseLeave:d.default.func,onMouseDown:d.default.func,onClick:d.default.func},z.default=h,z}var ue;function ve(){if(ue)return W;ue=1,Object.defineProperty(W,"__esModule",{value:!0});var S=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(e[f]=a[f])}return e},T=(function(){function e(n,a){for(var f=0;f<a.length;f++){var y=a[f];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(n,y.key,y)}}return function(n,a,f){return a&&e(n.prototype,a),f&&e(n,f),n}})(),p=G(),w=b(p),_=J(),d=b(_),g=pe(),x=b(g),c=ee(),i=b(c);function b(e){return e&&e.__esModule?e:{default:e}}function I(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:e}function h(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var l=(function(e){h(n,e);function n(){var a,f,y,E;I(this,n);for(var q=arguments.length,O=Array(q),j=0;j<q;j++)O[j]=arguments[j];return E=(f=(y=o(this,(a=n.__proto__||Object.getPrototypeOf(n)).call.apply(a,[this].concat(O))),y),y.storeHighlightedItemReference=function(s){y.props.onHighlightedItemChange(s===null?null:s.item)},f),o(y,E)}return T(n,[{key:"shouldComponentUpdate",value:function(f){return(0,i.default)(f,this.props,["itemProps"])}},{key:"render",value:function(){var f=this,y=this.props,E=y.items,q=y.itemProps,O=y.renderItem,j=y.renderItemData,s=y.sectionIndex,u=y.highlightedItemIndex,v=y.getItemId,t=y.theme,r=y.keyPrefix,m=s===null?r:r+"section-"+s+"-",P=typeof q=="function";return w.default.createElement("ul",S({role:"listbox"},t(m+"items-list","itemsList")),E.map(function(D,R){var k=R===0,A=R===u,C=m+"item-"+R,L=P?q({sectionIndex:s,itemIndex:R}):q,M=S({id:v(s,R),"aria-selected":A},t(C,"item",k&&"itemFirst",A&&"itemHighlighted"),L);return A&&(M.ref=f.storeHighlightedItemReference),w.default.createElement(x.default,S({},M,{sectionIndex:s,isHighlighted:A,itemIndex:R,item:D,renderItem:O,renderItemData:j}))}))}}]),n})(p.Component);return l.propTypes={items:d.default.array.isRequired,itemProps:d.default.oneOfType([d.default.object,d.default.func]),renderItem:d.default.func.isRequired,renderItemData:d.default.object.isRequired,sectionIndex:d.default.number,highlightedItemIndex:d.default.number,onHighlightedItemChange:d.default.func.isRequired,getItemId:d.default.func.isRequired,theme:d.default.func.isRequired,keyPrefix:d.default.string.isRequired},l.defaultProps={sectionIndex:null},W.default=l,W}var fe;function ge(){if(fe)return K;fe=1,Object.defineProperty(K,"__esModule",{value:!0});var S=Object.assign||function(s){for(var u=1;u<arguments.length;u++){var v=arguments[u];for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&(s[t]=v[t])}return s},T=(function(){function s(u,v){var t=[],r=!0,m=!1,P=void 0;try{for(var D=u[Symbol.iterator](),R;!(r=(R=D.next()).done)&&(t.push(R.value),!(v&&t.length===v));r=!0);}catch(k){m=!0,P=k}finally{try{!r&&D.return&&D.return()}finally{if(m)throw P}}return t}return function(u,v){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return s(u,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=(function(){function s(u,v){for(var t=0;t<v.length;t++){var r=v[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(u,r.key,r)}}return function(u,v,t){return v&&s(u.prototype,v),t&&s(u,t),u}})(),w=G(),_=e(w),d=J(),g=e(d),x=ce(),c=e(x),i=he(),b=e(i),I=me(),o=e(I),h=ve(),l=e(h);function e(s){return s&&s.__esModule?s:{default:s}}function n(s,u){if(!(s instanceof u))throw new TypeError("Cannot call a class as a function")}function a(s,u){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:s}function f(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);s.prototype=Object.create(u&&u.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(s,u):s.__proto__=u)}var y={},E=function(u){return _.default.createElement("input",u)},q=function(u){var v=u.containerProps,t=u.children;return _.default.createElement("div",v,t)},O={container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"},j=(function(s){f(u,s);function u(v){n(this,u);var t=a(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,v));return t.storeInputReference=function(r){r!==null&&(t.input=r)},t.storeItemsContainerReference=function(r){r!==null&&(t.itemsContainer=r)},t.onHighlightedItemChange=function(r){t.highlightedItem=r},t.getItemId=function(r,m){if(m===null)return null;var P=t.props.id,D=r===null?"":"section-"+r;return"react-autowhatever-"+P+"-"+D+"-item-"+m},t.onFocus=function(r){var m=t.props.inputProps;t.setState({isInputFocused:!0}),m.onFocus&&m.onFocus(r)},t.onBlur=function(r){var m=t.props.inputProps;t.setState({isInputFocused:!1}),m.onBlur&&m.onBlur(r)},t.onKeyDown=function(r){var m=t.props,P=m.inputProps,D=m.highlightedSectionIndex,R=m.highlightedItemIndex;switch(r.key){case"ArrowDown":case"ArrowUp":{var k=r.key==="ArrowDown"?"next":"prev",A=t.sectionIterator[k]([D,R]),C=T(A,2),L=C[0],M=C[1];P.onKeyDown(r,{newHighlightedSectionIndex:L,newHighlightedItemIndex:M});break}default:P.onKeyDown(r,{highlightedSectionIndex:D,highlightedItemIndex:R})}},t.highlightedItem=null,t.state={isInputFocused:!1},t.setSectionsItems(v),t.setSectionIterator(v),t.setTheme(v),t}return p(u,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"componentWillReceiveProps",value:function(t){t.items!==this.props.items&&this.setSectionsItems(t),(t.items!==this.props.items||t.multiSection!==this.props.multiSection)&&this.setSectionIterator(t),t.theme!==this.props.theme&&this.setTheme(t)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(t){t.multiSection&&(this.sectionsItems=t.items.map(function(r){return t.getSectionItems(r)}),this.sectionsLengths=this.sectionsItems.map(function(r){return r.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(r){return r===0}))}},{key:"setSectionIterator",value:function(t){this.sectionIterator=(0,c.default)({multiSection:t.multiSection,data:t.multiSection?this.sectionsLengths:t.items.length})}},{key:"setTheme",value:function(t){this.theme=(0,b.default)(t.theme)}},{key:"renderSections",value:function(){var t=this;if(this.allSectionsAreEmpty)return null;var r=this.theme,m=this.props,P=m.id,D=m.items,R=m.renderItem,k=m.renderItemData,A=m.renderSectionTitle,C=m.highlightedSectionIndex,L=m.highlightedItemIndex,M=m.itemProps;return D.map(function(Q,H){var F="react-autowhatever-"+P+"-",$=F+"section-"+H+"-",X=H===0;return _.default.createElement("div",r($+"container","sectionContainer",X&&"sectionContainerFirst"),_.default.createElement(o.default,{section:Q,renderSectionTitle:A,theme:r,sectionKeyPrefix:$}),_.default.createElement(l.default,{items:t.sectionsItems[H],itemProps:M,renderItem:R,renderItemData:k,sectionIndex:H,highlightedItemIndex:C===H?L:null,onHighlightedItemChange:t.onHighlightedItemChange,getItemId:t.getItemId,theme:r,keyPrefix:F,ref:t.storeItemsListReference}))})}},{key:"renderItems",value:function(){var t=this.props.items;if(t.length===0)return null;var r=this.theme,m=this.props,P=m.id,D=m.renderItem,R=m.renderItemData,k=m.highlightedSectionIndex,A=m.highlightedItemIndex,C=m.itemProps;return _.default.createElement(l.default,{items:t,itemProps:C,renderItem:D,renderItemData:R,highlightedItemIndex:k===null?A:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:r,keyPrefix:"react-autowhatever-"+P+"-"})}},{key:"ensureHighlightedItemIsVisible",value:function(){var t=this.highlightedItem;if(t){var r=this.itemsContainer,m=t.offsetParent===r?t.offsetTop:t.offsetTop-r.offsetTop,P=r.scrollTop;m<P?P=m:m+t.offsetHeight>P+r.offsetHeight&&(P=m+t.offsetHeight-r.offsetHeight),P!==r.scrollTop&&(r.scrollTop=P)}}},{key:"render",value:function(){var t=this.theme,r=this.props,m=r.id,P=r.multiSection,D=r.renderInputComponent,R=r.renderItemsContainer,k=r.highlightedSectionIndex,A=r.highlightedItemIndex,C=this.state.isInputFocused,L=P?this.renderSections():this.renderItems(),M=L!==null,Q=this.getItemId(k,A),H="react-autowhatever-"+m,F=S({role:"combobox","aria-haspopup":"listbox","aria-owns":H,"aria-expanded":M},t("react-autowhatever-"+m+"-container","container",M&&"containerOpen"),this.props.containerProps),$=D(S({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":H,"aria-activedescendant":Q},t("react-autowhatever-"+m+"-input","input",M&&"inputOpen",C&&"inputFocused"),this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),X=R({containerProps:S({id:H,role:"listbox"},t("react-autowhatever-"+m+"-items-container","itemsContainer",M&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:L});return _.default.createElement("div",F,$,X)}}]),u})(w.Component);return j.propTypes={id:g.default.string,multiSection:g.default.bool,renderInputComponent:g.default.func,renderItemsContainer:g.default.func,items:g.default.array.isRequired,renderItem:g.default.func,renderItemData:g.default.object,renderSectionTitle:g.default.func,getSectionItems:g.default.func,containerProps:g.default.object,inputProps:g.default.object,itemProps:g.default.oneOfType([g.default.object,g.default.func]),highlightedSectionIndex:g.default.number,highlightedItemIndex:g.default.number,theme:g.default.oneOfType([g.default.object,g.default.array])},j.defaultProps={id:"1",multiSection:!1,renderInputComponent:E,renderItemsContainer:q,renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:y,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:y,inputProps:y,itemProps:y,highlightedSectionIndex:null,highlightedItemIndex:null,theme:O},K.default=j,K}var V,le;function Ie(){return le||(le=1,V=ge().default),V}var ye=Ie();const be=se(ye);export{be as A};
