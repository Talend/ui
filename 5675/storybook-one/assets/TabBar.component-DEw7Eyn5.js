import{r as i,R as E,j as n,c,I as K,P as a}from"./iframe-Fv_vVGZN.js";import{d as P}from"./debounce-DKzuwe06.js";import{g as I}from"./get-Dtrs5e6d.js";import{a as L,T as O,g as $}from"./Action.component-DU21-Msq.js";import"./Actions.component-r4v7brPZ.js";import"./ActionButton.component-BGrLFd2s.js";import"./ActionIconToggle.component-iHtCGVrb.js";import"./ActionSplitDropdown.component-DJmXjSVq.js";import"./index-CprQB1Z1.js";import{O as z}from"./OverlayTrigger.component-C19J5ewi.js";import{T as M}from"./TooltipTrigger.component-eBDOtZP9.js";import{T as u}from"./Tab-DhExr7KR.js";import{N as A,a as H}from"./NavItem-D91X6NxC.js";const s={"tc-tab-bar-menu":"_tc-tab-bar-menu_1nusr_2","tc-tab-bar":"_tc-tab-bar_1nusr_2","tc-tab-bar-item":"_tc-tab-bar-item_1nusr_13","tc-tab-bar-item-container":"_tc-tab-bar-item-container_1nusr_17","tc-tab-bar-item-icon":"_tc-tab-bar-item-icon_1nusr_21","tc-tab-bar-item-label":"_tc-tab-bar-item-label_1nusr_27","tc-tab-bar-item-badge":"_tc-tab-bar-item-badge_1nusr_35"};function f(o){const _=i.useRef(),p=i.useRef(),d=i.useRef(),[w,h]=i.useState(!1),{responsive:b=!0}=o;function N(){const e=_.current;if(e){const t=e.querySelector("li:last-child");t&&e.getBoundingClientRect().right<t.getBoundingClientRect().right&&h(!0)}else h(!1)}function x(){h(!1),N()}i.useEffect(()=>{if(b){const e=window.addEventListener("resize",P(x,200));return()=>window.removeEventListener("resize",e)}},[]),i.useEffect(()=>{if(!d.current||!p.current)return;const e=E.findDOMNode(p.current);if(e&&typeof e.querySelector=="function"){const t=e.querySelector("[aria-selected=true]");t&&(t.focus({preventScroll:!0}),d.current=!1)}}),i.useEffect(()=>{b&&N()},[]);const{onSelect:S}=o;function m(e,t){e!==o.selectedKey&&(t&&t.preventDefault(),S(t,o.items.find(({key:r})=>e===r)))}function j(e){const{items:t}=o;switch(e.key){case"Home":d.current=!0,m(t[0].key,e);break;case"End":d.current=!0,m(t[t.length-1].key,e);break}}const{className:v,id:T,items:l,selectedKey:y,children:R,generateChildId:k,tooltipPlacement:C,right:B}=o,D=(R||l.some(e=>e.children))&&n.jsx(u.Content,{children:l.map(e=>n.jsxs(u.Pane,{eventKey:e.key,children:[e.children,y===e.key?R:null]},e.key))});let g;if(b&&w){const e=l.find(r=>r.key===y)||l[0],t=I(e,"badge.label","");g=n.jsx(L,{id:T,className:c(s["tc-tab-bar-dropdown"],"tc-tab-bar-dropdown"),badge:e.badge,tooltipLabel:t?`${t} ${e.label}`:e.label,label:e.label,icon:e.icon&&e.icon.name,onSelect:(r,{key:q})=>m(q,r),items:l.map(r=>({...r,icon:r.icon&&r.icon.name})),link:!0})}else g=n.jsx(A,{bsStyle:"tabs",className:c(s["tc-tab-bar"],"tc-tab-bar",b&&s["tc-tab-bar-responsive"],b&&"tc-tab-bar-responsive"),ref:p,children:l.map(({icon:e,badge:t,...r})=>i.createElement(H,{className:c(s["tc-tab-bar-item"],"tc-tab-bar-item",r.className),...r,key:r.key,eventKey:r.key,componentClass:"button"},n.jsx(M,{label:t&&t.label?`${t.label} ${r.label}`:r.label,tooltipPlacement:C,children:n.jsxs("span",{className:c(s["tc-tab-bar-item-container"],"tc-tab-bar-item-container"),children:[e&&n.jsx(K,{className:c(s["tc-tab-bar-item-icon"],"tc-tab-bar-item-icon"),...e}),n.jsx("span",{className:c(s["tc-tab-bar-item-label"]),children:r.label}),t&&n.jsx(O,{className:c(s["tc-tab-bar-item-badge"],"tc-tab-bar-item-badge",t.className),bsStyle:t.bsStyle,children:$(t.label)})]})})))});return n.jsx(u.Container,{id:T,activeKey:y,className:v,onSelect:m,onKeyDown:j,generateChildId:k,children:n.jsxs("div",{ref:_,children:[n.jsxs("div",{className:c(s["tc-tab-bar-menu"],"tc-tab-bar-menu"),children:[g,B]}),D]})})}f.displayName="TabBar";f.propTypes={children:a.node,className:a.string,generateChildId:a.func,id:a.string.isRequired,items:a.arrayOf(a.shape({id:a.string,key:a.any.isRequired,label:a.string.isRequired,icon:a.object,badge:a.shape({className:a.string,label:a.string,bsStyle:a.string})}).isRequired).isRequired,onSelect:a.func.isRequired,responsive:a.bool,selectedKey:a.any,tooltipPlacement:z.propTypes.placement,right:a.node};f.defaultProps={tooltipPlacement:"top"};f.Tab=u;export{f as T};
