import{W as g,X as f,O as a}from"./iframe-Bku7JZgU.js";var m=30,v=100,W=(function(){function l(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f(this,l),a(this,"_cellHeightCache",{}),a(this,"_cellWidthCache",{}),a(this,"_columnWidthCache",{}),a(this,"_rowHeightCache",{}),a(this,"_defaultHeight",void 0),a(this,"_defaultWidth",void 0),a(this,"_minHeight",void 0),a(this,"_minWidth",void 0),a(this,"_keyMapper",void 0),a(this,"_hasFixedHeight",void 0),a(this,"_hasFixedWidth",void 0),a(this,"_columnCount",0),a(this,"_rowCount",0),a(this,"columnWidth",function(c){var o=c.index,u=e._keyMapper(0,o);return e._columnWidthCache[u]!==void 0?e._columnWidthCache[u]:e._defaultWidth}),a(this,"rowHeight",function(c){var o=c.index,u=e._keyMapper(o,0);return e._rowHeightCache[u]!==void 0?e._rowHeightCache[u]:e._defaultHeight});var i=t.defaultHeight,h=t.defaultWidth,s=t.fixedHeight,n=t.fixedWidth,d=t.keyMapper,r=t.minHeight,_=t.minWidth;this._hasFixedHeight=s===!0,this._hasFixedWidth=n===!0,this._minHeight=r||0,this._minWidth=_||0,this._keyMapper=d||C,this._defaultHeight=Math.max(this._minHeight,typeof i=="number"?i:m),this._defaultWidth=Math.max(this._minWidth,typeof h=="number"?h:v)}return g(l,[{key:"clear",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=this._keyMapper(t,i);delete this._cellHeightCache[h],delete this._cellWidthCache[h],this._updateCachedColumnAndRowSizes(t,i)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var h=this._keyMapper(t,i);return this._cellHeightCache[h]!==void 0?Math.max(this._minHeight,this._cellHeightCache[h]):this._defaultHeight}},{key:"getWidth",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var h=this._keyMapper(t,i);return this._cellWidthCache[h]!==void 0?Math.max(this._minWidth,this._cellWidthCache[h]):this._defaultWidth}},{key:"has",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=this._keyMapper(t,i);return this._cellHeightCache[h]!==void 0}},{key:"set",value:function(t,i,h,s){var n=this._keyMapper(t,i);i>=this._columnCount&&(this._columnCount=i+1),t>=this._rowCount&&(this._rowCount=t+1),this._cellHeightCache[n]=s,this._cellWidthCache[n]=h,this._updateCachedColumnAndRowSizes(t,i)}},{key:"_updateCachedColumnAndRowSizes",value:function(t,i){if(!this._hasFixedWidth){for(var h=0,s=0;s<this._rowCount;s++)h=Math.max(h,this.getWidth(s,i));var n=this._keyMapper(0,i);this._columnWidthCache[n]=h}if(!this._hasFixedHeight){for(var d=0,r=0;r<this._columnCount;r++)d=Math.max(d,this.getHeight(t,r));var _=this._keyMapper(t,0);this._rowHeightCache[_]=d}}}])})();function C(l,e){return"".concat(l,"-").concat(e)}export{W as C};
