import{j as o,c as I}from"./iframe-Bku7JZgU.js";import{R as m,a as N,b as v}from"./RatioBar.component-Ble0i3v5.js";import{S as _}from"./StackItem-D3oZqRlk.js";const q=N;q.Composition=m;q.Line=v;var p=(a=>(a.VALID="valid",a.INVALID="invalid",a.EMPTY="empty",a.NA="na",a))(p||{});const j={"quality-ratio-bar":"_quality-ratio-bar_19y3y_1","quality-ratio-bar--empty":"_quality-ratio-bar--empty_19y3y_6","quality-ratio-bar--valid":"_quality-ratio-bar--valid_19y3y_9","quality-ratio-bar--invalid":"_quality-ratio-bar--invalid_19y3y_12","quality-ratio-bar--na":"_quality-ratio-bar--na_19y3y_15","quality-ratio-bar--placeholder":"_quality-ratio-bar--placeholder_19y3y_18","split-ratio-bar-percentage":"_split-ratio-bar-percentage_19y3y_25"},y=({onClick:a,type:t,getDataFeature:i,...n})=>{const l={className:I(j["quality-ratio-bar"],j[`quality-ratio-bar--${t}`]),onClick:a?e=>a(e,{type:t}):void 0,dataFeature:i?i(t):null,dataTestId:`quality-bar-${t}`};return o.jsx(v,{...n,...l})},A=({percentage:a,value:t,...i})=>o.jsx(y,{percentage:a,value:t,type:p.INVALID,...i}),B=({percentage:a,value:t,...i})=>o.jsx(y,{percentage:a,value:t,type:p.VALID,...i}),M=({percentage:a,value:t,...i})=>o.jsx(y,{percentage:a,value:t,type:p.EMPTY,...i}),V=({percentage:a,value:t,...i})=>o.jsx(y,{percentage:a,value:t,type:p.NA,...i}),h=a=>o.jsx(y,{...a,type:"placeholder"}),L=({valid:a=0,invalid:t=0,empty:i=0,na:n=0,placeholder:l=0,percentages:e,getDataFeature:r,onClick:s,disabled:c,tooltipLabels:u})=>c?o.jsx(m,{children:o.jsx(h,{getDataFeature:r,value:1,percentage:100})}):o.jsxs(m,{children:[o.jsx(A,{onClick:s,getDataFeature:r,value:t,percentage:e.invalid,tooltipLabel:u?.invalid}),o.jsx(M,{onClick:s,getDataFeature:r,value:i,percentage:e.empty,tooltipLabel:u?.empty}),o.jsx(V,{onClick:s,getDataFeature:r,value:n,percentage:e.na,tooltipLabel:u?.na}),o.jsx(B,{onClick:s,getDataFeature:r,value:a,percentage:e.valid,tooltipLabel:u?.valid}),o.jsx(h,{getDataFeature:r,value:l,percentage:e.placeholder})]}),S=a=>{if(!a)return"";const t=a.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),t.join(".")},R=(a,t=0,i=0,n=0,l=0,e=0)=>{const r={empty:0,invalid:0,na:0,placeholder:0,valid:0},s=Math.pow(10,a),c=t+i+n+l+e;if(c===0)return r;const u=1/s;return r.invalid=+(t>0?Math.max(t*100/c,u):0).toFixed(a),r.empty=+(i>0?Math.max(i*100/c,u):0).toFixed(a),r.na=+(l>0?Math.max(l*100/c,u):0).toFixed(a),r.placeholder=+(e>0?Math.max(e*100/c,u):0).toFixed(a),r.valid=+(100-r.invalid-r.empty-r.na-r.placeholder).toFixed(a),r},P=({disabled:a,empty:t,getDataFeature:i,invalid:n,na:l,onClick:e,percentages:r,valid:s})=>{const c=(t||0)+(n||0)+(l||0)+(s||0),u={empty:t,invalid:n,na:l,valid:s},f={getDataFeature:i,onClick:e};return o.jsx(_,{gap:"M",children:[p.INVALID,p.EMPTY,p.NA,p.VALID].map(d=>{const b=r[d]||0,x=u[d];return x!==void 0?o.jsxs(_,{gap:"XXS",children:[o.jsxs("div",{className:j["split-ratio-bar-percentage"],children:[a?"- ":b,"%"]}),o.jsx(L,{...f,[d]:x,disabled:a,placeholder:c-x,percentages:{...r,placeholder:100-b}})]},d):null})})},T=({valid:a,invalid:t,empty:i,na:n,placeholder:l,digits:e=1,split:r=!1,...s})=>{const c=R(e,t,i,a,n,l);return r?o.jsx(P,{valid:a,invalid:t,empty:i,na:n,percentages:c,...s}):o.jsx(L,{valid:a,invalid:t,empty:i,na:n,placeholder:l,percentages:c,...s})};export{T as Q,p as a,S as f,R as g};
