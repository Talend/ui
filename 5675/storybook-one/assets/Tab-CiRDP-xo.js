import{p as c,P as n,j as m,c as A}from"./iframe-BKTgqfAy.js";import{u as w}from"./SplitButton-C-Xw7V2Y.js";import{k as R,u as q,p as S,m as u,l as D,w as F,a as _}from"./RootCloseWrapper-l0ydqqX4.js";import{F as k}from"./Popover-B0FXiGn_.js";const M="tab",W="pane",z=n.oneOfType([n.string,n.number]),G={id(r,...t){let e=null;return r.generateChildId||(e=z(r,...t),!e&&!r.id&&(e=new Error("In order to properly initialize Tabs in a way that is accessible to assistive technologies (such as screen readers) an `id` or a `generateChildId` prop to TabContainer is required"))),e},generateChildId:n.func,onSelect:n.func,activeKey:n.any},H={$bs_tabContainer:n.shape({activeKey:n.any,onSelect:n.func.isRequired,getTabId:n.func.isRequired,getPaneId:n.func.isRequired})};class g extends c.Component{getChildContext(){const{activeKey:t,onSelect:e,generateChildId:l,id:s}=this.props,i=l||((o,d)=>s?`${s}-${d}-${o}`:null);return{$bs_tabContainer:{activeKey:t,onSelect:e,getTabId:o=>i(o,M),getPaneId:o=>i(o,W)}}}render(){const{children:t,...e}=this.props;return delete e.generateChildId,delete e.onSelect,delete e.activeKey,c.cloneElement(c.Children.only(t),e)}}g.propTypes=G;g.childContextTypes=H;const J=w(g,{activeKey:"onSelect"}),L={componentClass:u,animation:n.oneOfType([n.bool,u]),mountOnEnter:n.bool,unmountOnExit:n.bool},Q={componentClass:"div",animation:!0,mountOnEnter:!1,unmountOnExit:!1},V={$bs_tabContainer:n.shape({activeKey:n.any})},X={$bs_tabContent:n.shape({bsClass:n.string,animation:n.oneOfType([n.bool,u]),activeKey:n.any,mountOnEnter:n.bool,unmountOnExit:n.bool,onPaneEnter:n.func.isRequired,onPaneExited:n.func.isRequired,exiting:n.bool.isRequired})};class h extends c.Component{constructor(t,e){super(t,e),this.handlePaneEnter=this.handlePaneEnter.bind(this),this.handlePaneExited=this.handlePaneExited.bind(this),this.state={activeKey:null,activeChild:null}}getChildContext(){const{bsClass:t,animation:e,mountOnEnter:l,unmountOnExit:s}=this.props,i=this.state.activeKey,o=this.getContainerActiveKey(),d=i??o,x=i!=null&&i!==o;return{$bs_tabContent:{bsClass:t,animation:e,activeKey:d,mountOnEnter:l,unmountOnExit:s,onPaneEnter:this.handlePaneEnter,onPaneExited:this.handlePaneExited,exiting:x}}}componentDidUpdate(t){this.props.animation!==t.animation&&this.state.activeChild&&this.setState({activeKey:null,activeChild:null})}componentWillUnmount(){this.isUnmounted=!0}getContainerActiveKey(){const t=this.context.$bs_tabContainer;return t&&t.activeKey}handlePaneEnter(t,e){return!this.props.animation||e!==this.getContainerActiveKey()?!1:(this.setState({activeKey:e,activeChild:t}),!0)}handlePaneExited(t){this.isUnmounted||this.setState(({activeChild:e})=>e!==t?null:{activeKey:null,activeChild:null})}render(){const{componentClass:t,className:e,...l}=this.props,[s,i]=q(l,["animation","mountOnEnter","unmountOnExit"]);return m.jsx(t,{...i,className:A(e,S(s,"content"))})}}h.propTypes=L;h.defaultProps=Q;h.contextTypes=V;h.childContextTypes=X;const Y=R("tab",h),Z={eventKey:n.any,animation:n.oneOfType([n.bool,u]),id:n.string,"aria-labelledby":n.string,bsClass:n.string,onEnter:n.func,onEntering:n.func,onEntered:n.func,onExit:n.func,onExiting:n.func,onExited:n.func,mountOnEnter:n.bool,unmountOnExit:n.bool},nn={$bs_tabContainer:n.shape({getTabId:n.func,getPaneId:n.func}),$bs_tabContent:n.shape({bsClass:n.string,animation:n.oneOfType([n.bool,u]),activeKey:n.any,mountOnEnter:n.bool,unmountOnExit:n.bool,onPaneEnter:n.func.isRequired,onPaneExited:n.func.isRequired,exiting:n.bool.isRequired})},tn={$bs_tabContainer:n.oneOf([null])};class C extends c.Component{constructor(t,e){super(t,e),this.handleEnter=this.handleEnter.bind(this),this.handleExited=this.handleExited.bind(this),this.in=!1}getChildContext(){return{$bs_tabContainer:null}}componentDidMount(){this.shouldBeIn()&&this.handleEnter()}componentDidUpdate(){this.in?this.shouldBeIn()||this.handleExited():this.shouldBeIn()&&this.handleEnter()}componentWillUnmount(){this.in&&this.handleExited()}getAnimation(){if(this.props.animation!=null)return this.props.animation;const t=this.context.$bs_tabContent;return t&&t.animation}handleEnter(){const t=this.context.$bs_tabContent;t&&(this.in=t.onPaneEnter(this,this.props.eventKey))}handleExited(){const t=this.context.$bs_tabContent;t&&(t.onPaneExited(this),this.in=!1)}isActive(){const t=this.context.$bs_tabContent,e=t&&t.activeKey;return this.props.eventKey===e}shouldBeIn(){return this.getAnimation()&&this.isActive()}render(){const{eventKey:t,className:e,onEnter:l,onEntering:s,onEntered:i,onExit:o,onExiting:d,onExited:x,mountOnEnter:v,unmountOnExit:P,...N}=this.props,{$bs_tabContent:a,$bs_tabContainer:y}=this.context,[O,p]=q(N,["animation"]),b=this.isActive(),f=this.getAnimation(),U=v??(a&&a.mountOnEnter),$=P??(a&&a.unmountOnExit);if(!b&&!f&&$)return null;const K=f===!0?k:f||null;a&&(O.bsClass=S(a,"pane"));const j={...D(O),active:b};y&&(F(!p.id&&!p["aria-labelledby"],"In the context of a `<TabContainer>`, `<TabPanes>` are given generated `id` and `aria-labelledby` attributes for the sake of proper component accessibility. Any provided ones will be ignored. To control these attributes directly provide a `generateChildId` prop to the parent `<TabContainer>`."),p.id=y.getPaneId(t),p["aria-labelledby"]=y.getTabId(t));const I=m.jsx("div",{...p,role:"tabpanel","aria-hidden":!b,className:A(e,j)});if(K){const B=a&&a.exiting;return m.jsx(K,{in:b&&!B,onEnter:_(this.handleEnter,l),onEntering:s,onEntered:i,onExit:o,onExiting:d,onExited:_(this.handleExited,x),mountOnEnter:U,unmountOnExit:$,children:I})}return I}}C.propTypes=Z;C.contextTypes=nn;C.childContextTypes=tn;const T=R("tab-pane",C),en={...T.propTypes,disabled:n.bool,title:n.node,tabClassName:n.string};class E extends c.Component{render(){const t={...this.props};return delete t.title,delete t.disabled,delete t.tabClassName,m.jsx(T,{...t})}}E.propTypes=en;E.Container=J;E.Content=Y;E.Pane=T;export{E as T};
