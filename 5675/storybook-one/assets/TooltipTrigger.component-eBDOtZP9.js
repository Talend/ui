import{r as f,b as R,j as m,R as v,c as O,P as c}from"./iframe-Fv_vVGZN.js";const j={"tc-tooltip":"_tc-tooltip_hjy63_2","tc-tooltip-container":"_tc-tooltip-container_hjy63_5","tc-tooltip-body":"_tc-tooltip-body_hjy63_12","tc-tooltip-top":"_tc-tooltip-top_hjy63_31","tc-tooltip-bottom":"_tc-tooltip-bottom_hjy63_32","tc-tooltip-right":"_tc-tooltip-right_hjy63_40","tc-tooltip-left":"_tc-tooltip-left_hjy63_41","tc-tooltip-right-bottom":"_tc-tooltip-right-bottom_hjy63_42","tc-tooltip-left-bottom":"_tc-tooltip-left-bottom_hjy63_43","tc-tooltip-top-left":"_tc-tooltip-top-left_hjy63_56","tc-tooltip-top-right":"_tc-tooltip-top-right_hjy63_57","tc-tooltip-bottom-right":"_tc-tooltip-bottom-right_hjy63_87","tc-tooltip-bottom-left":"_tc-tooltip-bottom-left_hjy63_88"};let _;const S=(t=600)=>{const[o,l]=f.useState(!1);return[o,()=>{_&&clearTimeout(_),_=setTimeout(()=>{l(!0)},t)},()=>{clearTimeout(_),l(!1)}]},U=300,k=50;function A(t,o,l){const{top:h,right:g,bottom:a,left:y}=o,{tooltipHeight:p,tooltipWidth:s}=l,{innerWidth:d,innerHeight:b}=window;let i=t;return a+p>b?["left","right"].includes(t)?i=`${t}-bottom`:t==="bottom"&&(i="top"):h-p<0&&t==="top"&&(i="bottom"),y-s/2<0?["top","bottom"].includes(t)?i=`${i}-right`:t==="left"&&(i=i.replace("left","right")):g+s/2>d&&(["top","bottom"].includes(t)?i=`${i}-left`:t==="right"&&(i=i.replace("right","left"))),i}function H(t,o){if(t.startsWith("bottom"))return o.bottom;if(["left","right"].includes(t))return(o.top+o.bottom)/2}function K(t,o,l){if(t==="top-right"||t==="bottom-right")return(o.left+o.right)/2;if(t==="top-left"||t==="bottom-left")return(o.left+o.right)/2-l;if(t.includes("left"))return`calc(${Math.trunc(o.left)}px - ${Math.trunc(l)}px)`;if(t.includes("right"))return Math.trunc(o.right);if(["top","bottom"].includes(t))return(o.left+o.right)/2}function L(t,o){if(t==="top"||t==="top-right"||t==="top-left")return`calc(100vh - ${Math.trunc(o.top)}px)`;if(t==="right-bottom"||t==="left-bottom")return`calc(100vh - ${Math.trunc((o.top+o.bottom)/2)}px)`}function x({children:t,"data-test":o,label:l,className:h,tooltipDelay:g,tooltipPlacement:a="right",tooltipHeight:y=k,tooltipWidth:p=U}){const s=f.useRef(),[d,b,i]=S(g),[T]=f.useState(R()),{props:r}=t;function F(){if(!s||!s.current)return{tooltipPlacement:a};let e;try{e=v.findDOMNode(s.current).getBoundingClientRect()}catch{e={}}const n=A(a,e,{tooltipHeight:y,tooltipWidth:p});return{placement:n,style:{top:H(n,e),left:K(n,e,p),bottom:L(n,e)}}}const $=(...e)=>{b(),r.onFocus&&r.onFocus(...e)},E=(...e)=>{i(),r.onBlur&&r.onBlur(...e)},C=(...e)=>{i(),r.onKeyPress&&r.onKeyPress(...e)},D=(...e)=>{b(),r.onMouseOver&&r.onMouseOver(...e)},N=(...e)=>{i(),r.onMouseOut&&r.onMouseOut(...e)},w=(...e)=>{i(),r.onClick&&r.onClick(...e)},{placement:M,style:B}=F();return m.jsxs(f.Fragment,{children:[f.Children.map(t,e=>f.cloneElement(e,{"aria-describedby":T,onFocus:$,onBlur:E,onKeyPress:C,onMouseOver:D,onMouseOut:N,onClick:w,ref:n=>{s.current=n;const{ref:u}=e;typeof u=="function"?u(n):u&&(u.current=n)}})),d&&v.createPortal(m.jsx("div",{className:O(j["tc-tooltip-container"],"tc-tooltip-container",h),style:B,role:"tooltip",children:m.jsx("div",{id:T,className:O(j["tc-tooltip-body"],j[`tc-tooltip-${M}`],"tc-tooltip-body",`tc-tooltip-${M}`),"data-test":o,children:l})}),document.body)]})}x.displayName="TooltipTrigger";x.propTypes={"data-test":c.string,label:c.oneOfType([c.string,c.element]),tooltipPlacement:c.oneOf(["top","right","bottom","left"]),tooltipHeight:c.number,tooltipWidth:c.number,tooltipDelay:c.number,children:c.element,className:c.string};export{x as T};
