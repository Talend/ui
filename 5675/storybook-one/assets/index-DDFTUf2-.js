import{j as c,r as p}from"./iframe-B9f9Cci2.js";const y=0,m=Number.POSITIVE_INFINITY;function a(t){t&&t.focus()}function w(t){return t.querySelectorAll("td > button[data-value]")}function P(t,e){const r=w(t),o=e>=0?e:r.length+e;return r[o]}function l(t,e=0){const r=w(t);e===y||e<0?a(r[0]):e===m||e>r.length-1?a(r[r.length-1]):a(r[e])}function h(t,e,r){const o=w(t);e<0?r.goToPreviousMonth(()=>{a(P(t,e))}):e>o.length-1?r.goToNextMonth(()=>{a(P(t,e-o.length))}):a(o[e])}function te(t){let e=t.querySelector('td[aria-current="date"] > button');e||(e=t.querySelector("td > button[disabled=false]")),e||(e=t.querySelector("td > button[data-value]")),e&&e.focus()}function k(t){const e=t.closest('[role="list"]');return e?e.querySelectorAll('[role="listitem"]'):new NodeList}function N(t,e){let r,o,n;const i=k(t),s=i.values();if(e&&t===i.item(i.length-1))return i.item(0);do{const{value:u,done:g}=s.next();o?(r=u,n=!1):(o=u===t,n=!g)}while(n);return r}function K(t,e){let r,o;const n=k(t),i=n.values();if(e&&t===n.item(0))return n.item(n.length-1);do{const{value:s,done:u}=i.next();s===t?o=!1:(r=s,o=!u)}while(o);return r}function S(t,e,r){switch(t.key){case"Down":case"ArrowDown":t.stopPropagation(),t.preventDefault(),a(N(e,r));break;case"Up":case"ArrowUp":t.stopPropagation(),t.preventDefault(),a(K(e,r));break}}function x(t,e=!1){function r(o){return c.jsx(t,{...o,onKeyDown:(n,i)=>S(n,i,e)})}return r.displayName=`ListGesture(${t.displayName})`,r}function _(t,e,r){return(e=$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $(t){var e=j(t,"string");return typeof e=="symbol"?e:e+""}function j(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b(t){const e=t.closest('ul[role="tree"]');return e?e.querySelectorAll('li[role="treeitem"]'):null}function I(t){const e=t.closest('ul[role="tree"]');return e?e.querySelector('li[role="treeitem"]'):null}function E(t){const e=b(t);return e&&e.length>0?e.item(e.length-1):null}function G(t){const e=t.parentElement;return e?e.closest('li[role="treeitem"]'):null}function L(t){return t.querySelector('li[role="treeitem"]')}function T(t){var e;let r=null,o,n;const i=(e=b(t))===null||e===void 0?void 0:e.values();if(!i)return r;do{const{value:s,done:u}=i.next();o?(r=s,n=!1):(o=s===t,n=!u)}while(n);return r}function U(t){var e;let r=null,o;const n=(e=b(t))===null||e===void 0?void 0:e.values();if(!n)return r;do{const{value:i,done:s}=n.next();i===t?o=!1:(r=i,o=!s)}while(o);return r}function O(t){var e;return e=class extends p.Component{constructor(o){super(o),this.onKeyDown=this.onKeyDown.bind(this)}onKeyDown(o,n,i){const{hasChildren:s,isOpened:u,siblings:g}=i;switch(o.key){case"Enter":case" ":case"Spacebar":o.stopPropagation(),this.props.onSelect(o,i);break;case"Left":case"ArrowLeft":s&&u?(o.stopPropagation(),this.props.onToggle(o,i)):(!s||!u)&&(o.stopPropagation(),a(G(n)));break;case"Right":case"ArrowRight":s&&!u?(o.stopPropagation(),this.props.onToggle(o,i)):s&&u&&(o.stopPropagation(),a(L(n)));break;case"Down":case"ArrowDown":o.stopPropagation(),a(T(n));break;case"Up":case"ArrowUp":o.stopPropagation(),a(U(n));break;case"Home":o.stopPropagation(),a(I(n));break;case"End":o.stopPropagation(),a(E(n));break}(o.nativeEvent.key==="*"||o.nativeEvent.key==="Multiply")&&(o.stopPropagation(),this.props.onToggleAllSiblings(o,g))}render(){const o={...this.props};return o.onKeyDown=this.onKeyDown,c.jsx(t,{...o})}},_(e,"displayName",`TreeGesture(${t.displayName})`),e}function C(t,e,r){return(e=R(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R(t){var e=M(t,"string");return typeof e=="symbol"?e:e+""}function M(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q(t){return t.querySelectorAll("li > button")}function f(t,e){const r=q(t)[e];a(r)}function H(t,{index:e,size:r},o){const n=e-1;n<0&&r&&o(()=>{f(t,r-1)}),f(t,n)}function F(t,{index:e,size:r},o){const n=e+1;r&&n>=r&&o(()=>{f(t,0)}),f(t,n)}function V(t,{index:e},r){r(()=>f(t,e))}function Y(t,{index:e},r){r(()=>f(t,e))}class B extends p.Component{constructor(e){super(e),C(this,"myRef",p.createRef()),this.onKeyDown=this.onKeyDown.bind(this)}onKeyDown(e,r){var o,n,i,s;switch(e.key){case"Up":case"ArrowUp":e.preventDefault(),e.stopPropagation(),(o=this.myRef)!==null&&o!==void 0&&o.current&&H(this.myRef.current,r,this.props.goToPreviousPage);break;case"Down":case"ArrowDown":e.preventDefault(),e.stopPropagation(),(n=this.myRef)!==null&&n!==void 0&&n.current&&F(this.myRef.current,r,this.props.goToNextPage);break;case"PageUp":e.preventDefault(),e.stopPropagation(),(i=this.myRef)!==null&&i!==void 0&&i.current&&V(this.myRef.current,r,this.props.goToPreviousPage);break;case"PageDown":e.preventDefault(),e.stopPropagation(),(s=this.myRef)!==null&&s!==void 0&&s.current&&Y(this.myRef.current,r,this.props.goToNextPage);break}}render(){return c.jsx("div",{ref:this.myRef,className:this.props.className,children:this.props.children(this.onKeyDown)})}}function A(t){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","PageUp","PageDown","Left","Right","Up","Down"].includes(t.key)&&t.preventDefault()}function d(t,e,r){return(e=J(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J(t){var e=Q(t,"string");return typeof e=="symbol"?e:e+""}function Q(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D(t,e,r){r(()=>{l(t,e)})}function X(t){var e;return e=class extends p.Component{constructor(o){super(o),d(this,"ref",p.createRef()),this.onKeyDown=this.onKeyDown.bind(this)}onKeyDown(o,n,i){switch(o.key){case"Left":case"ArrowLeft":o.stopPropagation(),h(n,i-1,this.props);break;case"Right":case"ArrowRight":o.stopPropagation(),h(n,i+1,this.props);break;case"Up":case"ArrowUp":o.stopPropagation(),h(n,i-7,this.props);break;case"Down":case"ArrowDown":o.stopPropagation(),h(n,i+7,this.props);break;case"Home":o.stopPropagation(),l(n,y);break;case"End":o.stopPropagation(),l(n,m);break;case"PageUp":o.stopPropagation(),D(n,i,this.props.goToPreviousMonth);break;case"PageDown":o.stopPropagation(),D(n,i,this.props.goToNextMonth);break}}render(){return c.jsx("div",{ref:this.ref,onKeyDown:A,children:c.jsx(t,{...this.props,onKeyDown:this.onKeyDown})})}},d(e,"displayName",`CalendarGesture(${t.displayName})`),e}function v(t,e,r){return(e=Z(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z(t){var e=W(t,"string");return typeof e=="symbol"?e:e+""}function W(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z(t,e){var r;return r=class extends p.Component{constructor(n){super(n),v(this,"ref",p.createRef()),this.onKeyDown=this.onKeyDown.bind(this)}onKeyDown(n,i,s){switch(n.key){case"Left":case"ArrowLeft":n.stopPropagation(),l(i,s-1);break;case"Right":case"ArrowRight":n.stopPropagation(),l(i,s+1);break;case"Up":case"ArrowUp":n.stopPropagation(),l(i,s-e);break;case"Down":case"ArrowDown":n.stopPropagation(),l(i,s+e);break;case"Home":n.stopPropagation(),l(i,y);break;case"End":n.stopPropagation(),l(i,m);break}}render(){return c.jsx("div",{ref:this.ref,onKeyDown:A,children:c.jsx(t,{...this.props,onKeyDown:this.onKeyDown})})}},v(r,"displayName",`MonthCalendarGesture(${t.displayName})`),r}const ie={withMonthCalendarGesture:z,withListGesture:x,withTreeGesture:O,WithDynamicListGesture:B,withCalendarGesture:X};export{ie as G,te as f};
