import{j as a,a0 as I,r as u,a9 as R,P as e,u as g,K as j,Y as D}from"./iframe-BBf9rzxA.js";import{a as P}from"./translate-DcFpjhI3.js";import{I as O}from"./constants-CZYEPhht.js";import{C as M}from"./ColumnChooser.component-ClAQPVzX.js";import{O as v,P as B}from"./Popover-f2TN8igf.js";const d={TABLE:"table",LARGE:"large"},k={ASC:"ASC",DESC:"DESC"},K=Object.freeze(Object.defineProperty({__proto__:null,DISPLAY_MODE:d,SORT:k},Symbol.toStringTag,{value:"Module"})),q=[d.TABLE,d.LARGE];function N(t,o){switch(t){case"table":return o("LIST_SELECT_DISPLAY_MODE_TABLE",{defaultValue:"Table"});case"large":return o("LIST_SELECT_DISPLAY_MODE_LARGE",{defaultValue:"Expanded"});default:return t}}const h=u.memo(({displayMode:t,displayModeOption:o,icon:c,id:n,label:r,onSelect:l})=>a.jsx(R,{id:`${n}-${t}`,tooltipPlacement:"top-end",icon:c,isActive:t===o,size:"S",onClick:s=>{l(s,t)},children:r},t));function p({id:t,displayModes:o,onChange:c,mode:n,t:r}){const l=o||q;return a.jsx(I,{gap:"XS",padding:{x:"S",y:0},children:l.map(s=>a.jsx(h,{id:t,icon:s==="table"?"talend-table":"talend-expanded",label:r("LIST_SELECT_DISPLAY_MODE",{defaultValue:"Set {{displayMode}} as current display mode.",displayMode:N(s,r)}),onSelect:c,displayMode:s,displayModeOption:n},s))})}p.propTypes={id:e.string,mode:e.string,displayModes:e.arrayOf(e.string),onChange:e.func.isRequired,t:e.func};h.propTypes={...p.propTypes};p.defaultProps={t:P()};function V({children:t,columns:o,initialFilterValue:c,id:n,initialOpenedPopover:r,placement:l="left",nbLockedLeftItems:s,onSubmit:i,buttonRenderer:b}){const{t:m}=g(O),[f,S]=u.useState(r||!1),[E,L]=u.useState(null),_=()=>S(!f),T=()=>S(!1),C=(x,A)=>{i(x,A),T()},y=b||j;return a.jsxs(u.Fragment,{children:[a.jsx(y,{icon:"talend-column-chooser",ref:L,"data-feature":"column-chooser.open",id:`${n}-button`,onClick:_,size:"S",children:m("COLUMN_CHOOSER_OVERLAY_BUTTON","Open the column chooser")}),a.jsx(v,{id:`${n}-overlay`,onHide:T,placement:l,rootClose:!0,show:f,target:E,children:a.jsx(B,{id:`${n}-popover`,children:t||a.jsx(M,{columnsFromList:o,initialFilterValue:c,id:n,nbLockedLeftItems:s,onSubmit:C,t:m})})})]})}V.propTypes={children:e.oneOfType([e.element,e.arrayOf(e.element)]),columns:e.array.isRequired,id:e.string.isRequired,initialFilterValue:e.string,initialOpenedPopover:e.bool,nbLockedLeftItems:e.number,placement:e.oneOf(["top","bottom","right","left"]),onSubmit:e.func.isRequired,buttonRenderer:e.func};const Y="_container_1xlva_1",$={container:Y};function z({id:t,items:o,isSelected:c,onToggleAll:n}){const r=()=>o.length>0&&o.findIndex(i=>!c(i))<0,l=t&&`${t}-check-all`,{t:s}=g(O);return a.jsx("form",{className:$.container,"data-testId":t,children:a.jsx(D.Checkbox,{name:l,id:l,onChange:i=>{n(i,o)},checked:r(),disabled:!o.length,label:s("LIST_SELECT_ALL",{defaultValue:"Select all"})})})}z.propTypes={id:e.string,items:e.arrayOf(e.object).isRequired,isSelected:e.func.isRequired,onToggleAll:e.func.isRequired};export{V as C,p as D,k as S,d as a,z as b,K as c,q as d};
