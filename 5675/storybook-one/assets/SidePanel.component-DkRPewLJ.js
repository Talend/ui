import{r as v,b as we,j as t,c as T,$ as Te,a0 as xe,T as Z,P as e,a1 as ne,I as ge,a2 as be,a3 as je,a4 as Ne}from"./iframe-tG6QAxGp.js";import{I as p}from"./OverlayTrigger.component-DGPJQ8lB.js";import{T as k}from"./TabBar.component-rWX-3BWp.js";import{o as V}from"./omit-CRo6-3gC.js";import{r as X}from"./index-lfDkKVxQ.js";import{g as O}from"./get-DE0l8-4q.js";import{n as ye}from"./noop-Cd9RwCW8.js";import{A as ae}from"./ActionBar.component-fIvNO9IS.js";import{A as $}from"./Action.component-XcQ2WTii.js";import{E as Se}from"./EditableText.component-N8K7Vhuu.js";import{g as Ee}from"./theme-CbiPqX1n.js";import{I as re}from"./constants-CZYEPhht.js";import{a as ve}from"./translate-Dz4hh4kd.js";import{w as se}from"./withTranslation-CB2voPv-.js";import{A as Ce}from"./ActionList.component-DedBVWz9.js";const Ae="_main_brrns_2",ke={main:Ae},D={"tc-drawer":"_tc-drawer_1dhlg_1","tc-drawer-container":"_tc-drawer-container_1dhlg_22","tc-drawer-tabs-container":"_tc-drawer-tabs-container_1dhlg_28","tc-drawer-actionbar":"_tc-drawer-actionbar_1dhlg_33","drawer-stacked":"_drawer-stacked_1dhlg_37","tc-drawer-header":"_tc-drawer-header_1dhlg_41","tc-drawer-header-menu":"_tc-drawer-header-menu_1dhlg_52","tc-drawer-header-title":"_tc-drawer-header-title_1dhlg_60","tc-editable-text":"_tc-editable-text_1dhlg_46","tc-drawer-close-action":"_tc-drawer-close-action_1dhlg_84","drawer-close-action-tooltip":"_drawer-close-action-tooltip_1dhlg_89","tc-drawer-header-subtitle":"_tc-drawer-header-subtitle_1dhlg_94","tc-drawer-header-with-tabs":"_tc-drawer-header-with-tabs_1dhlg_98","tc-drawer-content":"_tc-drawer-content_1dhlg_102","tc-drawer-content-wrapper":"_tc-drawer-content-wrapper_1dhlg_107","tc-drawer-footer":"_tc-drawer-footer_1dhlg_113","tc-drawer-actionbar-container":"_tc-drawer-actionbar-container_1dhlg_114"},f=Ee(D),Oe=350,De={entering:{transform:"translateX(0%)"},entered:{transform:"translateX(0%)"},exiting:{transform:"translateX(100%)"},exited:{transform:"translateX(100%)"}};function B(n){const{children:a,withTransition:r,...s}=n,o=r?Oe:0;return t.jsx(X.Transition,{in:!0,appear:!0,timeout:r?500:0,...s,children:i=>{const c={transition:`transform ${o}ms ease-in-out`,transform:"translateX(100%)",...De[i]};return a({style:c,transitioned:i==="entered",transitionState:i})}})}B.propTypes={children:e.func,withTransition:e.bool,onTransitionComplete:e.func};B.defaultProps={withTransition:!0,onTransitionComplete:()=>{}};function G({drawerId:n,stacked:a,className:r,children:s,withTransition:o=!0,...i}){const c=f(r,"tc-drawer",{"tc-drawer-transition":o},{[D["drawer-stacked"]]:a,stacked:a});return t.jsx("div",{className:c,role:"dialog","aria-labelledby":n,...i,children:t.jsx("div",{className:T("tc-drawer-container",D["tc-drawer-container"]),children:s})})}G.propTypes={drawerId:e.string,stacked:e.bool,withTransition:e.bool,className:e.string,children:e.node.isRequired};function Ie(n,a){if(!n)return null;const r=p.get(a,"Action",$),s={icon:"talend-cross",hideLabel:!0,link:!0,...n};return t.jsx(r,{...s,className:f("tc-drawer-close-action",s.className),tooltipClassName:D["drawer-close-action-tooltip"]})}function Le(n,a,r="default"){return a?t.jsx(xe,{placement:"top",title:a,children:t.jsx(Z,{variant:r,children:n})}):t.jsx(Z,{children:n})}function oe({subtitle:n,...a}){if(!n||!n.length)return null;const{subtitleTag:r}=a;return t.jsx("div",{className:f("tc-drawer-header-subtitle"),children:t.jsxs(Te,{gap:"XS",align:"center",children:[t.jsx("h2",{title:n,children:n}),r&&r.label&&Le(r.label,r.tooltip,r.variant)]})})}oe.propTypes={subtitle:e.string,subtitleTag:e.shape({label:e.string,tooltip:e.string,variant:e.oneOf(ne)})};function K({title:n,subtitle:a,drawerId:r,children:s,onCancelAction:o,getComponent:i,editable:c,inProgress:l,subtitleTag:x,onEdit:h,onSubmit:d,onCancel:_,renderTitleActions:N=ye,...y}){const[S,g]=v.useState(!1);function m(...u){g(!0),h&&h(...u)}function w(...u){g(!1),_&&_(...u)}function E(...u){g(!1),d&&d(...u)}if(!n&&!s)return null;const b=p.get(i,"EditableText",Se);return t.jsxs("div",{className:f("tc-drawer-header"),children:[t.jsxs("div",{className:f("tc-drawer-header-menu"),children:[t.jsxs("div",{className:f("tc-drawer-header-title"),children:[c?t.jsx(b,{id:r,text:n,inProgress:l,feature:"drawertitle.rename",componentClass:"h1",onEdit:m,onCancel:w,onSubmit:E,editMode:S,...y}):t.jsx("h1",{id:r,title:n,children:n}),S?null:t.jsx(oe,{subtitle:a,subtitleTag:x})]}),N(),Ie(o,i)]}),t.jsx("div",{className:f("tc-drawer-header-with-tabs"),children:s})]})}K.propTypes={drawerId:e.string,title:e.string.isRequired,subtitle:e.string,onCancelAction:e.shape($.propTypes),children:e.node,getComponent:e.func,renderTitleActions:e.func,editable:e.bool,inProgress:e.bool,subtitleTag:e.shape({label:e.string,tooltip:e.string,variant:e.oneOf(ne)}),onEdit:e.func,onSubmit:e.func,onCancel:e.func};function q({children:n,className:a,...r}){return t.jsx("div",{className:f("tc-drawer-content",a),"data-drawer-content":!0,...r,children:t.jsx("div",{className:f("tc-drawer-content-wrapper"),children:n})})}q.propTypes={children:e.node,className:e.string};function ie({children:n}){return t.jsx("div",{className:f("tc-drawer-footer"),children:n})}ie.propTypes={children:e.node};function Pe(n,a,r={}){const s={...V(a,"actions")};return s.actions={},["left","center","right"].forEach(o=>{s.actions[o]=[...O(a,`actions.${o}`,[]),...O(r,`actions.${o}`,[])]}),n&&!n.hideInFooter&&s.actions.left.unshift(n),s}function j({stacked:n,title:a,className:r,style:s,children:o,footerActions:i,onCancelAction:c,tabs:l,withTransition:x,getComponent:h,selectedTabKey:d,editableTitle:_,renderTitleActions:N}){const[y]=v.useState(we());if(!o)return null;const S=p.get(h,"TabBar",k);let g={},m=[],w;l&&l.items.length>0&&(w={...l,items:l.items&&l.items.map(({footerActions:u,...C})=>C)},d&&(w.selectedKey=d,g=l.items.find(u=>u.key===d)),m=O(g,"footerActions",{}));const E=Pe(c,i,m),b=Object.values(E.actions).some(u=>!!u.length);return t.jsxs(G,{stacked:n,className:r,style:s,drawerId:y,withTransition:x,children:[t.jsx(K,{drawerId:y,renderTitleActions:N,editable:_,title:a,onCancelAction:c,getComponent:h}),l&&t.jsx("div",{className:f("tc-drawer-tabs-container"),children:t.jsx(S,{...w,className:f("tc-drawer-tabs")})}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",flexGrow:1,overflow:"hidden"},children:[t.jsx(q,{children:o}),b&&t.jsx("div",{className:f("tc-drawer-actionbar-container"),children:t.jsx(ae,{...E,className:f("tc-drawer-actionbar")})})]})]})}j.displayName="Drawer";j.propTypes={stacked:e.bool,title:e.string,editableTitle:e.bool,children:e.node,style:e.object,className:e.string,footerActions:e.shape(ae.propTypes),onCancelAction:e.shape($.propTypes),tabs:e.shape(k.propTypes),withTransition:e.bool,renderTitleActions:e.func,getComponent:e.func,selectedTabKey:e.string};j.defaultProps={withTransition:!0};j.Animation=B;j.Container=G;j.Title=K;j.Content=q;j.Footer=ie;j.FooterStyle=D["tc-drawer-footer"];const ee={"tc-with-drawer":"_tc-with-drawer_uvold_2","tc-with-drawer-container":"_tc-with-drawer-container_uvold_10"};function W({drawers:n,children:a,...r}){return t.jsxs("div",{className:ee["tc-with-drawer"],children:[a,t.jsx(X.TransitionGroup,{className:ee["tc-with-drawer-container"],...r,children:n&&n.map((s,o)=>t.jsx(j.Animation,{withTransition:O(s,"props.withTransition",!0)&&O(s,"props.route.state.withTransition"),children:({style:i,...c})=>t.jsx("div",{className:"tc-with-drawer-wrapper",style:i,children:v.cloneElement(s,c)})},O(s,"props.route.path",o)))})]})}W.displayName="WithDrawer";W.propTypes={drawers:e.arrayOf(e.element),children:e.node,...X.TransitionGroup.propTypes};function R({drawers:n,children:a,tabs:r,...s}){const o=T("tc-layout-one-column",ke.main),i={overflow:"auto",height:"100%",display:"flex",flexDirection:"column"};return t.jsx("div",{role:"main",id:"tc-layout-main",tabIndex:"-1",className:o,...V(s,"getComponent"),children:t.jsxs(W,{drawers:n,children:[r&&t.jsx(k,{...r}),t.jsx("div",{style:i,children:a})]})})}R.displayName="OneColumn";R.propTypes={children:e.node,drawers:e.arrayOf(e.node),tabs:e.shape(k.propTypes)};const Me="_container_10u5j_2",Re="_sidemenu_10u5j_9",$e="_main_10u5j_18",H={container:Me,sidemenu:Re,main:$e};function Y({one:n,drawers:a,children:r,tabs:s,getComponent:o,...i}){const c=T("tc-layout-two-columns",H.container),l=T("tc-layout-two-columns-left",H.sidemenu),x=T("tc-layout-two-columns-main",H.main),h={overflow:"auto",height:"100%",display:"flex",flexDirection:"column"},d=p.getReactElement(o,n);return t.jsxs("div",{className:c,...V(i,"getComponents"),children:[t.jsx("div",{className:l,id:"tc-layout-side-menu",tabIndex:"-1",children:d}),t.jsx("div",{className:x,role:"main",id:"tc-layout-main",tabIndex:"-1",children:t.jsxs(W,{drawers:a,children:[s&&t.jsx(k,{...s}),t.jsx("div",{style:h,children:r})]})})]})}Y.displayName="TwoColumns";Y.propTypes={one:p.getReactElement.propTypes,children:e.node,drawers:e.arrayOf(e.node),tabs:e.shape(k.propTypes),getComponent:e.func};const We="_icon_gd22r_22",Fe="_text_gd22r_28",U={"tc-skip-links":"_tc-skip-links_gd22r_2",icon:We,text:Fe};function te({href:n,label:a}){return t.jsxs("a",{href:n,children:[t.jsx("span",{className:U.icon,children:t.jsx(ge,{transform:be.Rotate270,name:"talend-arrow-left"})}),t.jsx("span",{className:U.text,children:a})]})}function ce({mainId:n,navigationId:a,t:r}){return t.jsx("nav",{className:U["tc-skip-links"],"aria-label":r("SKIP_LINKS",{defaultValue:"Skip links"}),children:t.jsxs("ul",{children:[a&&t.jsx("li",{children:t.jsx(te,{href:a,label:r("SKIP_TO_NAV",{defaultValue:"Skip to navigation"})})},"navigation"),t.jsx("li",{children:t.jsx(te,{href:n,label:r("SKIP_TO_MAIN",{defaultValue:"Skip to main content"})})},"main")]})})}ce.defaultProps={t:ve()};const He=se(re)(ce),Ue="_layout_vb8eo_2",Ve="_header_vb8eo_11",Xe="_footer_vb8eo_14",M={layout:Ue,"skip-links":"_skip-links_vb8eo_8",header:Ve,footer:Xe},I={ONE_COLUMN:"OneColumn",TWO_COLUMNS:"TwoColumns"},Be=["portal","tdc","tdp","tds","tfd","tmc","mdm"],le="t7";function L({id:n,header:a,subHeader:r,content:s,footer:o,mode:i,drawers:c,tabs:l,hasTheme:x,theme:h,children:d,getComponent:_,...N}){const y=T("tc-layout",M.layout,x&&le),S=T("tc-layout-header",M.header),g=T("tc-layout-footer",M.footer);let m,w;switch(i){case I.ONE_COLUMN:m=R;break;case I.TWO_COLUMNS:m=Y,w="#tc-layout-side-menu";break;default:m=R}const E=p.getReactElement(_,c),b=p.getReactElement(_,a),u=p.getReactElement(_,r),C=p.getReactElement(_,s),P=p.getReactElement(_,o);return t.jsx(je,{theme:h,children:t.jsxs("div",{id:n,className:y,children:[t.jsx("div",{className:M["skip-links"],children:t.jsx(He,{navigationId:w,mainId:"#tc-layout-main"})}),b&&t.jsx("header",{role:"banner",className:S,children:b},"banner"),u&&t.jsx("div",{className:"subheader",children:u},"subheader"),t.jsxs(m,{drawers:E,tabs:l,getComponent:_,...N,children:[C,d]},"main"),P&&t.jsx("footer",{role:"contentinfo",className:g,children:P},"footer")]})})}L.displayName="Layout";L.propTypes={id:e.string,header:p.getReactElement.propTypes,content:p.getReactElement.propTypes,footer:p.getReactElement.propTypes,subHeader:p.getReactElement.propTypes,mode:e.oneOf([I.ONE_COLUMN,I.TWO_COLUMNS]),drawers:e.arrayOf(e.element),tabs:e.shape(k.propTypes),hasTheme:e.bool,theme:e.string,children:e.node,getComponent:e.func};L.DISPLAY_MODES=I;L.TALEND_T7_THEME_APPS=Be;L.TALEND_T7_THEME_CLASSNAME=le;const Ge="_animate_13ajb_20",Ke="_docked_13ajb_107",qe="_large_13ajb_123",Ye="_reverse_13ajb_151",A={"tc-side-panel":"_tc-side-panel_13ajb_4",animate:Ge,"action-list-container":"_action-list-container_13ajb_23","toggle-btn":"_toggle-btn_13ajb_73",docked:Ke,large:qe,reverse:Ye},de="3.75rem",me="4.375rem";function ze(n,a){if(n&&a)return me;if(n)return de}function z({backgroundIcon:n,id:a,selected:r,onSelect:s,actions:o,getComponent:i,components:c,docked:l,reverse:x,minimised:h,large:d,dockable:_,onToggleDock:N,t:y}){const[S,g]=v.useState(l),m=N?l:S,[w,E]=v.useState(()=>ze(m,d)),[b,u]=v.useState(!1),C=v.createRef();v.useLayoutEffect(()=>{if(m||h)E(d?me:de);else if(C){const F=C.current.querySelector(".tc-action-list");E(F.offsetWidth)}},[C,m,h,d]),v.useEffect(()=>{!b&&w&&u(!0)},[b,w]);const P=(...F)=>{N?N(...F):g(!S)},J=p.all(i,c),pe=T(A["tc-side-panel"],"tc-side-panel",{docked:m,[A.docked]:m||h,large:d,[A.large]:d,reverse:x,[A.reverse]:x,[A.animate]:b}),ue=T(A["tc-side-panel-list"],"tc-side-panel-list"),he=y("SIDEPANEL_EXPAND",{defaultValue:"Expand menu"}),fe=y("SIDEPANEL_COLLAPSE",{defaultValue:"Collapse menu"}),_e=m?he:fe,Q=p.getAll(i,{Action:$,ActionList:Ce});return t.jsxs("nav",{id:a,className:pe,role:"navigation",ref:C,style:{width:w},children:[n&&t.jsx("style",{children:`#${a}::before {
						content: '';
						position: absolute;
						left: 0;
						bottom: -50px;
						height: 19.375rem;
						width: 19.375rem;
						background-repeat: no-repeat;
						opacity: 0.1;
						background-color: ${Ne.coralColorBrandIcon};
						mask-image: url('${n}');
						-webkit-mask-image: url('${n}');
				}`}),_&&!h&&t.jsx("div",{className:T(A["toggle-btn"],"tc-side-panel-toggle-btn"),children:t.jsx(Q.Action,{id:a&&`${a}-toggle-dock`,bsStyle:"link",onClick:P,icon:"talend-opener","aria-controls":a,label:_e,tooltipPlacement:"right",hideLabel:!0})}),J("before-actions"),o&&t.jsx("div",{className:T(A["action-list-container"],"tc-side-panel-action-list-container"),children:t.jsx(Q.ActionList,{className:ue,onSelect:s,selected:r,actions:o,reverse:!x,id:a,isNav:!0})}),J("actions")]})}z.displayName="SidePanel";z.defaultProps={actions:[],reverse:!1,large:!1,dockable:!0,minimised:!1};const pt=se(re)(z);export{j as D,L,pt as S};
