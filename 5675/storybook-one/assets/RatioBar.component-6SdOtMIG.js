import{j as t,c as m}from"./iframe-DDbQPtEW.js";import{T as _}from"./Tooltip-DPsMlQ7F.js";const a={"tc-ratio-bar":"_tc-ratio-bar_lq1p8_1","tc-ratio-bar-counter":"_tc-ratio-bar-counter_lq1p8_8","tc-ratio-bar-line-error":"_tc-ratio-bar-line-error_lq1p8_12","tc-ratio-bar-line-filled":"_tc-ratio-bar-line-filled_lq1p8_13","tc-ratio-bar-line-empty":"_tc-ratio-bar-line-empty_lq1p8_14","tc-ratio-bar-line":"_tc-ratio-bar-line_lq1p8_11","tc-ratio-bar-line-grow":"_tc-ratio-bar-line-grow_lq1p8_34"},u=5;function p({percentage:r,tooltipLabel:e,className:i,value:s,dataFeature:c,onClick:n,dataTestId:o}){const d=r>=u;if(!s||s<0)return null;function x(l){switch(l.key){case"Enter":n?.(l);break;case" ":case"Spacebar":l.preventDefault(),l.stopPropagation(),n?.(l);break}}const b=t.jsx("div",{className:m(a["tc-ratio-bar-line"],{[a["tc-ratio-bar-line-grow"]]:d},i),tabIndex:0,style:{flexBasis:`${Math.max(r,u)}%`},"data-testid":o,"data-test":o,role:n&&"button","data-feature":c,onClick:n,onKeyDown:x,children:e&&t.jsx("span",{className:"sr-only",children:e})});return e?t.jsx(_,{title:e,placement:"bottom",children:b}):b}const f=({children:r})=>t.jsx("div",{className:a["tc-ratio-bar"],"data-testid":"ratio-bar",children:r}),j=({value:r,percentage:e})=>t.jsx(p,{percentage:e,value:r,className:a["tc-ratio-bar-line-filled"],dataTestId:"ratio-bar-filled"}),y=({value:r,percentage:e})=>t.jsx(p,{percentage:e,value:r,className:a["tc-ratio-bar-line-empty"],dataTestId:"ratio-bar-empty"}),h=({value:r,percentage:e})=>t.jsx(p,{percentage:e,value:r,className:a["tc-ratio-bar-line-error"],dataTestId:"ratio-bar-error"}),g=(r,e)=>!r||r<0?{percentage:0,amount:0}:r>e?{percentage:100,amount:r}:{percentage:r/e*100,amount:r},N=(r,e)=>!r||r<0?{percentage:100,amount:e}:r>e?{percentage:0,amount:0}:{percentage:(1-r/e)*100,amount:e-r},q=(r,e,i,s)=>!i&&i!==0?t.jsx("div",{className:a["tc-ratio-bar-counter"],"data-testid":"ratio-bar-counter",children:s||t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:"N"}),"/A"]})}):t.jsxs("div",{className:a["tc-ratio-bar-counter"],"data-testid":"ratio-bar-counter",children:[t.jsx("strong",{children:i+r}),"/",e]}),R=({amount:r,errors:e=0,hideLabel:i=!1,notApplicableLabel:s,total:c})=>{const n=g(r||0,c),o=g(e,c),d=N((r||0)+e,c);return t.jsxs(f,{children:[t.jsx(j,{percentage:n.percentage,value:n.amount}),t.jsx(h,{percentage:o.percentage,value:o.amount}),t.jsx(y,{percentage:d.percentage,value:d.amount}),!i&&q(e,c,r,s)]})};export{f as R,R as a,p as b};
