{
    "jsonSchema": {
        "properties": {
            "configuration": {
                "properties": {
                    "commonConfig": {
                        "properties": {
                            "fields": {
                                "default": [],
                                "items": {
                                    "enum": [
                                        "parent",
                                        "category",
                                        "made_sla",
                                        "watch_list",
                                        "upon_reject",
                                        "sys_updated_on",
                                        "approval_history",
                                        "number",
                                        "user_input",
                                        "sys_created_on",
                                        "delivery_plan",
                                        "impact",
                                        "active",
                                        "work_notes_list",
                                        "business_service",
                                        "priority",
                                        "sys_domain_path",
                                        "time_worked",
                                        "expected_start",
                                        "rejection_goto",
                                        "opened_at",
                                        "business_duration",
                                        "group_list",
                                        "work_end",
                                        "approval_set",
                                        "wf_activity",
                                        "work_notes",
                                        "short_description",
                                        "correlation_display",
                                        "delivery_task",
                                        "work_start",
                                        "assignment_group",
                                        "additional_assignee_list",
                                        "description",
                                        "calendar_duration",
                                        "close_notes",
                                        "sys_class_name",
                                        "closed_by",
                                        "follow_up",
                                        "contact_type",
                                        "urgency",
                                        "company",
                                        "reassignment_count",
                                        "activity_due",
                                        "assigned_to",
                                        "comments",
                                        "approval",
                                        "sla_due",
                                        "comments_and_work_notes",
                                        "due_date",
                                        "sys_mod_count",
                                        "sys_tags",
                                        "escalation",
                                        "upon_approval",
                                        "correlation_id",
                                        "location"
                                    ],
                                    "title": "Fields",
                                    "type": "string"
                                },
                                "title": "Fields",
                                "type": "array"
                            },
                            "tableName": {
                                "default": "incident",
                                "enum": [
                                    "change_request",
                                    "incident",
                                    "problem",
                                    "sc_cat_item",
                                    "sc_request"
                                ],
                                "title": "Table Name",
                                "type": "string"
                            }
                        },
                        "title": "commonConfig",
                        "type": "object"
                    },
                    "dataStore": {
                        "properties": {
                            "password": {
                                "title": "Password",
                                "type": "string"
                            },
                            "url": {
                                "title": "API URL",
                                "type": "string"
                            },
                            "username": {
                                "title": "Username",
                                "type": "string"
                            }
                        },
                        "title": "dataStore",
                        "type": "object"
                    },
                    "noResponseBody": {
                        "default": false,
                        "title": "Ignore response, Tell the server to not send the response, if you don't need it",
                        "type": "boolean"
                    },
                    "actionOnTable": {
                        "default": "Insert",
                        "enum": [
                            "Delete",
                            "Insert",
                            "Update"
                        ],
                        "title": "Action",
                        "type": "string"
                    }
                },
                "title": "configuration",
                "type": "object"
            }
        },
        "required": [],
        "title": "ServiceNowOutput",
        "type": "object"
    },
    "properties": {
        "configuration": {
            "commonConfig": {
                "fields": [],
                "tableName": "incident"
            },
            "dataStore": {},
            "noResponseBody": false,
            "actionOnTable": "Insert"
        }
    },
    "uiSchema": [
        {
            "conditions": [],
            "items": [
                {
                    "conditions": [],
                    "items": [
                        {
                            "conditions": [],
                            "items": [
                                {
                                    "conditions": [],
                                    "key": "configuration.dataStore.url",
                                    "placeholder": "ServiceNow instance url...",
                                    "required": false,
                                    "title": "API URL",
                                    "triggers": [
                                        {
                                            "action": "urlValidation",
                                            "family": "ServiceNow",
                                            "parameters": [
                                                {
                                                    "key": "arg0",
                                                    "path": "configuration.dataStore.url"
                                                }
                                            ],
                                            "type": "validation"
                                        }
                                    ],
                                    "widget": "text"
                                },
                                {
                                    "items": [
                                        {
                                            "conditions": [],
                                            "key": "configuration.dataStore.username",
                                            "placeholder": "username",
                                            "required": false,
                                            "title": "Username",
                                            "widget": "text"
                                        },
                                        {
                                            "conditions": [],
                                            "key": "configuration.dataStore.password",
                                            "placeholder": "password",
                                            "required": false,
                                            "title": "Password",
                                            "type": "password",
                                            "widget": "text"
                                        }
                                    ],
                                    "widget": "columns"
                                },
                                {
                                    "key": "button_healthcheck_configuration.dataStore",
                                    "title": "Validate Datastore",
                                    "triggers": [
                                        {
                                            "action": "basicAuth",
                                            "family": "ServiceNow",
                                            "parameters": [
                                                {
                                                    "key": "basicAuth.password",
                                                    "path": "configuration.dataStore.password"
                                                },
                                                {
                                                    "key": "basicAuth.url",
                                                    "path": "configuration.dataStore.url"
                                                },
                                                {
                                                    "key": "basicAuth.username",
                                                    "path": "configuration.dataStore.username"
                                                }
                                            ],
                                            "type": "healthcheck"
                                        }
                                    ],
                                    "widget": "button"
                                }
                            ],
                            "key": "configuration.dataStore",
                            "placeholder": "dataStore",
                            "required": false,
                            "title": "dataStore"
                        },
                        {
                            "items": [
                                {
                                    "conditions": [],
                                    "items": [
                                        {
                                            "conditions": [],
                                            "key": "configuration.commonConfig.tableName",
                                            "placeholder": "tableName",
                                            "required": false,
                                            "title": "Table Name",
                                            "titleMap": [
                                                {
                                                    "name": "SC request",
                                                    "value": "sc_request"
                                                },
                                                {
                                                    "name": "Problem",
                                                    "value": "problem"
                                                },
                                                {
                                                    "name": "SC cat item",
                                                    "value": "sc_cat_item"
                                                },
                                                {
                                                    "name": "Incident",
                                                    "value": "incident"
                                                },
                                                {
                                                    "name": "Change request",
                                                    "value": "change_request"
                                                }
                                            ],
                                            "widget": "datalist"
                                        }
                                    ],
                                    "key": "configuration.commonConfig",
                                    "placeholder": "commonConfig",
                                    "required": false,
                                    "title": "commonConfig"
                                },
                                {
                                    "conditions": [],
                                    "key": "configuration.actionOnTable",
                                    "placeholder": "actionOnTable",
                                    "required": false,
                                    "title": "Action",
                                    "titleMap": [
                                        {
                                            "name": "Delete",
                                            "value": "Delete"
                                        },
                                        {
                                            "name": "Update",
                                            "value": "Update"
                                        },
                                        {
                                            "name": "Insert",
                                            "value": "Insert"
                                        }
                                    ],
                                    "widget": "datalist"
                                }
                            ],
                            "widget": "columns"
                        }
                    ],
                    "key": "configuration",
                    "placeholder": "configuration",
                    "required": false,
                    "title": "Main"
                },
                {
                    "conditions": [],
                    "items": [
                        {
                            "conditions": [],
                            "key": "configuration.noResponseBody",
                            "placeholder": "noResponseBody",
                            "required": false,
                            "title": "Ignore response, Tell the server to not send the response, if you don't need it",
                            "widget": "toggle"
                        },
                        {
                            "conditions": [],
                            "items": [
                                {
                                    "conditions": [],
                                    "key": "configuration.commonConfig.fields",
                                    "placeholder": "fields",
                                    "required": false,
                                    "restricted": false,
                                    "title": "Fields",
                                    "titleMap": [
                                        {
                                            "name": "parent",
                                            "value": "parent"
                                        },
                                        {
                                            "name": "category",
                                            "value": "category"
                                        },
                                        {
                                            "name": "made_sla",
                                            "value": "made_sla"
                                        },
                                        {
                                            "name": "watch_list",
                                            "value": "watch_list"
                                        },
                                        {
                                            "name": "upon_reject",
                                            "value": "upon_reject"
                                        },
                                        {
                                            "name": "sys_updated_on",
                                            "value": "sys_updated_on"
                                        },
                                        {
                                            "name": "approval_history",
                                            "value": "approval_history"
                                        },
                                        {
                                            "name": "number",
                                            "value": "number"
                                        },
                                        {
                                            "name": "user_input",
                                            "value": "user_input"
                                        },
                                        {
                                            "name": "sys_created_on",
                                            "value": "sys_created_on"
                                        },
                                        {
                                            "name": "delivery_plan",
                                            "value": "delivery_plan"
                                        },
                                        {
                                            "name": "impact",
                                            "value": "impact"
                                        },
                                        {
                                            "name": "active",
                                            "value": "active"
                                        },
                                        {
                                            "name": "work_notes_list",
                                            "value": "work_notes_list"
                                        },
                                        {
                                            "name": "business_service",
                                            "value": "business_service"
                                        },
                                        {
                                            "name": "priority",
                                            "value": "priority"
                                        },
                                        {
                                            "name": "sys_domain_path",
                                            "value": "sys_domain_path"
                                        },
                                        {
                                            "name": "time_worked",
                                            "value": "time_worked"
                                        },
                                        {
                                            "name": "expected_start",
                                            "value": "expected_start"
                                        },
                                        {
                                            "name": "rejection_goto",
                                            "value": "rejection_goto"
                                        },
                                        {
                                            "name": "opened_at",
                                            "value": "opened_at"
                                        },
                                        {
                                            "name": "business_duration",
                                            "value": "business_duration"
                                        },
                                        {
                                            "name": "group_list",
                                            "value": "group_list"
                                        },
                                        {
                                            "name": "work_end",
                                            "value": "work_end"
                                        },
                                        {
                                            "name": "approval_set",
                                            "value": "approval_set"
                                        },
                                        {
                                            "name": "wf_activity",
                                            "value": "wf_activity"
                                        },
                                        {
                                            "name": "work_notes",
                                            "value": "work_notes"
                                        },
                                        {
                                            "name": "short_description",
                                            "value": "short_description"
                                        },
                                        {
                                            "name": "correlation_display",
                                            "value": "correlation_display"
                                        },
                                        {
                                            "name": "delivery_task",
                                            "value": "delivery_task"
                                        },
                                        {
                                            "name": "work_start",
                                            "value": "work_start"
                                        },
                                        {
                                            "name": "assignment_group",
                                            "value": "assignment_group"
                                        },
                                        {
                                            "name": "additional_assignee_list",
                                            "value": "additional_assignee_list"
                                        },
                                        {
                                            "name": "description",
                                            "value": "description"
                                        },
                                        {
                                            "name": "calendar_duration",
                                            "value": "calendar_duration"
                                        },
                                        {
                                            "name": "close_notes",
                                            "value": "close_notes"
                                        },
                                        {
                                            "name": "sys_class_name",
                                            "value": "sys_class_name"
                                        },
                                        {
                                            "name": "closed_by",
                                            "value": "closed_by"
                                        },
                                        {
                                            "name": "follow_up",
                                            "value": "follow_up"
                                        },
                                        {
                                            "name": "contact_type",
                                            "value": "contact_type"
                                        },
                                        {
                                            "name": "urgency",
                                            "value": "urgency"
                                        },
                                        {
                                            "name": "company",
                                            "value": "company"
                                        },
                                        {
                                            "name": "reassignment_count",
                                            "value": "reassignment_count"
                                        },
                                        {
                                            "name": "activity_due",
                                            "value": "activity_due"
                                        },
                                        {
                                            "name": "assigned_to",
                                            "value": "assigned_to"
                                        },
                                        {
                                            "name": "comments",
                                            "value": "comments"
                                        },
                                        {
                                            "name": "approval",
                                            "value": "approval"
                                        },
                                        {
                                            "name": "sla_due",
                                            "value": "sla_due"
                                        },
                                        {
                                            "name": "comments_and_work_notes",
                                            "value": "comments_and_work_notes"
                                        },
                                        {
                                            "name": "due_date",
                                            "value": "due_date"
                                        },
                                        {
                                            "name": "sys_mod_count",
                                            "value": "sys_mod_count"
                                        },
                                        {
                                            "name": "sys_tags",
                                            "value": "sys_tags"
                                        },
                                        {
                                            "name": "escalation",
                                            "value": "escalation"
                                        },
                                        {
                                            "name": "upon_approval",
                                            "value": "upon_approval"
                                        },
                                        {
                                            "name": "correlation_id",
                                            "value": "correlation_id"
                                        },
                                        {
                                            "name": "location",
                                            "value": "location"
                                        }
                                    ],
                                    "triggers": [
                                        {
                                            "action": "guessTableSchema",
                                            "family": "ServiceNow",
                                            "type": "schema"
                                        }
                                    ],
                                    "widget": "multiSelectTag"
                                },
                                {
                                    "key": "button_schema_configuration.commonConfig",
                                    "title": "Guess Schema",
                                    "triggers": [
                                        {
                                            "action": "guessTableSchema",
                                            "family": "ServiceNow",
                                            "options": [
                                                {
                                                    "path": "configuration.commonConfig.fields",
                                                    "type": "array"
                                                }
                                            ],
                                            "type": "schema"
                                        }
                                    ],
                                    "widget": "button"
                                }
                            ],
                            "key": "configuration.commonConfig",
                            "placeholder": "commonConfig",
                            "required": false,
                            "title": "commonConfig"
                        }
                    ],
                    "key": "configuration",
                    "placeholder": "configuration",
                    "required": false,
                    "title": "Advanced"
                }
            ],
            "key": "configuration",
            "placeholder": "configuration",
            "required": false,
            "widget": "tabs"
        }
    ]
}
