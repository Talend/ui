{"remainingRequest":"/Users/jmfrancois/github/talend/ui/packages/containers/sandbox/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/jmfrancois/github/talend/ui/packages/containers/sandbox/src/app/ComponentFormSandbox.js","dependencies":[{"path":"/Users/jmfrancois/github/talend/ui/packages/containers/sandbox/src/app/ComponentFormSandbox.js","mtime":1581418001387},{"path":"/Users/jmfrancois/github/talend/ui/packages/containers/sandbox/node_modules/cache-loader/dist/cjs.js","mtime":1581411044412},{"path":"/Users/jmfrancois/github/talend/ui/packages/containers/sandbox/node_modules/babel-loader/lib/index.js","mtime":1581411084455}],"contextDependencies":[],"result":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { cmfConnect } from '@talend/react-cmf';\nimport Layout from '@talend/react-components/lib/Layout';\nimport SubHeaderBar from '@talend/react-components/lib/SubHeaderBar';\nimport UIForm from '@talend/react-forms';\nimport ComponentForm from '@talend/react-containers/lib/ComponentForm';\nimport SidePanel from '@talend/react-containers/lib/SidePanel';\nimport HeaderBar from '@talend/react-containers/lib/HeaderBar';\nimport { isComponentFormDirty } from '@talend/react-containers/lib/ComponentForm/ComponentForm.selectors';\nimport { setComponentFormDirtyState } from '@talend/react-containers/lib/ComponentForm/ComponentForm.actions';\nimport theme from './example.scss';\nvar componentId = 'external';\nvar jsonSchema = {\n  type: 'object',\n  title: 'config',\n  properties: {\n    definitionURL: {\n      type: 'string',\n      enum: ['/api/v1/forms/example', '/api/v1/forms/validation']\n    },\n    uiSpecPath: {\n      type: 'string'\n    },\n    triggerURL: {\n      type: 'string'\n    }\n  }\n};\nvar uiSchema = [{\n  key: 'definitionURL',\n  title: 'definitionURL'\n}, {\n  key: 'uiSpecPath',\n  title: 'uiSpecPath'\n}, {\n  key: 'triggerURL',\n  title: 'triggerURL'\n}];\n\nfunction ComponentFormSandBox(_ref) {\n  var dirty = _ref.dirty,\n      dispatch = _ref.dispatch;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      displayConfig = _React$useState2[0],\n      setConfig = _React$useState2[1];\n\n  var _React$useState3 = React.useState({\n    definitionURL: '/api/v1/forms/example',\n    uiSpecPath: 'ui',\n    triggerURL: '/api/v1/application/action',\n    submitURL: '/api/v1/forms'\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      properties = _React$useState4[0],\n      setProperties = _React$useState4[1];\n\n  var uispec = {\n    jsonSchema: jsonSchema,\n    uiSchema: uiSchema,\n    properties: properties\n  };\n  var right = [{\n    label: \"Reset (dirty=\".concat(dirty.toString(), \")\"),\n    onClick: function onClick() {\n      return dispatch(setComponentFormDirtyState(componentId, false));\n    }\n  }, {\n    label: 'Configure',\n    icon: 'talend-cog',\n    onClick: function onClick() {\n      return setConfig(!displayConfig);\n    }\n  }];\n  return React.createElement(Layout, {\n    mode: \"TwoColumns\",\n    one: React.createElement(SidePanel, null),\n    header: React.createElement(HeaderBar, null)\n  }, React.createElement(SubHeaderBar, {\n    title: \"ComponentForm\",\n    right: right,\n    onGoBack: function onGoBack() {\n      window.location = '/';\n    }\n  }), React.createElement(\"div\", {\n    id: theme.example\n  }, displayConfig ? React.createElement(UIForm, {\n    data: uispec,\n    onSubmit: function onSubmit(event, data) {\n      console.log(event, data);\n      setProperties(data);\n      setConfig(false);\n    }\n  }) : React.createElement(ComponentForm, _extends({}, properties, {\n    componentId: componentId,\n    className: \"full-form\",\n    saga: \"ComponentForm#default\"\n  }))));\n}\n\nComponentFormSandBox.displayName = 'ComponentFormSandBox';\nComponentFormSandBox.propTypes = {\n  dirty: PropTypes.bool.isRequired,\n  dispatch: PropTypes.func\n};\n\nfunction mapStateToProps(state) {\n  return {\n    dirty: isComponentFormDirty(state, componentId)\n  };\n}\n\nexport default cmfConnect({\n  mapStateToProps: mapStateToProps,\n  withDispatch: true\n})(ComponentFormSandBox);",{"version":3,"sources":["/Users/jmfrancois/github/talend/ui/packages/containers/sandbox/src/app/ComponentFormSandbox.js"],"names":["React","PropTypes","cmfConnect","Layout","SubHeaderBar","UIForm","ComponentForm","SidePanel","HeaderBar","isComponentFormDirty","setComponentFormDirtyState","theme","componentId","jsonSchema","type","title","properties","definitionURL","enum","uiSpecPath","triggerURL","uiSchema","key","ComponentFormSandBox","dirty","dispatch","useState","displayConfig","setConfig","submitURL","setProperties","uispec","right","label","toString","onClick","icon","window","location","example","event","data","console","log","displayName","propTypes","bool","isRequired","func","mapStateToProps","state","withDispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { cmfConnect } from '@talend/react-cmf';\nimport Layout from '@talend/react-components/lib/Layout';\nimport SubHeaderBar from '@talend/react-components/lib/SubHeaderBar';\nimport UIForm from '@talend/react-forms';\nimport ComponentForm from '@talend/react-containers/lib/ComponentForm';\nimport SidePanel from '@talend/react-containers/lib/SidePanel';\nimport HeaderBar from '@talend/react-containers/lib/HeaderBar';\nimport { isComponentFormDirty } from '@talend/react-containers/lib/ComponentForm/ComponentForm.selectors';\nimport { setComponentFormDirtyState } from '@talend/react-containers/lib/ComponentForm/ComponentForm.actions';\nimport theme from './example.scss';\n\nconst componentId = 'external';\nconst jsonSchema = {\n\ttype: 'object',\n\ttitle: 'config',\n\tproperties: {\n\t\tdefinitionURL: {\n\t\t\ttype: 'string',\n\t\t\tenum: [\n\t\t\t\t'/api/v1/forms/example',\n\t\t\t\t'/api/v1/forms/validation',\n\t\t\t],\n\t\t},\n\t\tuiSpecPath: {\n\t\t\ttype: 'string',\n\t\t},\n\t\ttriggerURL: {\n\t\t\ttype: 'string',\n\t\t},\n\t}\n};\n\nconst uiSchema = [\n\t{\n\t\tkey: 'definitionURL',\n\t\ttitle: 'definitionURL',\n\t},\n\t{\n\t\tkey: 'uiSpecPath',\n\t\ttitle: 'uiSpecPath',\n\t},\n\t{\n\t\tkey: 'triggerURL',\n\t\ttitle: 'triggerURL',\n\t}\n];\n\nfunction ComponentFormSandBox({ dirty, dispatch }) {\n\tconst [displayConfig, setConfig] = React.useState(false);\n\tconst [properties, setProperties] = React.useState({\n\t\tdefinitionURL: '/api/v1/forms/example',\n\t\tuiSpecPath: 'ui',\n\t\ttriggerURL: '/api/v1/application/action',\n\t\tsubmitURL: '/api/v1/forms',\n\t});\n\tconst uispec = {\n\t\tjsonSchema,\n\t\tuiSchema,\n\t\tproperties,\n\t};\n\tconst right = [\n\t\t{\n\t\t\tlabel: `Reset (dirty=${dirty.toString()})`,\n\t\t\tonClick: () => dispatch(setComponentFormDirtyState(componentId, false)),\n\t\t},\n\t\t{\n\t\t\tlabel: 'Configure',\n\t\t\ticon: 'talend-cog',\n\t\t\tonClick: () => setConfig(!displayConfig),\n\t\t},\n\t];\n\treturn (\n\t\t<Layout mode=\"TwoColumns\" one={<SidePanel />} header={<HeaderBar />}>\n\t\t\t<SubHeaderBar title=\"ComponentForm\" right={right} onGoBack={() => {window.location = '/'}}/>\n\t\t\t<div id={theme.example}>\n\t\t\t\t{displayConfig ? (\n\t\t\t\t\t<UIForm data={uispec} onSubmit={(event, data) => {\n\t\t\t\t\t\tconsole.log(event, data);\n\t\t\t\t\t\tsetProperties(data);\n\t\t\t\t\t\tsetConfig(false);\n\t\t\t\t\t}} />\n\t\t\t\t) : (\n\t\t\t\t\t<ComponentForm\n\t\t\t\t\t\t{...properties}\n\t\t\t\t\t\tcomponentId={componentId}\n\t\t\t\t\t\tclassName=\"full-form\"\n\t\t\t\t\t\tsaga=\"ComponentForm#default\"\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\nComponentFormSandBox.displayName = 'ComponentFormSandBox';\nComponentFormSandBox.propTypes = {\n\tdirty: PropTypes.bool.isRequired,\n\tdispatch: PropTypes.func,\n};\n\nfunction mapStateToProps(state) {\n\treturn { dirty: isComponentFormDirty(state, componentId) };\n}\n\nexport default cmfConnect({ mapStateToProps, withDispatch: true })(ComponentFormSandBox);\n"]}]}