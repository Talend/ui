import { ArgsTable, Meta, Canvas, Story } from '@storybook/addon-docs';
import { FigmaImage, FigmaIframe } from '~docs';

import { FloatingDrawer, StackVertical, InlineMessageWarning } from '@talend/design-system';

import * as Stories from './FloatingDrawer.stories';

<Meta
	title="Design System/Drawer"
	component={FloatingDrawer}
	parameters={{
		status: { figma: 'wip', storybook: 'wip', react: 'wip', i18n: 'na' },
		figmaLink: 'https://www.figma.com/file/x0RxG7E0CzVWDycXtNgq7H/Drawer',
	}}
	decorators={[
		storyFn => (
			<div
				style={{
					position: 'relative',
					height: '500px',
					overflow: 'hidden',
				}}
			>
				{storyFn()}
			</div>
		),
	]}
/>

# Drawer

<StackVertical
	gap="XS"
	margin={{
		top: 0,
		left: 0,
		right: 0,
		bottom: 'M',
	}}
>
	<InlineMessageWarning
		title="Work in progress"
		withBackground
		description="The Figma specs and overall documentation is not ready for this component. Use at your own risk."
	/>
</StackVertical>

Drawer slides into the screen from the right side and is placed visually over the content of the page.

It aims to display extra information while keeping the navigation enabled on the main content.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/qc8oUSyVJM67gSsbTShftt/%F0%9F%93%90-Zoning?node-id=744%3A263"
	alt="zoning image for drawers"
/>

## Style

<FigmaIframe
	light="https://www.figma.com/file/x0RxG7E0CzVWDycXtNgq7H/Drawer?node-id=1%3A83"
	dark="https://www.figma.com/file/x0RxG7E0CzVWDycXtNgq7H/Drawer?node-id=1%3A105"
/>

### Variations

<Canvas withSource="none">
	<Story story={Stories.Simple} height="500px" />
</Canvas>

<Canvas withSource="none">
	<Story story={Stories.WithDisclosure} height="500px" />
</Canvas>

<Canvas withSource="none">
	<Story story={Stories.WithControlledVisibility} height="500px" />
</Canvas>

## States

Drawers are either visible or hidden.

## Content

Drawers are “optional” content living on top of primary content. Since they fill only 1/3 of the page's width, prefer extra or additional information. Avoid dense copy and complex forms. Drawer contents should be efficient, short and tailored for the limited layout space available.

If you need more space, use [full-page layout]().

Footer can contain only calls to action.

## Interaction

Drawer Heading and Footer zones are fixed; the Content zone can display a scrollbar when its content overflows.

## Accessibility

Drawers disclosures have a value specified for `aria-controls` that refers to Drawer.

When Drawer is visible, disclosure has `aria-expanded` set to `true`. When Drawer is hidden, it is set to `false`.

## Usage

<Canvas>
	<Story story={Stories.Usage} height="500px" />
</Canvas>
