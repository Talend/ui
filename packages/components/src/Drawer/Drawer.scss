// Drawer styles

$tc-drawer-initial-offset: 100rem !default;
$tc-drawer-bgcolor: $white !default;
$tc-drawer-header-color: $st-tropaz !default;
$tc-drawer-transition-duration: 230ms !default;
$tc-drawer-transition-easing: cubic-bezier(0.18, 0.89, 0.32, 1.28) !default;
$tc-drawer-content-max-width: 60rem !default;
$tc-drawer-tabs-background: tint($brand-primary, 90) !default;
$tc-drawer-z-index: $drawer-z-index !default;

.tc-drawer {
	position: absolute;
	top: 0;
	right: 0;
	bottom: 0;
	width: 50vw;
	pointer-events: all;
	background-color: $tc-drawer-bgcolor;
	box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.3);
	z-index: $tc-drawer-z-index;
}

@media (min-width: $screen-md-min) and (max-width: $screen-md-max) {
	.tc-drawer {
		width: 40vw;
	}
}

@media (min-width: $screen-lg-min) {
	.tc-drawer {
		width: 30vw;
	}
}

.tc-drawer-container {
	display: flex;
	flex-direction: column;
	height: 100%;
	flex-grow: 1;
	min-height: 0;
	overflow-y: auto;

	.tc-drawer-header {
		&-title {
			position: relative;
			display: flex;
			align-items: center;
			padding: $padding-larger $padding-large;

			> * {
				margin: 0;
				color: $tc-drawer-header-color;
				text-overflow: ellipsis;
				white-space: nowrap;
				overflow: hidden;
			}
		}
		:global {
			.tc-editable-text {
				flex: 1;
				min-width: 0;

				&-wording {
					margin: 0;
					width: 90%;
					font-size: $font-size-large;
					color: $tc-drawer-header-color;
					text-overflow: ellipsis;
					white-space: nowrap;
					overflow: hidden;
				}

				&-pencil {
					left: -99999px;
					color: $tc-drawer-header-color;
				}
			}
		}

		.tc-drawer-close-action {
			padding: 0;
			color: $st-tropaz;
			min-height: inherit;
			width: $svg-xlg-size;
			line-height: inherit;
		}
	}

	:global(.tc-drawer-header-with-tabs) {
		padding: {
			left: $padding-large;
			right: $padding-large;
		}
	}

	:global(.tc-drawer-header-with-tabs),
	.tc-drawer-tabs-container {
		border-bottom: 1px solid $silver;
		margin-bottom: $padding-large;
	}

	:global {
		.nav-tabs > li {
			> a,
			> button {
				margin-bottom: 0;
			}

			&:first-child {
				> a,
				> button {
					padding-left: 0;

					&:after {
						left: 0;
					}
				}
			}

			&:last-child {
				> a,
				> button {
					padding-right: 0;

					&:after {
						right: 0;
					}
				}
			}
		}
	}

	.tc-drawer-content {
		flex-grow: 1;
		min-height: 0;
		overflow: auto;
	}

	.tc-drawer-actionbar-container,
	.tc-drawer-footer {
		padding: $padding-large;
		box-shadow: tint($black, 90) 0 -1px 5px 0;
		background: $white;

		:global {
			.tc-actionbar-container {
				padding: 0;
				background: none;

				.btn {
					margin: {
						top: 0;
						bottom: 0;
					}
				}
			}

			.navbar-left {
				.btn + .btn {
					margin-right: $padding-large;
				}
			}

			.navbar-right {
				.btn + .btn {
					margin-left: $padding-large;
				}
			}
		}
	}

	.tc-drawer-header-title,
	.tc-drawer-tabs,
	.tc-drawer-content,
	.tc-drawer-actionbar,
	.tc-drawer-footer {
		padding: {
			left: $padding-large;
			right: $padding-large;
		}
	}
}

:global(.tc-with-drawer-wrapper) :global(.tc-drawer.stacked)::after {
	background: rgba(0, 0, 0, 0.4);
	content: ' ';
	height: 100%;
	width: 100%;
	position: absolute;
	top: 0;
}

:global(.tc-with-drawer-wrapper) :global(.tc-drawer.stacked) {
	.tc-drawer-header,
	.tc-drawer-actionbar-container,
	.tc-drawer-footer {
		z-index: 0;
	}
}

:global(.tc-with-drawer-wrapper:last-child) :global(.tc-drawer.stacked):after {
	content: none;
}

.drawer-stacked {
	@media screen and (min-width: $screen-xs-max) {
		width: 100%;

		.tc-drawer-container {
			padding: {
				left: 0;
				right: 0;
			}
		}

		.tc-drawer-header-title,
		.tc-drawer-tabs,
		.tc-drawer-content,
		.tc-drawer-actionbar,
		.tc-drawer-footer {
			flex-shrink: 0;
			margin: 0 auto;
			padding: {
				left: 0;
				right: 0;
			}
			width: $tc-drawer-content-max-width;
		}

		.tc-drawer-header,
		.tc-drawer-actionbar-container,
		.tc-drawer-footer {
			position: relative; // Internet Explorer only
			position: sticky; // sass-lint:disable-line no-duplicate-properties
			background: $white;
			z-index: 1;
		}

		.tc-drawer-header {
			top: 0;
		}

		.tc-drawer-actionbar-container,
		.tc-drawer-footer {
			bottom: 0;
			box-shadow: none;
		}
	}
}
