import { Meta } from '@storybook/addon-docs';

import icons from '../src/icon';

<Meta title="Icons" />

export function getNumericSizeByTShirtSize(tShirtSize) {
	switch (tShirtSize) {
		case 'XS':
			return 8;
		case 'S':
			return 12;
		case 'M':
			return 16;
		case 'L':
			return 24;
		default:
			return '?';
	}
}

export const iconTokens = {
	'neutral/icon': '#202020',
	'accent/icon': '#0c78c2',
	'warning/icon': '#e25c10',
	'danger/icon': '#d93335',
	'beta/icon': '#aa2de8',
};

export const IconColorTokenSelect = () => (
	<select
		onChange={e => {
			const sections = document.getElementsByTagName('svg');
			console.log(e.currentTarget.value, sections);
			[...sections].forEach(element => (element.style = `color: ${e.currentTarget.value};`));
		}}
	>
		{Object.entries(iconTokens).map(([name, value]) => (
			<option value={value}>{name}</option>
		))}
	</select>
);

# Icons

<div>
    <IconColorTokenSelect />
    {['XS', 'S', 'M', 'L', 'XL']
    	.filter(size => icons[size])
    	.map(size => {
    		const numericSize = getNumericSizeByTShirtSize(size);
    		const numericSizeInPx = numericSize + 'px';
    		return (
    			<section
    				style={{
    					margin: '50px 0',
    					width: '100%',
    					display: 'flex',
    					flexDirection: 'column',
    				}}
    			>
    				<h2>{size}</h2>
    				<div
    					style={{
    						display: 'grid',
    						width: '100%',
    						gridTemplateColumns: 'repeat(10, 1fr)',
    						gap: '10px',
    						gridAutoRows: 'minmax(100px, auto)',
    					}}
    				>
    					{Object.entries(icons[size]).map(([name, svg], index) => (
    						<div
    							key={index}
    							style={{
    								display: 'flex',
    								flexDirection: 'column',
    								alignItems: 'center',
    								justifyContent: 'center',
    							}}
    						>
    							<div
    								style={{
    									display: 'flex',
    									alignItems: 'center',
    									justifyContent: 'center',
    									height: '5rem',
    									width: '5rem',
    									borderRadius: '50%',
    									boxShadow: '0rem 0.2rem 0.6rem 0rem hsla(0,0%,0%,0.3)',
    								}}
    							>
    								<span
    									style={{
    										display: 'flex',
    										alignItems: 'center',
    										justifyContent: 'center',
    										width: numericSizeInPx,
    										height: numericSizeInPx,
    									}}
    									dangerouslySetInnerHTML={{
    										__html: svg.replaceAll(iconTokens['neutral/icon'], 'currentColor'),
    									}}
    								/>
    							</div>
    							<small style={{ marginTop: '1rem', fontSize: '1rem' }}>{name}</small>
    						</div>
    					))}
    				</div>
    			</section>
    		);
    	})}

</div>
