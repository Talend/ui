import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { FigmaImage } from '~docs';
import Form from '../.';
import { ButtonPrimary, ButtonSecondary } from '../../Button';

<Meta
	title="Components/Form/Form Fieldset"
	parameters={{
		status: { figma: 'ok', storybook: 'ok', react: 'ok', i18n: 'na' },
	}}
/>

# Form Fieldset

The fieldset is a field group in a form.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/qc8oUSyVJM67gSsbTShftt/%F0%9F%93%90-Zoning?node-id=349%3A227"
	alt="zoning image for form fieldset"
/>

## Style

Group logical blocks into fieldset. If the fields are related, display them on the same row.

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=191%3A352"
	alt="Fieldset mockup"
/>

<Canvas>
	<Story name="default">
		<Form>
			<Form.Fieldset legend="Frequency">
				<Form.Select name="repeat" label="Repeat" />
				<Form.Row>
					<Form.Number label="Minutes" suffix="minutes" name="minutes" />
					<Form.Time name="repeat-from" label="Repeat from" required />
					<Form.Time name="repeat-to" label="Repeat to" required />
				</Form.Row>
			</Form.Fieldset>
			<Form.Buttons>
				<ButtonSecondary onClick={() => {}}>Cancel</ButtonSecondary>
				<ButtonPrimary type="submit" onClick={() => {}}>
					Submit
				</ButtonPrimary>
			</Form.Buttons>
		</Form>
	</Story>
</Canvas>

## States

### Error

Only individual fields could be errored, not the full fieldset.

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=224%3A13927"
	alt="Fieldset mockup with state"
/>

<Canvas>
	<Story name="error">
		<Form>
			<Form.Fieldset legend="Frequency">
				<Form.Select name="repeat" label="Repeat" />
				<Form.Row>
					<Form.Number label="Minutes" suffix="minutes" name="minutes" />
					<Form.Time
						label="Repeat from"
						name="repeat-from"
						required
						value="14:k"
						hasError
						description="Repeat from is invalid"
					/>
					<Form.Time label="Repeat to" name="repeat-to" required />
				</Form.Row>
			</Form.Fieldset>
			<Form.Buttons>
				<ButtonSecondary onClick={() => {}}>Cancel</ButtonSecondary>
				<ButtonPrimary type="submit" onClick={() => {}}>
					Submit
				</ButtonPrimary>
			</Form.Buttons>
		</Form>
	</Story>
</Canvas>

In case of more than one error or a horizontal fieldset, display the errors under each other.

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=227%3A0"
	alt="Fieldset mockup with state"
/>

<Canvas>
	<Story name="errors">
		<Form>
			<Form.Fieldset legend="Frequency">
				<Form.Select label="Repeat" name="repeat" />
				<Form.Row>
					<Form.Number label="Minutes" suffix="minutes" name="minutes" />
					<Form.Time
						label="Repeat from"
						name="repeat-from"
						required
						value="14:k"
						hasError
						description="Repeat from is invalid"
					/>
					<Form.Time
						label="Repeat to"
						name="repeat-to"
						required
						value="k"
						hasError
						description="Repeat to is invalid"
					/>
				</Form.Row>
			</Form.Fieldset>
			<Form.Buttons>
				<ButtonSecondary onClick={() => {}}>Cancel</ButtonSecondary>
				<ButtonPrimary type="submit" onClick={() => {}}>
					Submit
				</ButtonPrimary>
			</Form.Buttons>
		</Form>
	</Story>
</Canvas>

## Content

### Title

By default, provide a title to the fieldset.

### Inline message

By default, the inline message is displayed using the inline message component, it appears at the bottom of the field.
When a fieldset or a field is bigger than 15rem, the [inline message](/?path=/docs/components-inlinemessage--information) (often error message) should appear on top instead of bottom.

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=141%3A11352"
	alt="inline message position for form fieldset"
/>

## Interactions

### Conditional field

Conditional fields allow the user to access a fieldset only when conditions are met in a previous field.

Conditional fields can appear following:

- checkbox
- radio button
- switch
- select
- button

## Usage

N/A

## Accessibility

N/A
