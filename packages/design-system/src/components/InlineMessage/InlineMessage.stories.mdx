import { ArgsTable, Meta, Canvas, Story } from '@storybook/addon-docs';
import { FigmaImage, Use } from '~docs';
import * as Stories from './InlineMessage.stories';

import { InlineMessage } from './index';

<Meta
	title="Components/Inline Message"
	component={InlineMessage}
	parameters={{
		status: { figma: 'ok', storybook: 'ok', react: 'ok', i18n: 'na' },
	}}
/>

# Inline Message

Inline Message semantically highlights necessary information to the user in different contexts.

It can be additional information related to system status, it can be a required action to complete the current task.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/qc8oUSyVJM67gSsbTShftt/%F0%9F%93%90-Zoning?node-id=12%3A96"
	alt="zoning image for inline messages"
/>

## Style

### Text

The text should adapt to the surrounding layout. Depending on the context, if the text is too long it should automatically wrap to the next line.

### Variations

**Default**

<Canvas>
	<Story story={Stories.DefaultDemo} />
</Canvas>

**With background**

<Canvas>
	<Story story={Stories.BackgroundDemo} />
</Canvas>

## Interactions

Inline messages are non-clickable, except if there is a link. In that case, only the link will be clickable.

Please refer to the [Link guidelines](/docs/components-link--default) for more information.

## Content

Inline messages interrupt the user to deliver a communication. They can be notifications, alerts, confirmation, inline validation, or error messages.

Error messages should tell why there was a problem and what could be done to resolve it where possible. There are several types of error messages including:

<ul>
	<li>
		Errors which tell users something serious or less serious has gone wrong. We require the users'
		comprehension and maybe their action.
	</li>
	<li>
		Field-validation errors which display when users enter info in a form field, but it isn’t
		formatted correctly.
	</li>
	<li>
		System errors which display when the entire application is having trouble, like when something
		is down or users' data is missing through no fault of their own.
	</li>
</ul>
<Use>
	<Use.Do>
		<ul>
			<li>Be clear and conversational.</li>
			<li>
				Get right to the point. Be brief but also super literal. Say what exactly happened and what
				the user needs to do to fix the error.
			</li>
			<li>
				Use the correct combination of call-to-action buttons. For example, if you say "Replace the
				source file with X?" the options should be Replace / Cancel and not Yes / No / Retry.
			</li>
			<li>
				Provide appropriate actions where applicable. Actions in error messages guide users about
				the next step.
			</li>
			<li>Use appropriate language for your audience and keep technical jargon to minimum.</li>
		</ul>
	</Use.Do>
	<Use.Dont>
		<ul>
			<li>
				Don’t include extra details about why the error happened—give only the info that users need
				to know.
			</li>
			<li>
				Avoid negative words. For example, say "You need to have enough rights to publish pipelines"
				instead of "You don't have enough rights to publish pipelines".
			</li>
		</ul>
	</Use.Dont>
</Use>

## Usage

### With `variant` prop

If you need a message to change from one semantic type to another, a prop may be better than a standalone component.

`<InlineMessage />` is here just for that purpose.

<Canvas>
	<Story story={Stories.Variant} name="basic" />
</Canvas>

It behaves like the standalone components but with a `variant` prop.

<ArgsTable story="basic" />

### With a Router link

If the link you need is not external, chances are you're using a routing library.

<Canvas>
	<Story story={Stories.WithRouterLink} />
</Canvas>

## Accessibility

Each Inline Message has a role `status` and an aria-live attribute `polite` by default.
