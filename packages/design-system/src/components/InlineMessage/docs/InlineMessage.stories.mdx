import { ArgsTable, Meta, Canvas, Story } from '@storybook/addon-docs';
import { IconItem, IconGallery } from '@storybook/components';
import { FigmaImage, Use } from '../../../docs';
import * as Stories from '../InlineMessage.stories';

import { Icon } from '../../Icon';
import InlineMessage from '../';

<Meta title="Components/Inline Message" component={InlineMessage} />

# Inline Message

Inline Message highlights information necessary to display for the user in many different contexts.
It can be additional information related to system status, it can be a required action to complete the current task.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/qc8oUSyVJM67gSsbTShftt/%F0%9F%93%90-Zoning?node-id=12%3A96"
	alt="zoning image for inline messages"
/>

## Style

### Icons

<IconGallery>
	{['talend-info-circle', 'talend-check-circle', 'talend-warning', 'talend-error'].map(
		(iconName, index) => (
			<IconItem key={index} name={iconName}>
				<Icon name={iconName} />
			</IconItem>
		),
	)}
</IconGallery>

### Text

The text should adapt the surrounding layout. Depending on the context, if the text is too long it should automatically wraps the line.

### Variations

**Default**

<Canvas>
	<Story story={Stories.Information} />
	<Story story={Stories.Success} />
	<Story story={Stories.Warning} />
	<Story story={Stories.Destructive} />
</Canvas>

**Small**

<Canvas>
	<Story story={Stories.InformationSmall} />
	<Story story={Stories.SuccessSmall} />
	<Story story={Stories.WarningSmall} />
	<Story story={Stories.DestructiveSmall} />
</Canvas>

**With background**

<Canvas>
	<Story story={Stories.InformationBackground} />
	<Story story={Stories.SuccessBackground} />
	<Story story={Stories.WarningBackground} />
	<Story story={Stories.DestructiveBackground} />
</Canvas>

**Small with background**

<Canvas>
	<Story story={Stories.InformationBackgroundSmall} />
	<Story story={Stories.SuccessBackgroundSmall} />
	<Story story={Stories.WarningBackgroundSmall} />
	<Story story={Stories.DestructiveBackgroundSmall} />
</Canvas>

## Interactions

Inline messages are non-clickable, except if there is a link. In that case, only the link will be clickable.
Please refer to the hyperlink guidelines for more information.

## Content

Inline messages interrupt the user to deliver a communication. They can be notifications, alerts, confirmation, inline validation, or error messages.
Error messages should tell why there was a problem and what could be done to resolve it where possible.There are several types of error messages including:

<ul>
	<li>
		Errors which display to tell users something serious or less serious has gone wrong and need
		users' comprehension and may be action.
	</li>
	<li>
		Field-validation errors which display when a user enters info in a form field, but it isn’t
		formatted correctly.
	</li>
	<li>
		System errors which display when the entire application is having trouble, like when something
		is down or users' data is missing through no fault of their own.
	</li>
</ul>

<Use>
	<Use.Do>
		<ul>
			<li>Be clear and conversational.</li>
			<li>
				Get right to the point. Be brief but also super literal. Say what exactly happened and what
				the user needs to do to fix the error.
			</li>
			<li>
				Use the correct combination of call-to-action buttons. For example, if you say "Replace the
				source file with X?" the options should be Replace/Cancel and not Yes/No/Retry.
			</li>
			<li>
				Provide appropriate actions where applicable. Actions in error messages guide users about
				the next step.
			</li>
			<li>Use appropriate language for your audience and keep technical jargon to minimum.</li>
		</ul>
	</Use.Do>
	<Use.Dont>
		<ul>
			<li>
				Don’t include extra details about why the error happened—give only the info that users need
				to know.
			</li>
			<li>
				Avoid negative words. For example, say "You need to have enough rights to publish pipelines"
				instead of "You don't have enough rights to publish pipelines".
			</li>
		</ul>
	</Use.Dont>
</Use>

## Usage

<Canvas>
	<Story
		name="basic"
		args={{
			title: 'A title',
			description: 'with a description',
			small: false,
			withBackground: false,
		}}
		argTypes={{
			variant: {
				name: 'Variation',
				description: 'InlineMessage variation',
				control: {
					type: 'select',
					options: ['Information', 'Success', 'Warning', 'Destructive'],
				},
			},
		}}
	>
		{Stories.Information.render.bind({})}
	</Story>
</Canvas>

<ArgsTable story="basic" />

## Accessibility

Each Inline Message has a role `status` and an aria-live attribute `polite` by default.
