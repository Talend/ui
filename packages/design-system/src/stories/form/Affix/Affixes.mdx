import { Canvas, Meta } from '@storybook/addon-docs/blocks';

import { FigmaImage } from '@talend/storybook-docs';

import * as Stories from './Affix.stories';
import { Status } from '../../Status.block';

<Meta of={Stories} />
<Status id="formAffix" />

# Affixes: `prefix` and `suffix` props

All the base inputs (`Form.Text`, `Form.Select`, `Form.Email`, `Form.Number` etc...) sport the ability to display affixes.

Fill in their `prefix` or `suffix` prop and the deed is done.

`Form.Textarea` and "on/off" inputs (`Radio`, `Checkbox` etc...) are not compatible with affixes.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/qc8oUSyVJM67gSsbTShftt/%F0%9F%93%90-Zoning?node-id=249%3A129"
	alt="zoning image for field groups"
/>

## Style

### Variations

#### TL;DR

Affixes are either `prefix` or `suffix`. They are one of the following types:

<Canvas of={Stories.QuickStart} />

Both `prefix` and `affix` accept the same 3 kinds of objects.

##### Select affixes

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=2008%3A1"
	alt="Select affixes"
/>

<Canvas sourceState="hidden" of={Stories.AffixSelect} />

##### Button affixes

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=2008%3A112"
	alt="Button affixes"
/>

<Canvas sourceState="hidden" of={Stories.AffixButton} />

##### Text affixes

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=2008%3A50"
	alt="Text affixes"
/>

<Canvas sourceState="hidden" of={Stories.AffixText} />

#### Datalist and multiple select

`Form.Datalist` and multiple selects also works with the same ruleset.

<Canvas of={Stories.DatalistAffix} />

#### Mix and match

An input can mix multiple types of affixes indiscriminately.

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=2008%3A1010"
	alt="An input group demo"
/>

<Canvas of={Stories.Mix} />

## States

Interactive affixes (button and select) have the states related to their type:

**`AffixSelect` and `AffixButton` can**

- Have the `hover` state
- Have the `active` state
- have the `disabled` state

They are not allowed the `read-only` state since a read-only `<select>` is actually a regular `read-only` text input, and a read-only button makes no sense.

## Content

Use lower case on prefix and suffix except if it's an interactive element.

## Interactions

## Usage

### Use with RHF

Here's an example using a `select` type affix with React Hooks Form

<Canvas of={Stories.ReactHookForm} />

## Accessibility

- Text is mandatory, even when hidden as it is parsed by screen-readers.
