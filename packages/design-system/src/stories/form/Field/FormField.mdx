import { Canvas, Controls, Meta } from '@storybook/addon-docs/blocks';

import { FigmaImage } from '@talend/storybook-docs';

import * as Stories from './FormField.stories';
import { Status } from '../../Status.block';

<Meta of={Stories} />
<Status id="formField" />

# Form Fields common rules

A Form Field features a label, an input and an optional [small inline message](docs/messaging-inlinemessage--docs) for text-based inputs.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/hMYM9HGXajJpWdGwRb5ITR/Coral?node-id=5300%3A21659"
	alt="zoning image for form field"
/>

## Validation rules

The validation of a field should appear when it loses focus.

Any error should block the form validation. If it does not, why do we consider it to be an error?

The user must correct the error within the field. Once the error is corrected, the message should be removed.

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=230%3A229"
	alt="Form Field mockup in error"
/>

<Canvas of={Stories.FormFieldError} />

## Content

### Mandatory vs Optional

The default behavior is to highlight the mandatory fields by using the asterisk next to the label.

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=27034%3A144282"
	alt="Form Field mockup"
/>

<Canvas of={Stories.FormFieldRequired} />

### Information

A message can be displayed below the input to help the user by recommending appropriate content or suggesting an action.

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=27035%3A143333"
	alt="Form Field mockup with inline message"
/>

<Canvas of={Stories.FormFieldInformation} />

### Link

For the [password input](/?path=/docs/components-form-fields-password--default-story), a link can be added under the input.

If a description or an error is applied to the field, it must be displayed between the input and the link.

<FigmaImage
	src="https://www.figma.com/file/FaYIWpJeP6LwjWr78L8eAr/Forms?node-id=27041%3A144917"
	alt="Form Password Field mockup with a link"
/>

<Canvas of={Stories.FormFieldPassword} />

## Usage

<Canvas of={Stories.Usage} />
<Controls of={Stories.Usage} />

## Accessibility

- The label is mandatory (even if it's not always visible)
