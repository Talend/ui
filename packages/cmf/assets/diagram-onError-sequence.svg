<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="909px" preserveAspectRatio="none" style="width:1116px;height:909px;" version="1.1" viewBox="0 0 1116 909" width="1116px" zoomAndPan="magnify"><defs><filter height="300%" id="fbkxasnshgrnn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="188" x="459.5" y="23.5352">onError sequence diagram</text><rect fill="#ADD8E6" height="864.1191" style="stroke: #A80036; stroke-width: 1.0;" width="767" x="167.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="524" y="47.0566">webapp</text><rect fill="#FFFFFF" filter="url(#fbkxasnshgrnn)" height="214.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="189.5" y="627.2559"/><rect fill="#FFFFFF" filter="url(#fbkxasnshgrnn)" height="199.5527" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="644" y="369.082"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="32" x2="32" y1="89.2871" y2="860.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="194.5" x2="194.5" y1="89.2871" y2="860.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="321" x2="321" y1="89.2871" y2="860.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="442.5" x2="442.5" y1="89.2871" y2="860.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="548.5" x2="548.5" y1="89.2871" y2="860.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="648.5" x2="648.5" y1="89.2871" y2="860.1191"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="894.5" x2="894.5" y1="89.2871" y2="860.1191"/><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="8" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="15" y="74.334">User</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="8" y="859.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="15" y="879.6543">User</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="171.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="178.5" y="74.334">App</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="42" x="171.5" y="859.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="28" x="178.5" y="879.6543">App</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="272" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="279" y="74.334">Component</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="272" y="859.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="81" x="279" y="879.6543">Component</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="411.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="418.5" y="74.334">Redux</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="411.5" y="859.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="418.5" y="879.6543">Redux</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="483.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="490.5" y="74.334">SagaMiddleware</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="483.5" y="859.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="490.5" y="879.6543">SagaMiddleware</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="623.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="630.5" y="74.334">Saga</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="47" x="623.5" y="859.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="630.5" y="879.6543">Saga</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="859.5" y="53.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="866.5" y="74.334">onError</text><rect fill="#FEFECE" filter="url(#fbkxasnshgrnn)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="859.5" y="859.1191"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="866.5" y="879.6543">onError</text><rect fill="#FFFFFF" filter="url(#fbkxasnshgrnn)" height="214.8633" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="189.5" y="627.2559"/><rect fill="#FFFFFF" filter="url(#fbkxasnshgrnn)" height="199.5527" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="644" y="369.082"/><polygon fill="#A80036" points="182.5,116.5977,192.5,120.5977,182.5,124.5977,186.5,120.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32.5" x2="188.5" y1="120.5977" y2="120.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="39.5" y="115.8555">Open</text><polygon fill="#A80036" points="309.5,145.9082,319.5,149.9082,309.5,153.9082,313.5,149.9082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="194.5" x2="315.5" y1="149.9082" y2="149.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="201.5" y="145.166">render</text><polygon fill="#A80036" points="205.5,175.2188,195.5,179.2188,205.5,183.2188,201.5,179.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="199.5" x2="320.5" y1="179.2188" y2="179.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="16" x="211.5" y="174.4766">ok</text><polygon fill="#A80036" points="43.5,204.5293,33.5,208.5293,43.5,212.5293,39.5,208.5293" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37.5" x2="193.5" y1="208.5293" y2="208.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="49.5" y="203.7871">your HTML page</text><rect fill="#EEEEEE" filter="url(#fbkxasnshgrnn)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1101" x="3" y="237.1846"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1104" y1="237.1846" y2="237.1846"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1104" y1="240.1846" y2="240.1846"/><rect fill="#EEEEEE" filter="url(#fbkxasnshgrnn)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="126" x="490.5" y="226.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="496.5" y="243.0977">User interaction</text><polygon fill="#A80036" points="309.5,277.1504,319.5,281.1504,309.5,285.1504,313.5,281.1504" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32.5" x2="315.5" y1="281.1504" y2="281.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="39.5" y="276.4082">click on button</text><polygon fill="#A80036" points="430.5,306.4609,440.5,310.4609,430.5,314.4609,434.5,310.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="321.5" x2="436.5" y1="310.4609" y2="310.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="328.5" y="305.7188">dispatch action</text><polygon fill="#A80036" points="536.5,335.7715,546.5,339.7715,536.5,343.7715,540.5,339.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="442.5" x2="542.5" y1="339.7715" y2="339.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="449.5" y="335.0293">take it</text><polygon fill="#A80036" points="632,365.082,642,369.082,632,373.082,636,369.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="548.5" x2="638" y1="369.082" y2="369.082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="555.5" y="364.3398">fork</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="654" x2="696" y1="398.3926" y2="398.3926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="696" x2="696" y1="398.3926" y2="411.3926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655" x2="696" y1="411.3926" y2="411.3926"/><polygon fill="#A80036" points="665,407.3926,655,411.3926,665,415.3926,661,411.3926" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="661" y="393.6504">yield http call</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="654" x2="696" y1="440.7031" y2="440.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="696" x2="696" y1="440.7031" y2="453.7031"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655" x2="696" y1="453.7031" y2="453.7031"/><polygon fill="#A80036" points="665,449.7031,655,453.7031,665,457.7031,661,453.7031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="661" y="435.9609">response ok</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="654" x2="696" y1="483.0137" y2="483.0137"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="696" x2="696" y1="483.0137" y2="496.0137"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655" x2="696" y1="496.0137" y2="496.0137"/><polygon fill="#A80036" points="665,492.0137,655,496.0137,665,500.0137,661,496.0137" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="661" y="478.2715">access to undefined -&gt; throw Error</text><rect fill="#EEEEEE" filter="url(#fbkxasnshgrnn)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1101" x="3" y="524.6689"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1104" y1="524.6689" y2="524.6689"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1104" y1="527.6689" y2="527.6689"/><rect fill="#EEEEEE" filter="url(#fbkxasnshgrnn)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="117" x="495" y="514.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="501" y="530.582">Error handling</text><polygon fill="#A80036" points="559.5,564.6348,549.5,568.6348,559.5,572.6348,555.5,568.6348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="553.5" x2="648" y1="568.6348" y2="568.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="565.5" y="563.8926">cancel</text><polygon fill="#A80036" points="883,593.9453,893,597.9453,883,601.9453,887,597.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="548.5" x2="889" y1="597.9453" y2="597.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="555.5" y="593.2031">call report</text><polygon fill="#A80036" points="210.5,623.2559,200.5,627.2559,210.5,631.2559,206.5,627.2559" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="204.5" x2="894" y1="627.2559" y2="627.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="216.5" y="622.5137">notify</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="895" x2="937" y1="656.5664" y2="656.5664"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="937" x2="937" y1="656.5664" y2="669.5664"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="896" x2="937" y1="669.5664" y2="669.5664"/><polygon fill="#A80036" points="906,665.5664,896,669.5664,906,673.5664,902,669.5664" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="902" y="651.8242">try to POST error to /api/errors</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="199.5" x2="241.5" y1="698.877" y2="698.877"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="241.5" x2="241.5" y1="698.877" y2="711.877"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="200.5" x2="241.5" y1="711.877" y2="711.877"/><polygon fill="#A80036" points="210.5,707.877,200.5,711.877,210.5,715.877,206.5,711.877" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="206.5" y="694.1348">setState({errors})</text><polygon fill="#A80036" points="43.5,737.1875,33.5,741.1875,43.5,745.1875,39.5,741.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37.5" x2="188.5" y1="741.1875" y2="741.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="49.5" y="736.4453">render ErrorFeedback</text><polygon fill="#A80036" points="210.5,766.498,200.5,770.498,210.5,774.498,206.5,770.498" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="204.5" x2="894" y1="770.498" y2="770.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="216.5" y="765.7559">notify on the POST results</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="199.5" x2="241.5" y1="799.8086" y2="799.8086"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="241.5" x2="241.5" y1="799.8086" y2="812.8086"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="200.5" x2="241.5" y1="812.8086" y2="812.8086"/><polygon fill="#A80036" points="210.5,808.8086,200.5,812.8086,210.5,816.8086,206.5,812.8086" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="206.5" y="795.0664">setState({errors})</text><polygon fill="#A80036" points="43.5,838.1191,33.5,842.1191,43.5,846.1191,39.5,842.1191" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="37.5" x2="193.5" y1="842.1191" y2="842.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="49.5" y="837.377">render ErrorFeedback</text><!--
@startuml
title onError sequence diagram
User -> App: Open
box "webapp" #LightBlue
	participant App
    participant Component
    participant Redux
    participant SagaMiddleware
    participant Saga
    participant onError
end box
App -> Component : render
Component -> App: ok
App -> User: your HTML page

== User interaction ==
User -> Component: click on button
Component -> Redux: dispatch action
Redux -> SagaMiddleware: take it
SagaMiddleware -> Saga: fork
activate Saga
Saga -> Saga: yield http call
Saga -> Saga: response ok
Saga -> Saga: access to undefined -> throw Error
== Error handling ==
Saga -> SagaMiddleware: cancel
deactivate Saga
SagaMiddleware -> onError: call report
onError -> App: notify
activate App
onError -> onError: try to POST error to /api/errors
App -> App: setState({errors})
App -> User: render ErrorFeedback
onError -> App: notify on the POST results
App -> App: setState({errors})
App -> User: render ErrorFeedback
deactivate App

@enduml

PlantUML version 1.2018.12(Sun Oct 21 12:15:15 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_172-b11
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: en
Country: FR
--></g></svg>