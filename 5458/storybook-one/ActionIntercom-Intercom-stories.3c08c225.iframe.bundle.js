(self.webpackChunk_talend_ui_storybook_one=self.webpackChunk_talend_ui_storybook_one||[]).push([[2696],{"../components/src/ActionIntercom/Intercom.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_Intercom_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../components/src/ActionIntercom/Intercom.component.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const config={app_id:"fyq3wodw",email:"toto@gmail.com"},__WEBPACK_DEFAULT_EXPORT__={title:"Components/Messaging & Communication/Intercom"},Default=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Intercom_component__WEBPACK_IMPORTED_MODULE_1__.A,{id:"intercom",config})});Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'() => <Fragment>\n        <ActionIntercom id="intercom" config={config} />\n    </Fragment>',...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"../components/src/ActionIntercom/Intercom.component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Intercom_component});var react=__webpack_require__("../../node_modules/react/index.js"),classnames=__webpack_require__("../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),TooltipTrigger=__webpack_require__("../components/src/TooltipTrigger/index.js"),Icon=__webpack_require__("../components/src/Icon/index.ts");function init(config){if("function"==typeof window.Intercom)window.Intercom("reattach_activator"),window.Intercom("update",config);else{const intercom=function ic(){intercom.c(arguments)};intercom.q=[],intercom.c=args=>{intercom.q.push(args)},window.Intercom=intercom,function insertScript(appId){const s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src=`https://widget.intercom.io/widget/${appId}`;const x=document.getElementsByTagName("script")[0];x.parentNode.insertBefore(s,x)}(config.app_id)}}const Intercom_service={init,boot:function boot(widgetId,config={}){init(config),window.Intercom("boot",{...config,widget:{activator:widgetId},hide_default_launcher:!0})},update:function update(config){window.Intercom("update",config)},shutdown:function shutdown(){window.Intercom("shutdown")},onHide:function onHide(fn){window.Intercom("onHide",fn)},onShow:function onShow(fn){window.Intercom("onShow",fn)},setPosition:function setPosition(domElement){let intercomContainer,customStyle,time=0;const readyInterval=setInterval((()=>{if(time+=1,10===time)return void clearInterval(readyInterval);if(intercomContainer=document.querySelector("#intercom-container"),!intercomContainer)return;const{bottom,left,right}=domElement.getBoundingClientRect(),intercomRight=Math.max(window.innerWidth-(right-(right-left)/2)-188,0),intercomLeft=Math.max(window.innerWidth-intercomRight-376,0),intercomTop=bottom;customStyle=document.createElement("style"),customStyle.appendChild(document.createTextNode(`\n\t\t\t.intercom-namespace .intercom-app div.intercom-messenger-frame {\n\t\t\t\ttop: ${intercomTop}px;\n\t\t\t\tleft: ${intercomLeft}px;\n\t\t\t\tright: ${intercomRight}px;\n\t\t\t\tmargin-top: 1.25rem;\n\t\t\t}\n\t\t`)),intercomContainer.appendChild(customStyle),clearInterval(readyInterval)}),500);return function clearIntercomPosition(){clearInterval(readyInterval),intercomContainer&&customStyle&&setTimeout((()=>intercomContainer.removeChild(customStyle)),500)}}};var translate=__webpack_require__("../components/src/translate.js"),constants=__webpack_require__("../components/src/constants.js"),Intercom_module=__webpack_require__("../components/src/ActionIntercom/Intercom.module.scss"),Intercom_module_default=__webpack_require__.n(Intercom_module),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function Intercom({id,className,config,t,tooltipPlacement}){const[show,setShow]=(0,react.useState)(!1),ref=(0,react.useRef)(null);(0,react.useEffect)((()=>(Intercom_service.boot(`#${id}`,config),Intercom_service.onShow(setShow.bind(null,!0)),Intercom_service.onHide((()=>{setShow(!1),ref.current.focus()})),Intercom_service.shutdown)),[id,config,setShow]),(0,react.useLayoutEffect)((()=>Intercom_service.setPosition(ref.current)),[ref.current]);const label=show?t("TC_INTERCOM_CLOSE",{defaultValue:"Close chat with Talend Support"}):t("TC_INTERCOM_OPEN",{defaultValue:"Chat with Talend Support"});return(0,jsx_runtime.jsx)(TooltipTrigger.A,{label,tooltipPlacement,children:(0,jsx_runtime.jsx)("button",{"data-feature":show?"ipc.close":"ipc.open","data-test":show?"close":"open",ref,id,className:classnames_default()("btn","btn-link","tc-intercom",Intercom_module_default()["tc-intercom"],className,{[Intercom_module_default().open]:show}),children:(0,jsx_runtime.jsx)(Icon.A,{name:"talend-bubbles"})})})}Intercom.defaultProps={t:(0,translate.Ay)(),tooltipPlacement:"bottom"};const Intercom_component=(0,es.CI)(constants.A)(Intercom)},"../components/src/Icon/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _talend_design_system__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../design-system/lib-esm/index.js");_talend_design_system__WEBPACK_IMPORTED_MODULE_0__.In.displayName="Icon";const __WEBPACK_DEFAULT_EXPORT__=_talend_design_system__WEBPACK_IMPORTED_MODULE_0__.In},"../components/src/TooltipTrigger/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=__webpack_require__("../components/src/TooltipTrigger/TooltipTrigger.component.js").A},"../components/src/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,W:()=>CIRCULAR_PROGRESS_SIZE});const CIRCULAR_PROGRESS_SIZE={small:"small",default:"default",large:"large"},__WEBPACK_DEFAULT_EXPORT__="tui-components"},"../components/src/translate.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>getDefaultT,UK:()=>getCurrentLanguage,kh:()=>getI18nInstance});var react_i18next__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),i18next__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/i18next/dist/esm/i18next.js");function getI18nInstance(){return(0,react_i18next__WEBPACK_IMPORTED_MODULE_0__.TO)()?i18next__WEBPACK_IMPORTED_MODULE_1__.Ay:i18next__WEBPACK_IMPORTED_MODULE_1__.Ay.createInstance({},(()=>{}))}function getDefaultT(){const i18n=(0,react_i18next__WEBPACK_IMPORTED_MODULE_0__.TO)();return i18n?i18n.t.bind((0,react_i18next__WEBPACK_IMPORTED_MODULE_0__.TO)()):__webpack_require__.g.I18NEXT_T}function getCurrentLanguage(){return i18next__WEBPACK_IMPORTED_MODULE_1__.Ay.language?i18next__WEBPACK_IMPORTED_MODULE_1__.Ay.language:"en"}(0,react_i18next__WEBPACK_IMPORTED_MODULE_0__.TO)()||(console.warn("@talend/react-components used without i18n host."),(0,react_i18next__WEBPACK_IMPORTED_MODULE_0__.Vx)(i18next__WEBPACK_IMPORTED_MODULE_1__.Ay.createInstance({},(()=>{}))))},"../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../node_modules/resolve-url-loader/index.js??ruleSet[1].rules[14].use[3]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[4]!../components/src/ActionIntercom/Intercom.module.scss":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,'.Intercom-module__tc-intercom___vxjX1{position:relative}.Intercom-module__tc-intercom___vxjX1.Intercom-module__open___ChdQx::after{content:"â–²";position:absolute;top:100%;left:50%;transform:translateX(-50%);color:#015a8e;font-size:1.25rem;line-height:initial}',"",{version:3,sources:["webpack://./../components/src/ActionIntercom/Intercom.module.scss"],names:[],mappings:"AAAA,sCAEA,iBACC,CAAA,2EAEA,WACC,CAAA,iBACA,CAAA,QACA,CAAA,QACA,CAAA,0BACA,CAAA,aACA,CAAA,iBACA,CAAA,mBACA",sourcesContent:["@use '@talend/bootstrap-theme/src/theme/guidelines' as *;\n\n.tc-intercom {\n\tposition: relative;\n\n\t&.open::after {\n\t\tcontent: '\\25b2';\n\t\tposition: absolute;\n\t\ttop: 100%;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\tcolor: #015A8E;\n\t\tfont-size: 1.25rem;\n\t\tline-height: initial;\n\t}\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"tc-intercom":"Intercom-module__tc-intercom___vxjX1",open:"Intercom-module__open___ChdQx"};const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../components/src/ActionIntercom/Intercom.module.scss":(module,__unused_webpack_exports,__webpack_require__)=>{var API=__webpack_require__("../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),domAPI=__webpack_require__("../../node_modules/style-loader/dist/runtime/styleDomAPI.js"),insertFn=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertBySelector.js"),setAttributes=__webpack_require__("../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),insertStyleElement=__webpack_require__("../../node_modules/style-loader/dist/runtime/insertStyleElement.js"),styleTagTransformFn=__webpack_require__("../../node_modules/style-loader/dist/runtime/styleTagTransform.js"),content=__webpack_require__("../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[14].use[1]!../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[14].use[2]!../../node_modules/resolve-url-loader/index.js??ruleSet[1].rules[14].use[3]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[14].use[4]!../components/src/ActionIntercom/Intercom.module.scss");content=content.__esModule?content.default:content;var options={};options.styleTagTransform=styleTagTransformFn,options.setAttributes=setAttributes,options.insert=insertFn.bind(null,"head"),options.domAPI=domAPI,options.insertStyleElement=insertStyleElement;API(content,options);module.exports=content&&content.locals||{}}}]);