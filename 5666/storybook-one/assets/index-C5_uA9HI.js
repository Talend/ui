import{t as V,g as M}from"./iframe-BXejucuQ.js";import{r as $}from"./index-C282tdFH.js";var b={},B;function z(){if(B)return b;B=1;function v(t){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},v(t)}Object.defineProperty(b,"__esModule",{value:!0}),b.DebounceInput=void 0;var y=D(V()),j=D($()),R=["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur","inputRef"];function D(t){return t&&t.__esModule?t:{default:t}}function E(t,n){if(t==null)return{};var o=S(t,n),r,e;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(t);for(e=0;e<f.length;e++)r=f[e],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function S(t,n){if(t==null)return{};var o={},r=Object.keys(t),e,f;for(f=0;f<r.length;f++)e=r[f],!(n.indexOf(e)>=0)&&(o[e]=t[e]);return o}function w(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,r)}return o}function c(t){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?w(Object(o),!0).forEach(function(r){p(t,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))})}return t}function T(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function K(t,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,n,o){return n&&K(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&O(t,n)}function O(t,n){return O=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r},O(t,n)}function q(t){var n=k();return function(){var r=h(t),e;if(n){var f=h(this).constructor;e=Reflect.construct(r,arguments,f)}else e=r.apply(this,arguments);return x(this,e)}}function x(t,n){if(n&&(v(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(t)}function s(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},h(t)}function p(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var P=(function(t){L(o,t);var n=q(o);function o(r){var e;T(this,o),e=n.call(this,r),p(s(e),"onChange",function(u){u.persist();var i=e.state.value,a=e.props.minLength;e.setState({value:u.target.value},function(){var l=e.state.value;if(l.length>=a){e.notify(u);return}i.length>l.length&&e.notify(c(c({},u),{},{target:c(c({},u.target),{},{value:""})}))})}),p(s(e),"onKeyDown",function(u){u.key==="Enter"&&e.forceNotify(u);var i=e.props.onKeyDown;i&&(u.persist(),i(u))}),p(s(e),"onBlur",function(u){e.forceNotify(u);var i=e.props.onBlur;i&&(u.persist(),i(u))}),p(s(e),"createNotifier",function(u){if(u<0)e.notify=function(){return null};else if(u===0)e.notify=e.doNotify;else{var i=(0,j.default)(function(a){e.isDebouncing=!1,e.doNotify(a)},u);e.notify=function(a){e.isDebouncing=!0,i(a)},e.flush=function(){return i.flush()},e.cancel=function(){e.isDebouncing=!1,i.cancel()}}}),p(s(e),"doNotify",function(){var u=e.props.onChange;u.apply(void 0,arguments)}),p(s(e),"forceNotify",function(u){var i=e.props.debounceTimeout;if(!(!e.isDebouncing&&i>0)){e.cancel&&e.cancel();var a=e.state.value,l=e.props.minLength;a.length>=l?e.doNotify(u):e.doNotify(c(c({},u),{},{target:c(c({},u.target),{},{value:a})}))}}),e.isDebouncing=!1,e.state={value:typeof r.value>"u"||r.value===null?"":r.value};var f=e.props.debounceTimeout;return e.createNotifier(f),e}return I(o,[{key:"componentDidUpdate",value:function(e){if(!this.isDebouncing){var f=this.props,u=f.value,i=f.debounceTimeout,a=e.debounceTimeout,l=e.value,m=this.state.value;typeof u<"u"&&l!==u&&m!==u&&this.setState({value:u}),i!==a&&this.createNotifier(i)}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var e=this.props,f=e.element;e.onChange,e.value,e.minLength,e.debounceTimeout;var u=e.forceNotifyByEnter,i=e.forceNotifyOnBlur,a=e.onKeyDown,l=e.onBlur,m=e.inputRef,C=E(e,R),U=this.state.value,d;u?d={onKeyDown:this.onKeyDown}:a?d={onKeyDown:a}:d={};var g;i?g={onBlur:this.onBlur}:l?g={onBlur:l}:g={};var W=m?{ref:m}:{};return y.default.createElement(f,c(c(c(c({},C),{},{onChange:this.onChange,value:U},d),g),W))}}]),o})(y.default.PureComponent);return b.DebounceInput=P,p(P,"defaultProps",{element:"input",type:"text",onKeyDown:void 0,onBlur:void 0,value:void 0,minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0,inputRef:void 0}),b}var _,N;function A(){if(N)return _;N=1;var v=z(),y=v.DebounceInput;return y.DebounceInput=y,_=y,_}var G=A();const Q=M(G);export{Q as D};
