import{at as e,a as w,j as o,u as b,r as l}from"./iframe-BIQdka0S.js";import{u as F}from"./useLocalStorage-ClTdCtsf.js";import{I as j}from"./constants-CZYEPhht.js";import{G as v}from"./GuidedTour.component-DvZ4Brtq.js";import{S as i}from"./Stepper.component-Dy18vOat.js";import{T as N}from"./Toggle.component-DfgniTBa.js";import{g as y}from"./get-33mJQZqf.js";import{g as V}from"./theme-cRIqY071.js";import{C as k}from"./Checkbox-DydvmLir.js";import"./preload-helper-PPVm8Dsz.js";import"./util-jvF6Sxgj.js";import"./reactour.esm-CrgMirMW.js";import"./index-4WOAe8Hp.js";import"./tslib.es6-DwEbZtuj.js";import"./inheritsLoose-BbyS8huE.js";import"./ErrorState-OoHRoH2m.js";import"./index-BmiDGyXa.js";import"./index-D2ql4zSJ.js";import"./CircularProgress.component-CDahmhUX.js";import"./translate-RgWSvZcG.js";import"./withTranslation-C0c3WAs5.js";import"./Transition-aWEt4ZNO.js";import"./Transition-CZ1LJOWj.js";import"./_baseGet-DNbipbyJ.js";import"./toString-BqfwYfrR.js";import"./isSymbol-dumj61Kg.js";import"./eq-GFeXzubR.js";import"./omit-BJGUYW0v.js";import"./_baseSlice-C8dPXsaR.js";import"./_getTag-KdA_BnLc.js";import"./isArrayLike-C7prZ4fa.js";const B={"tc-label-toggle":"_tc-label-toggle_avlnx_3","tc-radio-disabled":"_tc-radio-disabled_avlnx_10","tc-radio-selected":"_tc-radio-selected_avlnx_16"},G=V(B),H=(r,s,a)=>r?a?y(a,"value"):y(s,["0","value"]):null;function q({id:r,values:s,name:a,value:u,onChange:n,disabled:c,autoFocus:h=!1}){const C=r||w(),I=t=>{n(t.target.value)},d=t=>`${C}-radio-${t}`,O=H(h,s,u);return o.jsx("div",{className:G("tc-label-toggle",{"tc-radio-disabled":c}),children:s.map(t=>o.jsxs("label",{"data-feature":t.dataFeature,htmlFor:d(t.value),className:G({"tc-radio-selected":u===t.value}),children:[o.jsx("input",{id:d(t.value),type:"radio",value:t.value,checked:u===t.value,name:a,disabled:c,onChange:m=>I(m),autoFocus:O===t.value}),o.jsx("span",{children:t.label})]},t.value))})}q.propTypes={autoFocus:e.bool,disabled:e.bool,id:e.string,name:e.string.isRequired,onChange:e.func.isRequired,value:e.string,values:e.arrayOf(e.shape({value:e.string.isRequired,label:e.string.isRequired,dataFeature:e.string}).isRequired)};N.Label=q;N.Checkbox=k;const W="_info_165qz_2",$={info:W};function L({demoContentSteps:r}){const{t:s}=b(j);return r.length?o.jsxs(l.Fragment,{children:[o.jsx("p",{className:$.info,children:s("DEMO_CONTENT_LOADING_MESSAGE",{defaultValue:`Loading may take a few minutes to complete.
Isn't it time for tea or coffee?`})}),o.jsx(i,{steps:r})]}):null}L.propTypes={demoContentSteps:i.propTypes.steps.isRequired};const T=1,K="app-guided-tour-viewed";function U({isOpen:r,appName:s,steps:a,localStorageKey:u=K,demoContentSteps:n,onRequestOpen:c,onImportDemoContent:h,onRequestClose:C,welcomeStepBody:I=null,tourId:d,...O}){const{t}=b(j),[m,P]=F(u,!1),[f,x]=l.useState(n&&!m),[_,g]=l.useState(0);l.useEffect(()=>{r&&g(0)},[r]);const E=f&&_===T&&i.isStepsLoading(n),A=n?.length&&i.isAllSuccessful(n);return l.useEffect(()=>{m||c()},[m,c]),l.useEffect(()=>{let p=null;return A&&(p=setTimeout(()=>{g(R=>R===T?T+1:R)},i.SHOW_COMPLETED_TRANSITION_TIMER)),()=>clearTimeout(p)},[A]),o.jsx(v,{tourId:d,isOpen:r,showButtons:!E,showCloseButton:!E,disableKeyboardNavigation:E,disableAllInteractions:E,getCurrentStep:p=>{f&&p===T&&_===T-1&&h(),g(p)},goToStep:_,onRequestClose:()=>{C(),P(!0),f&&(x(!1),g(Math.max(0,_-1)))},steps:[{content:{header:t("GUIDED_TOUR_WELCOME_STEP_HEADER",{appName:s,defaultValue:"Welcome to {{appName}}"}),body:()=>I||o.jsxs("div",{children:[t("GUIDED_TOUR_WELCOME_STEP_BODY",{defaultValue:`If you're new, you may want to take a quick tour of the tool now.
										 If not, you can replay the tour from the user menu.`}),n&&o.jsx("form",{children:o.jsx(N,{id:"app-guided-tour__import-demo-content-toggle",label:t("GUIDED_TOUR_IMPORT_DEMO_CONTENT",{defaultValue:"Import demo content"}),onChange:p=>{x(p.target.checked)},checked:f,"data-feature":d&&`guidedtour.${d}.demo`})})]})}},f&&{content:{header:t("GUIDED_TOUR_DEMO_CONTENT_STEP_HEADER",{defaultValue:"Importing demo content"}),body:()=>o.jsx(L,{demoContentSteps:n})}},...a].filter(Boolean),...O})}U.propTypes={isOpen:e.bool.isRequired,appName:e.string.isRequired,localStorageKey:e.string,steps:v.propTypes.steps,welcomeStepBody:e.node,demoContentSteps:i.propTypes.steps,onRequestOpen:e.func.isRequired,onImportDemoContent:e.func,onRequestClose:e.func.isRequired,tourId:e.string};function M({withDemoContent:r=!1}){const[s,a]=l.useState(i.LOADING_STEP_STATUSES.PENDING),u={demoContentSteps:[{label:"Importing datasets",status:s}],onImportDemoContent:()=>{a(i.LOADING_STEP_STATUSES.LOADING),setTimeout(()=>{a(i.LOADING_STEP_STATUSES.SUCCESS)},2e3)}};return o.jsx(U,{tourId:"preparation",isOpen:!0,appName:"Data Preparation",steps:[{content:{header:"Header",body:()=>"Content"}}],onRequestOpen:()=>{},onRequestClose:()=>{},lastStepNextButtonDataFeature:"HEHEEE",...r?u:{}})}const Ne={title:"Components/Messaging & Communication/AppGuidedTour"},S=()=>o.jsx(M,{withDemoContent:!0}),D=()=>o.jsx(M,{});S.parameters={...S.parameters,docs:{...S.parameters?.docs,source:{originalSource:"() => <AppGuidedTourContainer withDemoContent />",...S.parameters?.docs?.source}}};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:"() => <AppGuidedTourContainer />",...D.parameters?.docs?.source}}};const xe=["Default","WithoutDemoContent"];export{S as Default,D as WithoutDemoContent,xe as __namedExportsOrder,Ne as default};
