import{j as t,at as a,u as j,r as N,S as y,au as I,aP as D}from"./iframe-CfWawTfz.js";import{E as L}from"./ErrorState-EpEbow1k.js";import"./index-Da2WDrD7.js";import"./index-bf582Dru.js";import{g as C}from"./theme-DZnXLXFI.js";import{T as R}from"./Transition-CO_Dd883.js";import{I as P}from"./constants-CZYEPhht.js";import{C as b}from"./CircularProgress.component-Bl-gboGZ.js";const v="_error_1s87t_2",U="_stepper_1s87t_7",G={"loading-content-steps":"_loading-content-steps_1s87t_2",error:v,stepper:U,"stepper-step":"_stepper-step_1s87t_13","stepper-steps":"_stepper-steps_1s87t_16","stepper-step-infos":"_stepper-step-infos_1s87t_21","stepper-step-message":"_stepper-step-message_1s87t_24","stepper-step-pending":"_stepper-step-pending_1s87t_29","stepper-step-aborted":"_stepper-step-aborted_1s87t_30","stepper-step-failure":"_stepper-step-failure_1s87t_33","stepper-icon":"_stepper-icon_1s87t_37","stepper-icon-success":"_stepper-icon-success_1s87t_42","stepper-icon-failure":"_stepper-icon-failure_1s87t_45","stepper-icon-aborted":"_stepper-icon-aborted_1s87t_48","stepper-icon-pending":"_stepper-icon-pending_1s87t_54","stepper-retry":"_stepper-retry_1s87t_60"},_=300,F={transition:`opacity ${_}ms ease-in-out`,opacity:0,display:"flex",overflow:"auto",height:"100%",width:"100%"},H={entering:{opacity:0},entered:{opacity:1},exited:{display:"none"}};function E({children:s,active:e}){return s?t.jsx(R,{timeout:_,in:e,children:n=>t.jsx("div",{style:{...F,...H[n]},children:s})}):null}E.propTypes={children:a.element,active:a.bool.isRequired};const p=C(G),f=1e3,i={STEPS:"STEPS",TRANSITION:"TRANSITION",CHILD:"CHILD"},r={ABORTED:"aborted",PENDING:"pending",LOADING:"loading",SUCCESS:"success",FAILURE:"failure"},h=s=>s.some(e=>e.status===r.FAILURE),M=s=>s.find(e=>e.status===r.FAILURE),g=s=>s.every(e=>e.status===r.SUCCESS),A=s=>s.length!==0&&!g(s)&&!h(s);function w(s,e){switch(e){case r.ABORTED:return s("ABORTED",{defaultValue:" (Aborted)"});case r.PENDING:return s("PENDING",{defaultValue:" (Pending)"});default:return null}}function B(s){const e=p(`stepper-icon-${s}`,"stepper-icon");switch(s){case r.SUCCESS:return t.jsx(I,{name:"talend-check",className:e});case r.ABORTED:return t.jsx(I,{name:"talend-cross",className:e});case r.PENDING:return t.jsx("span",{className:e,children:"-"});case r.FAILURE:return t.jsx(I,{name:"talend-warning",className:e});case r.LOADING:return t.jsx(b,{className:e});default:return null}}function $(s,e,n=0){n===0?e(s):setTimeout(()=>{e(s)},n)}function V(s,e,n,l){const m=p("stepper-step",`stepper-step-${e.status}`),c={};return([r.LOADING,r.FAILURE].includes(e.status)||n===l.length-1&&e.status===r.SUCCESS)&&(c["aria-current"]=!0),t.jsxs("li",{className:m,...c,children:[t.jsxs("div",{className:p("stepper-step-infos"),children:[B(e.status),e.label,w(s,e.status)]}),e.message&&t.jsxs("div",{className:p("stepper-step-message"),children:[t.jsx("span",{className:p("stepper-step-message-label"),children:e.message.label}),e.message.description&&t.jsx("p",{children:e.message.description})]})]},`step-${n}`)}function T(s,e=0){return n=>$(s,n,e)}const W=T(i.TRANSITION,f),k=T(i.CHILD,f+_),q=T(i.TRANSITION),z=T(i.STEPS,_);function o({steps:s,title:e,renderActions:n,children:l}){const{t:m}=j(P),c=M(s),[u,S]=N.useState(A(s)||!l?i.STEPS:i.CHILD);return N.useEffect(()=>{const d=g(s);l&&d&&(u===i.STEPS||u===i.TRANSITION)?(W(S),k(S)):!d&&u===i.CHILD&&(q(S),z(S))},[s]),c?t.jsx("div",{className:p("loading-content-steps","error"),children:t.jsxs(y,{gap:0,align:"center",justify:"center",children:[t.jsx(L,{title:c.label,description:c.message?.label}),n&&n(!!c)?t.jsx("div",{children:n(!!c)}):null]})}):t.jsxs(N.Fragment,{children:[t.jsx(E,{active:u===i.CHILD,children:l}),t.jsx(E,{active:u===i.STEPS,children:t.jsx("div",{className:p("stepper"),children:t.jsxs("div",{className:p("loading-content-steps"),children:[e&&t.jsx("h2",{children:e}),t.jsx("ol",{className:p("stepper-steps"),children:s.map((d,x,O)=>V(m,d,x,O))})]})})})]})}o.displayName="Stepper";o.defaultProps={steps:[]};o.propTypes={title:a.string,renderActions:a.func,children:a.element,steps:a.arrayOf(a.shape({label:a.string,status:a.oneOf(Object.values(r)),message:a.shape({label:a.string,description:a.string})}))};o.SHOW_COMPLETED_TRANSITION_TIMER=f;o.LOADING_STEP_STATUSES=r;o.isStepsLoading=A;o.isAllSuccessful=g;o.isErrorInSteps=h;o.Form=D;export{o as S};
