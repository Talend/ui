import { Meta } from '@storybook/addon-docs/blocks';
import { ColorPalette, ColorItem } from '@storybook/components';

import { light } from '../.';

import tokens from '../../tokens';
import { FigmaImage } from '../../docs';

<Meta title="Themes/Light" />

export function isNumeric(str) {
    if (typeof str != "string") return false;
    return !isNaN(str) && !isNaN(parseFloat(str));
}

export function getTokenNameByValue(value) {
    let designToken = null;
    Object.entries(tokens.colors).some(([k, v]) => {
        if (typeof v === 'object' && v !== null) {
            const match = Object.entries(v).find(([kn, vn]) =>
                isNumeric(kn) && vn === value);
            if (match) {
                designToken = `${k}[${match[0]}]`;
            }
        }
    });
    return designToken || 'there is no design token used here!';
}

# Light theme (default)

<FigmaImage
	src="https://www.figma.com/file/6yvSenpvK9L8892ruW7XI6/Portal?node-id=2%3A115"
	alt="Talend light theme"
	full
/>

<ColorPalette>
	{Object.entries(light.colors).map(([k, v], index) => {
		const vs = typeof v === 'string' ? v : v[500];
		return <ColorItem key={index} title={k} colors={{ [`${getTokenNameByValue(vs)}`]: vs }} />;
	})}
</ColorPalette>
