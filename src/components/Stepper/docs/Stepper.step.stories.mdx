import { Meta, Canvas, Story } from '@storybook/addon-docs';
import { IconItem, IconGallery } from '@storybook/components';
import { IconsProvider } from '../../IconsProvider';
import { FigmaImage, FigmaLink, Use } from '../../../docs';
import { Icon } from '../../Icon';
import Tooltip from '../../Tooltip';
import Step from '../Step';

<Meta title="Components/Stepper/Step" component={Step} />

<FigmaLink href="https://www.figma.com/file/WUVKJmcDHfR7K1q1lYhaHk/?node-id=1%3A4" />

<IconsProvider
	bundles={['https://statics-dev.cloud.talend.com/@talend/icons/6.7.0/dist/svg-bundle/all.svg']}
/>

# Step

Steps are the main elements for the stepper.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/qc8oUSyVJM67gSsbTShftt/%F0%9F%93%90-Zoning?node-id=345%3A167"
	alt="zoning image for the steps"
/>

## Style

### Icons

<IconGallery>
	{['talend-check-circle', 'talend-cross-circle'].map((iconName, index) => (
		<IconItem key={index} name={iconName}>
			<Icon name={iconName} />
		</IconItem>
	))}
</IconGallery>

### Sizes

The max-width for a step is 20rem, if the label is longer we display an ellipsis.

### Variations

**Validated**

<Canvas>
	<Story name="Validated">
		<Step.Validated data-index={1} title="Lorem Ipsum" />
	</Story>
</Canvas>

**Enabled**

<Canvas>
	<Story name="Enabled">
		<Step.Enabled data-index={2} title="Lorem Ipsum" />
	</Story>
</Canvas>

**Error**

<Canvas>
	<Story name="Error">
		<Step.Error data-index={3} title="Lorem ipsum" />
	</Story>
</Canvas>

**In Progress**

<Canvas>
	<Story name="InProgress">
		<Step.InProgress data-index={4} title="Lorem Ipsum" />
	</Story>
</Canvas>

**Disabled**

<Canvas>
	<Story name="Disabled">
		<Step.Disabled data-index={5} title="Lorem Ipsum" />
	</Story>
</Canvas>

**Skeleton**

<Canvas>
	<Story name="Skeleton">
		<Step.Skeleton />
	</Story>
</Canvas>

<!--
<FigmaImage
	src="https://www.figma.com/file/WUVKJmcDHfR7K1q1lYhaHk/Stepper?node-id=1%3A424"
	alt="variations image for steps"
/>

**Sub step** _(coming later)_

Sub steps are optional. They should be used to avoid having too many steps, or too long steps.
-->

## States

<FigmaImage
	src="https://www.figma.com/file/WUVKJmcDHfR7K1q1lYhaHk/Stepper?node-id=104%3A0"
	alt="states image for the steps"
/>

## Interactions

Hovering the step will display a tooltip with the full label.

<Canvas>
	<Story name="Max width">
		<Tooltip title="lorem ipsum dolor sit amet">
			<Step.InProgress data-index={1} title="lorem ipsum dolor sit amet" />
		</Tooltip>
	</Story>
</Canvas>

<FigmaImage
	src="https://www.figma.com/file/WUVKJmcDHfR7K1q1lYhaHk/Stepper?node-id=1%3A462"
	alt="hovering on"
/>

## Usage

_To do_

## Accessibility

- Press <kbd>Tabs</kbd> to focus is on each step (icon + label) meaning max focus will be 15rem

## Changelog

| Date       | Author         | Description        |
| ---------- | -------------- | ------------------ |
| 02/25/2021 | Monia Huet     | Init page          |
| 04/08/2021 | Nicolas Comont | Add Step component |
