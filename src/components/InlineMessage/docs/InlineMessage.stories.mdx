import { Meta, Preview, Props, Story } from '@storybook/addon-docs/blocks';
import { ColorPalette, ColorItem, IconItem, IconGallery } from '@storybook/components';
import { FigmaImage, Use } from '../../../docs';

import tokens from '../../../tokens';
import Icon from '../../Icon';
import InlineMessage from '../';
import Link from '../../Link';

<Meta title="Components/InlineMessage" component={InlineMessage} />

# Inline Message

Inline Message highlights information necessary to display for the user in many different contexts.
It can be additional information related to system status, it can be a required action to complete the current task.

## Zoning

<FigmaImage
	src="https://www.figma.com/file/2Sw2IvUHZ9F2srJ3L8AWxr/%F0%9F%93%90-Zoning?node-id=12%3A96"
	alt="zoning image for inline messages"
/>

## Style

### Icons

<IconGallery>
	{['cross', 'warning', 'check', 'information'].map((iconName, index) => (
		<IconItem key={index} name={iconName}>
			<Icon name={iconName} />
		</IconItem>
	))}
</IconGallery>

### Colors

<ColorPalette>
	<ColorItem
		title="theme.color.palette"
		subtitle="Inline message colors"
		colors={{
			Error: tokens.colors.coral500,
			Warning: tokens.colors.jaffa500,
			Success: tokens.colors.rioGrande500,
			Information: tokens.colors.lochmara,
		}}
	/>
</ColorPalette>

### Text

The text should adapt the surrounding layout. Depending on the context, if the text is too long it should automatically wraps the line.

### Variations

**Default**

<Preview>
	<Story name="information">
		<InlineMessage.Information
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
		/>
	</Story>
	<Story name="success">
		<InlineMessage.Success
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
		/>
	</Story>
	<Story name="warning">
		<InlineMessage.Warning
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
		/>
	</Story>
	<Story name="destructive">
		<InlineMessage.Destructive
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
		/>
	</Story>
</Preview>

**Small**

<Preview>
	<Story name="informationSmall">
		<InlineMessage.Information
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			small
		/>
	</Story>
	<Story name="successSmall">
		<InlineMessage.Success
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			small
		/>
	</Story>
	<Story name="warningSmall">
		<InlineMessage.Warning
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			small
		/>
	</Story>
	<Story name="destructiveSmall">
		<InlineMessage.Destructive
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			small
		/>
	</Story>
</Preview>

**With background**

<Preview>
	<Story name="informationWithBg">
		<InlineMessage.Information
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			withBackground
		/>
	</Story>
	<Story name="successWithBg">
		<InlineMessage.Success
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			withBackground
		/>
	</Story>
	<Story name="warningWithBg">
		<InlineMessage.Warning
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			withBackground
		/>
	</Story>
	<Story name="destructiveWithBg">
		<InlineMessage.Destructive
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			withBackground
		/>
	</Story>
</Preview>

**Small with background**

<Preview>
	<Story name="informationSmallWithBg">
		<InlineMessage.Information
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			small
			withBackground
		/>
	</Story>
	<Story name="successSmallWithBg">
		<InlineMessage.Success
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			small
			withBackground
		/>
	</Story>
	<Story name="warningSmallWithBg">
		<InlineMessage.Warning
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			small
			withBackground
		/>
	</Story>
	<Story name="destructiveSmallWithBg">
		<InlineMessage.Destructive
			title={'Lorem ipsum'}
			description={
				'dolor sit amet, consectetur adipiscing elit. Integer gravida orci lacus, vel convallis enim posuere ac.'
			}
			link={<Link href={'#'}>See more</Link>}
			small
			withBackground
		/>
	</Story>
</Preview>

## Interactions

Inline messages are non clickable, except if there is a link. In that case, only the link will be clickable.
Please refer to the hyperlink guidelines for more information.

## Content

Inline messages interrupt the user to deliver a communication. They can be notifications, alerts, confirmation, inline validation, or error messages.
Error messages should tell why there was a problem and what could be done to resolve it.There are two general types of error messages:

* Field-validation errors appear when a user enters info in a form field, but it isn’t formatted correctly.
* System errors appear when the entire application is having trouble, like when something is down or a user’s data is missing through no fault of their own.

<Use>
	<Use.Do>
		<ul>
			<li>Be clear and conversational.</li>
			<li>
				Get right to the point. Be brief but also super literal. Say what exactly happened and what
				the user needs to do to fix the error.
			</li>
			<li>
				Use the correct combination of CTA buttons. For example if you say "Replace the source file
				with X?" the options should be Replace/Cancel and not Yes/No/Retry.
			</li>
			<li>
				Provide appropriate actions where applicable. Actions in error messages guide users about
				the next step.
			</li>
		</ul>
	</Use.Do>
	<Use.Dont>
		<ul>
			<li>
				Don’t includ extra details about why the error happened—give only the info that users need
				to know.
			</li>
			<li>
				Avoid negative words. For exampl, say "You need to have enough rights to publish pipelines"
				instead of "You don't have enough rights to publish pipelines".
			</li>
			<li>Don’t use technical jargons. Use users language.</li>
		</ul>
	</Use.Dont>
</Use>

## Usage

<Preview>
	<Story
		name="basic"
		args={{
			variant: 'Primary',
			title: 'Title',
			description: 'Description',
			withBackground: true,
		}}
		argTypes={{
			variant: {
				description: 'InlineMessage variation',
				control: {
					type: 'select',
					options: ['Information', 'Success', 'Warning', 'Destructive'],
				},
			},
		}}
	>
		{({ variant, ...rest }) => {
			const Component = InlineMessage[variant] || InlineMessage;
			return <Component {...rest} />;
		}}
	</Story>
</Preview>

<Props story="basic" />

## Accessibility

_To do_

## Changelog

| Date       | Author     | Description |
| ---------- | ---------- | ----------- |
| 03/18/2020 | Monia Huet | Init page   |
