"use strict";(self.webpackChunk_talend_react_containers=self.webpackChunk_talend_react_containers||[]).push([[554],{"./src/ObjectViewer/ObjectViewer.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Flat:()=>Flat,JsonLikeWithHightlight:()=>JsonLikeWithHightlight,JsonLikeWithRootLabel:()=>JsonLikeWithRootLabel,JsonLikeWithTypes:()=>JsonLikeWithTypes,JsonLikeWithTypesAndTupleName:()=>JsonLikeWithTypesAndTupleName,List:()=>List,Table:()=>Table,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ObjectViewer_stories});var lib_esm=__webpack_require__("../cmf/lib-esm/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("../../node_modules/react/index.js"),immutable=__webpack_require__("../../node_modules/immutable/dist/immutable.js"),components_lib_esm=__webpack_require__("../components/lib-esm/index.js"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const DEFAULT_STATE=new immutable.Map({edited:new immutable.List,opened:new immutable.List,selectedJsonpath:"",modified:new immutable.Map});class ObjectViewer extends react.Component{constructor(props){super(props),this.onToggle=this.onToggle.bind(this),this.onToggleAllSiblings=this.onToggleAllSiblings.bind(this),this.onEdit=this.onEdit.bind(this),this.onChange=this.onChange.bind(this),this.onSelect=this.onSelect.bind(this)}onToggle(event,data){this.props.setState(prevState=>function toggleState(prevState,data){return data.isOpened?function ObjectViewer_container_close(path,state){const opened=state.get("opened");return state.set("opened",opened.delete(opened.indexOf(path)))}(data.jsonpath,prevState.state):!1===data.isOpened?function ObjectViewer_container_open(path,state){return state.set("opened",state.get("opened").push(path))}(data.jsonpath,prevState.state):prevState}(prevState,data))}onToggleAllSiblings(event,data){this.props.setState(prevState=>function openAllState(prevState,siblings){let openedIds=prevState.state.get("opened");return siblings.filter(({data})=>"object"==typeof data).forEach(({jsonpath})=>{openedIds.includes(jsonpath)||(openedIds=openedIds.push(jsonpath))}),prevState.state.set("opened",openedIds)}(prevState,data))}onEdit(event,data){this.props.setState(prevState=>function editWrapper(prevState,data){return!1===data.edit?function edit(path,state){return state.set("edited",state.get("edited").push(path))}(data.jsonpath,prevState.state):prevState}(prevState,data))}onChange(event,data){this.props.setState(prevState=>function change(path,state,value){return state.set("modified",state.get("modified").set(path,value))}(data.jsonpath,prevState.state,event.target.value))}onSelect(event,data){this.props.setState(prevState=>function selectWrapper(prevState,data){return function ObjectViewer_container_select(path,state){return state.set("selectedJsonpath",path)}(data.jsonpath,prevState.state)}(prevState,data))}render(){const state=(this.props.state||DEFAULT_STATE).toJS();return(0,jsx_runtime.jsx)(components_lib_esm.ObjectViewer,{...this.props,onChange:this.props.onSubmit?this.onChange:void 0,onSelect:this.onSelect,onEdit:this.onEdit,onToggle:this.onToggle,onToggleAllSiblings:this.onToggleAllSiblings,selectedJsonpath:state.selectedJsonpath,opened:state.opened,edited:state.edited})}}ObjectViewer.displayName="ObjectViewer",_defineProperty(ObjectViewer,"displayName","CMFContainer(ObjectViewer)"),_defineProperty(ObjectViewer,"propTypes",{id:prop_types_default().string,data:(0,lodash.get)(components_lib_esm.ObjectViewer,"propTypes.data",prop_types_default().any),displayMode:(0,lodash.get)(components_lib_esm.ObjectViewer,"propTypes.displayMode",prop_types_default().func),onSubmit:(0,lodash.get)(components_lib_esm.ObjectViewer,"propTypes.onSubmit",prop_types_default().func),...lib_esm.TJ.propTypes});const ObjectViewer_container=ObjectViewer,src_ObjectViewer=(0,lib_esm.TJ)({defaultState:DEFAULT_STATE,componentId:ownProps=>ownProps.id||"ObjectViewer",omitCMFProps:!0,withComponentRegistry:!0,withDispatch:!0,withDispatchActionCreator:!0,withComponentId:!0})(ObjectViewer_container);const veryLongCafeName="Betty's Cafe witha  veryyyyyyy veryyyyyyyyyy looong name",data=[{business_id:0,name:`${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName}`,category:"Club",rating:4,num_of_reviews:2647,attributes:{good_for:{dessert:!1,kids:!0,drinks:!1,breakfast:!1,lunch:!1,dinner:!0},parking:{lot:!1,valet:!1,garage:!1},take_reservations:!0,noise_level:"quiet"},location:{zipType:"STANDARD",zip:72132,decommisioned:!1,taxReturnsFiled:1400,location:"NA- US - AR - REDFIELD",estimatedPopulation:2653,locationType:"PRIMARY",totalWages:56190766,state:"AR",longitude:-92.18,latitude:34.44,city:"REDFIELD"}},{business_id:1,name:`${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName}`,category:"Club",rating:4,num_of_reviews:2647,attributes:{good_for:{dessert:!1,kids:!0,drinks:!1,breakfast:!1,lunch:!1,dinner:!0},parking:{lot:!1,valet:!1,garage:!1},take_reservations:!0,noise_level:"quiet"},location:{zipType:"STANDARD",zip:72132,decommisioned:!1,taxReturnsFiled:1400,location:"NA- US - AR - REDFIELD",estimatedPopulation:2653,locationType:"PRIMARY",totalWages:56190766,state:"AR",longitude:-92.18,latitude:34.44,city:"REDFIELD"}},{business_id:2,name:"Nancy's Club",category:"Club",rating:2,num_of_reviews:3779,attributes:{good_for:{dessert:!1,kids:!0,drinks:!1,breakfast:!1,lunch:!1,dinner:!0},parking:{lot:!0,valet:!0,garage:!1},take_reservations:!0,noise_level:"average"},location:{zipType:"PO BOX",zip:88221,decommisioned:!1,taxReturnsFiled:967,location:"NA-US - NM - CARLSBAD",estimatedPopulation:1638,locationType:"PRIMARY",totalWages:37060120,state:"NM",longitude:-104.23,latitude:32.4,city:"CARLSBAD"}},{business_id:3,name:"Cecelia's Club",category:"Cafe",rating:4,num_of_reviews:16547,attributes:{good_for:{dessert:!0,kids:!1,drinks:!1,breakfast:!0,lunch:!1,dinner:!1},parking:{lot:!0,valet:!0,garage:!1},take_reservations:!1,noise_level:"noisy"},location:{zipType:"PO BOX",zip:47445,decommisioned:!1,taxReturnsFiled:123,location:"NA-US - IN - MIDLAND",estimatedPopulation:123,locationType:"PRIMARY",totalWages:456,state:"IN",longitude:-87.16,latitude:39.09,city:"MIDLAND"}},{business_id:4,name:"Gordon's Bar",category:"Cafe",rating:1,num_of_reviews:152,attributes:{good_for:{dessert:!1,kids:!1,drinks:!0,breakfast:!0,lunch:!0,dinner:!0},parking:{lot:!0,valet:!1,garage:!0},take_reservations:!0,noise_level:"noisy"},location:{zipType:"STANDARD",zip:65638,decommisioned:!1,taxReturnsFiled:123,location:"NA- US - MO - DRURY",estimatedPopulation:123,locationType:"PRIMARY",totalWages:456,state:"MO",longitude:-92.32,latitude:36.92,city:"DRURY"}}],ObjectViewer_stories={parameters:{storySource:{source:"import ObjectViewer from '.';\n\nconst veryLongCafeName = \"Betty's Cafe witha  veryyyyyyy veryyyyyyyyyy looong name\";\nconst data = [\n\t{\n\t\tbusiness_id: 0,\n\t\tname: `${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName}`,\n\t\tcategory: 'Club',\n\t\trating: 4,\n\t\tnum_of_reviews: 2647,\n\t\tattributes: {\n\t\t\tgood_for: {\n\t\t\t\tdessert: false,\n\t\t\t\tkids: true,\n\t\t\t\tdrinks: false,\n\t\t\t\tbreakfast: false,\n\t\t\t\tlunch: false,\n\t\t\t\tdinner: true,\n\t\t\t},\n\t\t\tparking: { lot: false, valet: false, garage: false },\n\t\t\ttake_reservations: true,\n\t\t\tnoise_level: 'quiet',\n\t\t},\n\t\tlocation: {\n\t\t\tzipType: 'STANDARD',\n\t\t\tzip: 72132,\n\t\t\tdecommisioned: false,\n\t\t\ttaxReturnsFiled: 1400,\n\t\t\tlocation: 'NA- US - AR - REDFIELD',\n\t\t\testimatedPopulation: 2653,\n\t\t\tlocationType: 'PRIMARY',\n\t\t\ttotalWages: 56190766,\n\t\t\tstate: 'AR',\n\t\t\tlongitude: -92.18,\n\t\t\tlatitude: 34.44,\n\t\t\tcity: 'REDFIELD',\n\t\t},\n\t},\n\t{\n\t\tbusiness_id: 1,\n\t\tname: `${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName} ${veryLongCafeName}`,\n\t\tcategory: 'Club',\n\t\trating: 4,\n\t\tnum_of_reviews: 2647,\n\t\tattributes: {\n\t\t\tgood_for: {\n\t\t\t\tdessert: false,\n\t\t\t\tkids: true,\n\t\t\t\tdrinks: false,\n\t\t\t\tbreakfast: false,\n\t\t\t\tlunch: false,\n\t\t\t\tdinner: true,\n\t\t\t},\n\t\t\tparking: { lot: false, valet: false, garage: false },\n\t\t\ttake_reservations: true,\n\t\t\tnoise_level: 'quiet',\n\t\t},\n\t\tlocation: {\n\t\t\tzipType: 'STANDARD',\n\t\t\tzip: 72132,\n\t\t\tdecommisioned: false,\n\t\t\ttaxReturnsFiled: 1400,\n\t\t\tlocation: 'NA- US - AR - REDFIELD',\n\t\t\testimatedPopulation: 2653,\n\t\t\tlocationType: 'PRIMARY',\n\t\t\ttotalWages: 56190766,\n\t\t\tstate: 'AR',\n\t\t\tlongitude: -92.18,\n\t\t\tlatitude: 34.44,\n\t\t\tcity: 'REDFIELD',\n\t\t},\n\t},\n\t{\n\t\tbusiness_id: 2,\n\t\tname: \"Nancy's Club\",\n\t\tcategory: 'Club',\n\t\trating: 2,\n\t\tnum_of_reviews: 3779,\n\t\tattributes: {\n\t\t\tgood_for: {\n\t\t\t\tdessert: false,\n\t\t\t\tkids: true,\n\t\t\t\tdrinks: false,\n\t\t\t\tbreakfast: false,\n\t\t\t\tlunch: false,\n\t\t\t\tdinner: true,\n\t\t\t},\n\t\t\tparking: { lot: true, valet: true, garage: false },\n\t\t\ttake_reservations: true,\n\t\t\tnoise_level: 'average',\n\t\t},\n\t\tlocation: {\n\t\t\tzipType: 'PO BOX',\n\t\t\tzip: 88221,\n\t\t\tdecommisioned: false,\n\t\t\ttaxReturnsFiled: 967,\n\t\t\tlocation: 'NA-US - NM - CARLSBAD',\n\t\t\testimatedPopulation: 1638,\n\t\t\tlocationType: 'PRIMARY',\n\t\t\ttotalWages: 37060120,\n\t\t\tstate: 'NM',\n\t\t\tlongitude: -104.23,\n\t\t\tlatitude: 32.4,\n\t\t\tcity: 'CARLSBAD',\n\t\t},\n\t},\n\t{\n\t\tbusiness_id: 3,\n\t\tname: \"Cecelia's Club\",\n\t\tcategory: 'Cafe',\n\t\trating: 4,\n\t\tnum_of_reviews: 16547,\n\t\tattributes: {\n\t\t\tgood_for: {\n\t\t\t\tdessert: true,\n\t\t\t\tkids: false,\n\t\t\t\tdrinks: false,\n\t\t\t\tbreakfast: true,\n\t\t\t\tlunch: false,\n\t\t\t\tdinner: false,\n\t\t\t},\n\t\t\tparking: { lot: true, valet: true, garage: false },\n\t\t\ttake_reservations: false,\n\t\t\tnoise_level: 'noisy',\n\t\t},\n\t\tlocation: {\n\t\t\tzipType: 'PO BOX',\n\t\t\tzip: 47445,\n\t\t\tdecommisioned: false,\n\t\t\ttaxReturnsFiled: 123,\n\t\t\tlocation: 'NA-US - IN - MIDLAND',\n\t\t\testimatedPopulation: 123,\n\t\t\tlocationType: 'PRIMARY',\n\t\t\ttotalWages: 456,\n\t\t\tstate: 'IN',\n\t\t\tlongitude: -87.16,\n\t\t\tlatitude: 39.09,\n\t\t\tcity: 'MIDLAND',\n\t\t},\n\t},\n\t{\n\t\tbusiness_id: 4,\n\t\tname: \"Gordon's Bar\",\n\t\tcategory: 'Cafe',\n\t\trating: 1,\n\t\tnum_of_reviews: 152,\n\t\tattributes: {\n\t\t\tgood_for: {\n\t\t\t\tdessert: false,\n\t\t\t\tkids: false,\n\t\t\t\tdrinks: true,\n\t\t\t\tbreakfast: true,\n\t\t\t\tlunch: true,\n\t\t\t\tdinner: true,\n\t\t\t},\n\t\t\tparking: { lot: true, valet: false, garage: true },\n\t\t\ttake_reservations: true,\n\t\t\tnoise_level: 'noisy',\n\t\t},\n\t\tlocation: {\n\t\t\tzipType: 'STANDARD',\n\t\t\tzip: 65638,\n\t\t\tdecommisioned: false,\n\t\t\ttaxReturnsFiled: 123,\n\t\t\tlocation: 'NA- US - MO - DRURY',\n\t\t\testimatedPopulation: 123,\n\t\t\tlocationType: 'PRIMARY',\n\t\t\ttotalWages: 456,\n\t\t\tstate: 'MO',\n\t\t\tlongitude: -92.32,\n\t\t\tlatitude: 36.92,\n\t\t\tcity: 'DRURY',\n\t\t},\n\t},\n];\n\nexport default {\n\ttitle: 'ObjectViewer',\n};\nexport const Default = () => <ObjectViewer data={data} />;\nexport const JsonLikeWithRootLabel = () => (\n\t<ObjectViewer data={data} rootLabel=\"Dataset des cafés\" />\n);\nexport const JsonLikeWithHightlight = () => (\n\t<ObjectViewer data={data} selectedJsonpath=\"$[0]['name']\" />\n);\nexport const JsonLikeWithTypes = () => <ObjectViewer data={data} showType />;\nexport const JsonLikeWithTypesAndTupleName = () => (\n\t<ObjectViewer data={data} showType tupleLabel=\"Record\" />\n);\nexport const List = () => <ObjectViewer data={data} showType displayMode=\"list\" openFirst />;\nexport const Table = () => <ObjectViewer data={data} showType displayMode=\"table\" />;\nexport const Flat = () => <ObjectViewer data={data} showType displayMode=\"flat\" />;\n",locationsMap:{default:{startLoc:{col:23,line:180},endLoc:{col:57,line:180},startBody:{col:23,line:180},endBody:{col:57,line:180}},"json-like-with-root-label":{startLoc:{col:37,line:181},endLoc:{col:1,line:183},startBody:{col:37,line:181},endBody:{col:1,line:183}},"json-like-with-hightlight":{startLoc:{col:38,line:184},endLoc:{col:1,line:186},startBody:{col:38,line:184},endBody:{col:1,line:186}},"json-like-with-types":{startLoc:{col:33,line:187},endLoc:{col:76,line:187},startBody:{col:33,line:187},endBody:{col:76,line:187}},"json-like-with-types-and-tuple-name":{startLoc:{col:45,line:188},endLoc:{col:1,line:190},startBody:{col:45,line:188},endBody:{col:1,line:190}},list:{startLoc:{col:20,line:191},endLoc:{col:92,line:191},startBody:{col:20,line:191},endBody:{col:92,line:191}},table:{startLoc:{col:21,line:192},endLoc:{col:84,line:192},startBody:{col:21,line:192},endBody:{col:84,line:192}},flat:{startLoc:{col:20,line:193},endLoc:{col:82,line:193},startBody:{col:20,line:193},endBody:{col:82,line:193}}}}},title:"ObjectViewer"},Default=()=>(0,jsx_runtime.jsx)(src_ObjectViewer,{data});Default.displayName="Default";const JsonLikeWithRootLabel=()=>(0,jsx_runtime.jsx)(src_ObjectViewer,{data,rootLabel:"Dataset des cafés"});JsonLikeWithRootLabel.displayName="JsonLikeWithRootLabel";const JsonLikeWithHightlight=()=>(0,jsx_runtime.jsx)(src_ObjectViewer,{data,selectedJsonpath:"$[0]['name']"});JsonLikeWithHightlight.displayName="JsonLikeWithHightlight";const JsonLikeWithTypes=()=>(0,jsx_runtime.jsx)(src_ObjectViewer,{data,showType:!0});JsonLikeWithTypes.displayName="JsonLikeWithTypes";const JsonLikeWithTypesAndTupleName=()=>(0,jsx_runtime.jsx)(src_ObjectViewer,{data,showType:!0,tupleLabel:"Record"});JsonLikeWithTypesAndTupleName.displayName="JsonLikeWithTypesAndTupleName";const List=()=>(0,jsx_runtime.jsx)(src_ObjectViewer,{data,showType:!0,displayMode:"list",openFirst:!0});List.displayName="List";const Table=()=>(0,jsx_runtime.jsx)(src_ObjectViewer,{data,showType:!0,displayMode:"table"});Table.displayName="Table";const Flat=()=>(0,jsx_runtime.jsx)(src_ObjectViewer,{data,showType:!0,displayMode:"flat"});Flat.displayName="Flat",Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"() => <ObjectViewer data={data} />",...Default.parameters?.docs?.source}}},JsonLikeWithRootLabel.parameters={...JsonLikeWithRootLabel.parameters,docs:{...JsonLikeWithRootLabel.parameters?.docs,source:{originalSource:'() => <ObjectViewer data={data} rootLabel="Dataset des cafés" />',...JsonLikeWithRootLabel.parameters?.docs?.source}}},JsonLikeWithHightlight.parameters={...JsonLikeWithHightlight.parameters,docs:{...JsonLikeWithHightlight.parameters?.docs,source:{originalSource:"() => <ObjectViewer data={data} selectedJsonpath=\"$[0]['name']\" />",...JsonLikeWithHightlight.parameters?.docs?.source}}},JsonLikeWithTypes.parameters={...JsonLikeWithTypes.parameters,docs:{...JsonLikeWithTypes.parameters?.docs,source:{originalSource:"() => <ObjectViewer data={data} showType />",...JsonLikeWithTypes.parameters?.docs?.source}}},JsonLikeWithTypesAndTupleName.parameters={...JsonLikeWithTypesAndTupleName.parameters,docs:{...JsonLikeWithTypesAndTupleName.parameters?.docs,source:{originalSource:'() => <ObjectViewer data={data} showType tupleLabel="Record" />',...JsonLikeWithTypesAndTupleName.parameters?.docs?.source}}},List.parameters={...List.parameters,docs:{...List.parameters?.docs,source:{originalSource:'() => <ObjectViewer data={data} showType displayMode="list" openFirst />',...List.parameters?.docs?.source}}},Table.parameters={...Table.parameters,docs:{...Table.parameters?.docs,source:{originalSource:'() => <ObjectViewer data={data} showType displayMode="table" />',...Table.parameters?.docs?.source}}},Flat.parameters={...Flat.parameters,docs:{...Flat.parameters?.docs,source:{originalSource:'() => <ObjectViewer data={data} showType displayMode="flat" />',...Flat.parameters?.docs?.source}}};const __namedExportsOrder=["Default","JsonLikeWithRootLabel","JsonLikeWithHightlight","JsonLikeWithTypes","JsonLikeWithTypesAndTupleName","List","Table","Flat"]}}]);