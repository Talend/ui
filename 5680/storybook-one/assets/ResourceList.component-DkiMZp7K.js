import{j as t,r as Y,au as T,c as i,at as e,u as B}from"./iframe-BIQdka0S.js";import{I as h}from"./constants-CZYEPhht.js";import{g as z}from"./theme-cRIqY071.js";import{f as Q}from"./cjs-Qddf797l.js";import{g as X}from"./locale-DIo4vK0r.js";import"./index-BmiDGyXa.js";import{a as v}from"./translate-RgWSvZcG.js";import{g as Z,a as ee,V as re}from"./index-CDNOHaui.js";import{w as I}from"./withTranslation-C0c3WAs5.js";import{F as te}from"./FilterBar.component-BOeFLDFX.js";import{D as se}from"./index-CI26bWZ5.js";import{u as oe}from"./useKey-Cf1KA4TZ.js";import{A}from"./Action.component-DlN2FB-s.js";import"./Actions.component-BlWGLWfC.js";import"./ActionButton.component-BsTHLteF.js";import{A as S}from"./ActionIconToggle.component-BGI0SNww.js";import"./ActionSplitDropdown.component-YHa9OEXZ.js";import{g as ce,O as ie}from"./OverlayTrigger.component-BEmr1R_L.js";const le="_center_1qt9q_8",ae="_icon_1qt9q_11",ne="_title_1qt9q_22",ue="_author_1qt9q_23",pe="_subtitle_1qt9q_24",de="_flag_1qt9q_36",fe="_visible_1qt9q_44",u={"resource-item":"_resource-item_1qt9q_2",center:le,icon:ae,"data-container":"_data-container_1qt9q_18",title:ne,author:ue,subtitle:pe,"flags-container":"_flags-container_1qt9q_36",flag:de,visible:fe},L={CERTIFIED:"talend-badge",FAVORITE:"talend-star"};function me(r,s){return Q(new Date(s),{addSuffix:!0,locale:X()})}function _e(r,s,o){return r("RESOURCE_OWNED_BY",{defaultValue:"owned by {{ author }}, {{date}}",author:s,date:me(r,o)})}function O({parent:r,index:s,style:o,className:c,as:a,t:n,...R}){const f=Z(r,s);if(!f)return null;let _;const{icon:g,name:N,author:E,modified:H,flags:K=[],subtitle:x}=f;r.props.onRowClick&&(_=j=>r.props.onRowClick({event:j,rowData:f}));function w(){return typeof a=="function"}return t.jsx("div",{className:i("resource-item",u["resource-item"],{[u.center]:!w()},c),style:o,role:"listitem",tabIndex:"0","aria-posinset":s+1,"aria-setsize":r.props.rowCount,"aria-label":N,onClick:_,...R,children:w()?a(f):t.jsxs(Y.Fragment,{children:[g&&t.jsx(T,{className:u.icon,name:g}),t.jsxs("div",{className:i("data-container",u["data-container"]),children:[t.jsx("span",{className:i("title",u.title),children:N}),E&&x===void 0&&t.jsx("small",{className:i("author",u.author),children:_e(n,E,H)}),x!==void 0&&!E&&t.jsx("small",{className:i("subtitle",u.subtitle),title:x,children:x})]}),t.jsx("div",{className:i("flags-container",u["flags-container"]),children:Object.keys(L).map((j,J)=>t.jsx(T,{className:i(u.flag,{[u.visible]:K.includes(j)}),name:L[j]},J))})]})})}O.defaultProps={t:v()};O.propTypes={index:e.number,style:e.object,t:e.func,className:e.string,parent:e.shape({props:e.shape({onRowClick:e.func,collection:e.arrayOf(e.shape({icon:e.string,name:e.string,author:e.string,subtitle:e.string,modified:e.string,flags:e.arrayOf(e.string)}))})}),as:e.func};const Ee=I(h)(O),be="_remove_3nc7f_6",V={"tc-resource-picker-name-filter":"_tc-resource-picker-name-filter_3nc7f_2",remove:be};function y({label:r,value:s,onChange:o}){const{t:c}=B(h),a=()=>o({target:{value:""}});return oe("Escape",a),t.jsxs("form",{className:i("tc-resource-picker-name-filter",V["tc-resource-picker-name-filter"]),children:[t.jsx("label",{htmlFor:"resource-picker-toolbar-name-filter-input",className:"sr-only",children:r}),t.jsx(se,{id:"resource-picker-toolbar-name-filter-input",type:"text",placeholder:r,value:s,onChange:o,className:"form-control",autoComplete:"off",required:!0}),t.jsx(A,{className:V.remove,icon:"talend-cross",label:c("LIST_FILTER_REMOVE",{defaultValue:"Remove filter"}),hideLabel:!0,onClick:a})]})}y.propTypes={label:e.string.isRequired,value:e.string,onChange:e.func};const Te="_asc_1ue31_16",C={"tc-resource-picker-order-chooser":"_tc-resource-picker-order-chooser_1ue31_2","tc-resource-picker-order-indicator":"_tc-resource-picker-order-indicator_1ue31_12",asc:Te};function k({icon:r,asc:s,label:o,tooltipPlacement:c,onClick:a,...n}){return t.jsxs(A,{...ce(A,n),label:o,onClick:a,className:i("tc-resource-picker-order-chooser",C["tc-resource-picker-order-chooser"]),hideLabel:!0,bsStyle:"link",children:[t.jsx(T,{name:r}),t.jsx(T,{name:"talend-caret-down",className:i("tc-resource-picker-order-indicator",C["tc-resource-picker-order-indicator"],{[C.asc]:s})})]})}k.propTypes={t:e.func,icon:e.string,asc:e.bool,label:e.string,onClick:e.func.isRequired,tooltipPlacement:ie.propTypes.overlayPlacement};k.defaultProps={tooltipPlacement:"top"};const P={"tc-resource-picker-sort-options":"_tc-resource-picker-sort-options_1fxa7_2","option-label":"_option-label_1fxa7_6"},l={NAME:"name",DATE:"date"},d={ASC:"asc",DESC:"desc"};function M(r){return r===d.ASC?d.DESC:d.ASC}function D({t:r,types:s,onChange:o,orders:c}){return!!s.length&&t.jsxs("div",{className:i("tc-resource-picker-sort-options",P["tc-resource-picker-sort-options"]),children:[t.jsx("span",{className:i(P["option-label"]),children:r("SORT",{defaultValue:"Sort:"})}),s.includes(l.NAME)&&t.jsx(k,{icon:"talend-sort-az",label:r("SORT_BY_NAME",{defaultValue:"Sort by name (current order: {{order}})",order:c[l.NAME]}),asc:c[l.NAME]===d.ASC,onClick:()=>o(l.NAME,M(c[l.NAME]))}),s.includes(l.DATE)&&t.jsx(k,{icon:"talend-sort-desc",label:r("SORT_BY_DATE",{defaultValue:"Sort by date (current order: {{order}})",order:c[l.DATE]}),asc:c[l.DATE]===d.ASC,onClick:()=>o(l.DATE,M(c[l.DATE]))})]})}D.propTypes={t:e.func,onChange:e.func,orders:e.object,types:e.array};D.defaultProps={t:v(),types:[l.NAME,l.DATE],orders:{[l.NAME]:d.DESC,[l.DATE]:d.DESC}};const U=I(h)(D),b={"tc-resource-picker-state-filters":"_tc-resource-picker-state-filters_34crj_2","option-label":"_option-label_34crj_7","tc-resource-picker-selection-filter":"_tc-resource-picker-selection-filter_34crj_27","tc-resource-picker-favorite-filter":"_tc-resource-picker-favorite-filter_34crj_35","tc-resource-picker-certified-filter":"_tc-resource-picker-certified-filter_34crj_43"},p={SELECTION:"selection",FAVORITES:"favorites",CERTIFIED:"certified"};function F({t:r,types:s,onChange:o,selection:c,favorites:a,certified:n}){return!!s.length&&t.jsxs("div",{className:i("tc-resource-picker-state-filters",b["tc-resource-picker-state-filters"]),children:[t.jsx("span",{className:i(b["option-label"]),children:r("FILTER",{defaultValue:"Filter:"})}),s.includes(p.SELECTION)&&t.jsx(S,{icon:"talend-check-circle",label:r("SELECTION",{defaultValue:"Selected"}),active:c,onClick:()=>o(p.SELECTION,!c),className:i(b["tc-resource-picker-selection-filter"])}),s.includes(p.CERTIFIED)&&t.jsx(S,{icon:"talend-badge",label:r("CERTIFIED",{defaultValue:"Certified"}),active:n,onClick:()=>o(p.CERTIFIED,!n),className:i(b["tc-resource-picker-certified-filter"])}),s.includes(p.FAVORITES)&&t.jsx(S,{icon:"talend-star",label:r("FAVORITES",{defaultValue:"Favorites"}),active:a,onClick:()=>o(p.FAVORITES,!a),className:i(b["tc-resource-picker-favorite-filter"])})]})}F.propTypes={t:e.func,selection:e.bool,favorites:e.bool,certified:e.bool,onChange:e.func,types:e.array};F.defaultProps={t:v(),types:[p.SELECTION,p.FAVORITES,p.CERTIFIED]};const W=I(h)(F),he={"tc-resource-list-toolbar":"_tc-resource-list-toolbar_1rutx_2","tc-resource-list-toolbar-filter":"_tc-resource-list-toolbar-filter_1rutx_9"},$=z(he);function q({name:r,nameFilerAsInput:s,sort:o,state:c}){return!r&&!o&&!c?null:t.jsxs("div",{className:$("tc-resource-list-toolbar"),children:[r&&(s?t.jsx(y,{...r}):t.jsx(te,{className:$("tc-resource-list-toolbar-filter"),placeholder:r.label,onFilter:r.onChange,dockable:!1,...r})),o&&t.jsx(U,{...o}),c&&t.jsx(W,{...c})]})}q.propTypes={name:e.shape(y.propTypes),nameFilerAsInput:e.bool,state:e.shape(W.propTypes),sort:e.shape(U.propTypes)};const ge={className:e.string,collection:e.arrayOf(e.object),isLoading:e.bool,onRowClick:e.func,renderAs:e.func,toolbar:e.shape(q.propTypes),rowProps:e.object},Ne="_filtered_17gls_14",xe={"tc-resource-list":"_tc-resource-list_17gls_2","tc-resource-list-items":"_tc-resource-list-items_17gls_10",filtered:Ne,"tc-resource-list--no-results":"_tc-resource-list--no-results_17gls_17","tc-resource-list--no-results-text":"_tc-resource-list--no-results-text_17gls_23","tc-resource-list--no-results-icon":"_tc-resource-list--no-results-icon_17gls_29"},m=z(xe);function je({state:r}={}){return r&&(r.certified||r.favorites)}function G({className:r,collection:s,isLoading:o,onRowClick:c,renderAs:a,toolbar:n,rowProps:R,...f}){const{t:_}=B(h),g=ee(Ee,{as:a,getRowData:({index:E})=>s[E],rowProps:R}),N=Y.useCallback(()=>t.jsx("div",{className:m("tc-resource-list--no-results"),children:t.jsxs("span",{className:m("tc-resource-list--no-results-text"),role:"status","aria-live":"polite",children:[t.jsx(T,{className:m("tc-resource-list--no-results-icon"),name:"talend-fieldglass"})," ",_("RESOURCELIST_NO_RESULTS",{defaultValue:"No results"})]})}),[_]);return t.jsxs("div",{className:m("tc-resource-list"),children:[n&&t.jsx(q,{...n}),t.jsx("div",{className:i(r,m("tc-resource-list-items"),{[m("filtered")]:je(n)}),children:t.jsx(re,{rowHeight:100,...f,collection:s,inProgress:o,onRowClick:c,rowRenderers:{resource:g},noRowsRenderer:N,type:"resource"})})]})}G.defaultProps={collection:[]};G.propTypes={...ge};export{d as O,G as R,p as T,ge as a,l as b};
