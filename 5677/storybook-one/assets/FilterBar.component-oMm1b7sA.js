import{r as v,u as E,j as l,c as b,au as j,at as a}from"./iframe-ChHbVRNu.js";import{D as B}from"./index-B3g3bunw.js";import{A as L}from"./Action.component-3AV8JWX6.js";import"./Actions.component-oylIYMTM.js";import"./ActionButton.component-HnO9sWYB.js";import"./ActionIconToggle.component-DHYaEX4T.js";import"./ActionSplitDropdown.component-DepItD5T.js";import{I as x}from"./constants-CZYEPhht.js";import"./index-DGGBlbSp.js";import{F as N}from"./FormControl-rfsuWCkP.js";const M="_filter_1a6hc_2",P="_animate_1a6hc_26",D="_search_1a6hc_9",R="_remove_1a6hc_41",y="_navbar_1a6hc_56",S="_highlight_1a6hc_64",o={filter:M,"search-icon":"_search-icon_1a6hc_9",animate:P,search:D,remove:R,navbar:y,highlight:S,"button-docked":"_button-docked_1a6hc_72"};function O(e){e.target.blur()}function V(e,c,n){switch(e.key){case"Enter":n&&n(e);break;case"Esc":case"Escape":c&&c(e);break}}function C(e){const{id:c,debounceMinLength:n,debounceTimeout:u,onBlur:s,onClear:F,onFocus:i,onFilter:d,autoFocus:m,placeholder:h,value:T,disabled:k,...r}=e,{t:f}=E(x),g=h||f("LIST_FILTER_LABEL",{defaultValue:"Filter"}),_={"data-test":r["data-test"],"data-feature":r["data-feature"],id:c,name:"search",type:"search",value:T,placeholder:g,autoComplete:"off",disabled:k,className:b(o.search),"aria-label":g,onBlur:s&&(t=>{s(t,t.target.value)}),onFocus:i&&(t=>i(t,t.target.value)),onChange:t=>d(t,t.target.value),onKeyDown:t=>V(t,F,O),autoFocus:m,role:"searchbox"};return n||u?l.jsx(B,{..._,element:N,minLength:n,debounceTimeout:u}):l.jsx(N,{..._})}C.propTypes={autoFocus:a.bool,id:a.string,debounceMinLength:a.number,debounceTimeout:a.number,onBlur:a.func,onClear:a.func,onFocus:a.func,onFilter:a.func.isRequired,placeholder:a.string,value:a.string,"data-test":a.string,"data-feature":a.string,disabled:a.bool};function I(e){const{onFocus:c,onBlur:n,onToggle:u,onFilter:s}=e,[F,i]=v.useState(),[d,m]=v.useState(),{t:h}=E(x);v.useEffect(()=>{m(e.value)},[e.value]);const T=t=>{i(!0),c&&c(t)},k=t=>{i(!1),n&&n(t),!d&&u&&u(t)},r=t=>{m(t.target.value),s&&s(t,t.target.value)},f=t=>{t.preventDefault(),r({target:{value:""}})},g=t=>(t.preventDefault(),r(t));if(e.dockable&&e.docked)return l.jsx(L,{id:e.id,className:b(e.className,o["button-docked"]),onClick:e.onToggle,label:h("LIST_FILTER_TOGGLE",{defaultValue:"Toggle filter"}),hideLabel:!0,icon:"talend-search","data-feature":e["data-feature"],tooltipPlacement:e.tooltipPlacement,role:"search"});const _=b(o.filter,e.className,{[o.highlight]:e.highlight,[o.navbar]:e.navbar});return l.jsx("form",{className:_,role:"search",onSubmit:g,children:l.jsxs("div",{className:b("form-group",{[o.animate]:e.dockable}),children:[l.jsx(j,{name:"talend-search",className:b(o["search-icon"],{[o["search-focused"]]:F})}),l.jsx(C,{disabled:e.disabled,"data-feature":e["data-feature"],"data-test":e["data-test"],autoFocus:e.autoFocus,id:e.id&&`${e.id}-input`,debounceMinLength:e.debounceMinLength,debounceTimeout:e.debounceTimeout,onBlur:k,onClear:f,onFocus:T,onFilter:r,onToggle:e.onToggle,placeholder:e.placeholder,value:d,dockable:e.dockable,t:h}),d?l.jsx(L,{className:o.remove,id:e.id&&`${e.id}-cross-icon`,"data-test":e["data-test"]&&`${e["data-test"]}-reset`,"data-feature":e["data-feature"]&&`${e["data-feature"]}-reset`,icon:"talend-cross",label:h("LIST_FILTER_REMOVE",{defaultValue:"Remove filter"}),hideLabel:!0,tooltipPlacement:e.tooltipPlacement,onMouseDown:f}):null]})})}I.propTypes={autoFocus:a.bool,id:a.string,className:a.string,"data-test":a.string,"data-feature":a.string,debounceMinLength:a.number,debounceTimeout:a.number,docked:a.bool,dockable:a.bool,navbar:a.bool,onBlur:a.func,onFocus:a.func,onFilter:a.func.isRequired,onToggle:a.func,highlight:a.bool,placeholder:a.string,value:a.string,tooltipPlacement:a.string,disabled:a.bool};I.defaultProps={autoFocus:!0,dockable:!0,docked:!0,navbar:!0,disabled:!1,className:""};export{I as F};
