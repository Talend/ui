"use strict";(self.webpackChunk_talend_react_containers=self.webpackChunk_talend_react_containers||[]).push([[148],{"./src/HomeListView/HomeListView.stories.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithDrawer:()=>WithDrawer,__namedExportsOrder:()=>__namedExportsOrder,default:()=>HomeListView_stories});var dist=__webpack_require__("../../node_modules/@storybook/addon-actions/dist/index.mjs"),immutable=__webpack_require__("../../node_modules/immutable/dist/immutable.js"),immutable_default=__webpack_require__.n(immutable),lib_esm=__webpack_require__("../cmf/lib-esm/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("../../node_modules/react/index.js"),List=__webpack_require__("./src/List/index.js"),SidePanel=__webpack_require__("./src/SidePanel/index.js"),components_lib_esm=__webpack_require__("../components/lib-esm/index.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function getContent(Component,props){return(0,react.isValidElement)(props)?props:(0,jsx_runtime.jsx)(Component,{...props})}function wrapChildren(children){return children&&children.props&&children.props.children?[children,...wrapChildren(children.props.children)]:children&&!children.props?[]:[children]}function HomeListView({getComponent,components,id,hasTheme,sidepanel,list,header,children}){if(!sidepanel||!list)return null;let drawers=children||[];Array.isArray(drawers)||(drawers=wrapChildren(drawers)),components&&components.drawers&&(drawers=drawers.concat(components_lib_esm.Inject.map(getComponent,components.drawers)));const Renderers=components_lib_esm.Inject.getAll(getComponent,{HeaderBar:components_lib_esm.HeaderBar,SidePanel:SidePanel.A,List:List.A});return(0,jsx_runtime.jsx)(components_lib_esm.Layout,{id,hasTheme,mode:"TwoColumns",header:getContent(Renderers.HeaderBar,header),one:getContent(Renderers.SidePanel,sidepanel),drawers,children:getContent(Renderers.List,list)})}getContent.displayName="getContent",HomeListView.displayName="HomeListView",HomeListView.displayName="HomeListView",HomeListView.propTypes={getComponent:prop_types_default().func,id:prop_types_default().string,hasTheme:prop_types_default().bool,components:prop_types_default().object,header:prop_types_default().oneOfType([prop_types_default().node,prop_types_default().object]),sidepanel:prop_types_default().oneOfType([prop_types_default().node,prop_types_default().object]).isRequired,list:prop_types_default().oneOfType([prop_types_default().node,prop_types_default().object]).isRequired,children:prop_types_default().node};const HomeListView_component=HomeListView,src_HomeListView=(0,lib_esm.TJ)({omitCMFProps:!0,withComponentRegistry:!0,withDispatch:!0,withDispatchActionCreator:!0,withComponentId:!0})(HomeListView_component);const primary={label:"Primary",bsStyle:"primary",onClick:(0,dist.XI)("You clicked on primary action")},panelActions={left:[{label:"Cancel",onClick:(0,dist.XI)("You clicked on cancel action")}],right:[{label:"Connect",onClick:(0,dist.XI)("You clicked on connect action")},primary]},multi3={label:"multi3",icon:"talend-cog",onClick:(0,dist.XI)("You clicked me")},basicProps={actions:panelActions,multiSelectActions:{left:[{label:"multi1",icon:"talend-cog",onClick:(0,dist.XI)("You clicked me")},{label:"multi2",icon:"talend-cog",onClick:(0,dist.XI)("You clicked me")}],right:[multi3,{label:"multi4",icon:"talend-cog",onClick:(0,dist.XI)("You clicked me")}]}},header={app:"Example app"},sidepanel={actionIds:["menu:first","menu:second","menu:third","menu:first","menu:second","menu:third","menu:first","menu:second","menu:third","menu:first","menu:first","menu:second","menu:third","menu:first","menu:second","menu:third","menu:first","menu:second","menu:third","menu:first","menu:second","menu:third","menu:first","menu:second","menu:third","menu:first","menu:second","menu:third"]},listProps={list:{columns:[{key:"id",label:"Id"},{key:"label",label:"Name"},{key:"author",label:"Author"},{key:"created",label:"Created"},{key:"modified",label:"Modified"}],titleProps:{key:"label"}},actions:{title:"list:view",left:["list:add","list:upload"],items:["list:delete"]},toolbar:{sort:{field:"id",options:[{id:"id",name:"Id"},{id:"label",name:"Name"}]},filter:{placeholder:"find an object"}},items:immutable_default().fromJS([{id:1,label:"Title with actions",created:"2016-09-22",modified:"2016-09-22",author:"Jean-Pierre DUPONT",icon:"fa fa-file-excel-o",display:"text",className:"item-0-class"},{id:2,label:"Title in input mode",created:"2016-09-22",modified:"2016-09-22",author:"Jean-Pierre DUPONT",icon:"fa fa-file-pdf-o",display:"input",className:"item-1-class"},{id:3,label:"Super long title to trigger overflow on tile rendering",created:"2016-09-22",modified:"2016-09-22",author:"Jean-Pierre DUPONT with super long name"}])},HomeListView_stories={parameters:{storySource:{source:"import { Drawer } from '@talend/react-components';\nimport { action } from '@storybook/addon-actions';\nimport Immutable from 'immutable';\n\nimport HomeListView from '.';\n\nconst primary = {\n\tlabel: 'Primary',\n\tbsStyle: 'primary',\n\tonClick: action('You clicked on primary action'),\n};\n\nconst cancel = {\n\tlabel: 'Cancel',\n\tonClick: action('You clicked on cancel action'),\n};\n\nconst connect = {\n\tlabel: 'Connect',\n\tonClick: action('You clicked on connect action'),\n};\n\nconst panelActions = {\n\tleft: [cancel],\n\tright: [connect, primary],\n};\n\nconst multi3 = {\n\tlabel: 'multi3',\n\ticon: 'talend-cog',\n\tonClick: action('You clicked me'),\n};\n\nconst multiSelectActions = {\n\tleft: [\n\t\t{\n\t\t\tlabel: 'multi1',\n\t\t\ticon: 'talend-cog',\n\t\t\tonClick: action('You clicked me'),\n\t\t},\n\t\t{\n\t\t\tlabel: 'multi2',\n\t\t\ticon: 'talend-cog',\n\t\t\tonClick: action('You clicked me'),\n\t\t},\n\t],\n\tright: [\n\t\tmulti3,\n\t\t{\n\t\t\tlabel: 'multi4',\n\t\t\ticon: 'talend-cog',\n\t\t\tonClick: action('You clicked me'),\n\t\t},\n\t],\n};\n\nconst basicProps = {\n\tactions: panelActions,\n\tmultiSelectActions,\n};\n\nconst header = {\n\tapp: 'Example app',\n};\n\nconst sidepanel = {\n\tactionIds: [\n\t\t'menu:first',\n\t\t'menu:second',\n\t\t'menu:third',\n\t\t'menu:first',\n\t\t'menu:second',\n\t\t'menu:third',\n\t\t'menu:first',\n\t\t'menu:second',\n\t\t'menu:third',\n\t\t'menu:first',\n\t\t'menu:first',\n\t\t'menu:second',\n\t\t'menu:third',\n\t\t'menu:first',\n\t\t'menu:second',\n\t\t'menu:third',\n\t\t'menu:first',\n\t\t'menu:second',\n\t\t'menu:third',\n\t\t'menu:first',\n\t\t'menu:second',\n\t\t'menu:third',\n\t\t'menu:first',\n\t\t'menu:second',\n\t\t'menu:third',\n\t\t'menu:first',\n\t\t'menu:second',\n\t\t'menu:third',\n\t],\n};\n\nconst list = {\n\tcolumns: [\n\t\t{ key: 'id', label: 'Id' },\n\t\t{ key: 'label', label: 'Name' },\n\t\t{ key: 'author', label: 'Author' },\n\t\t{ key: 'created', label: 'Created' },\n\t\t{ key: 'modified', label: 'Modified' },\n\t],\n\ttitleProps: {\n\t\tkey: 'label',\n\t},\n};\n\nconst actions = {\n\ttitle: 'list:view',\n\tleft: ['list:add', 'list:upload'],\n\titems: ['list:delete'],\n};\n\nconst toolbar = {\n\tsort: {\n\t\tfield: 'id',\n\t\toptions: [\n\t\t\t{ id: 'id', name: 'Id' },\n\t\t\t{ id: 'label', name: 'Name' },\n\t\t],\n\t},\n\tfilter: {\n\t\tplaceholder: 'find an object',\n\t},\n};\n\nconst items = Immutable.fromJS([\n\t{\n\t\tid: 1,\n\t\tlabel: 'Title with actions',\n\t\tcreated: '2016-09-22',\n\t\tmodified: '2016-09-22',\n\t\tauthor: 'Jean-Pierre DUPONT',\n\t\ticon: 'fa fa-file-excel-o',\n\t\tdisplay: 'text',\n\t\tclassName: 'item-0-class',\n\t},\n\t{\n\t\tid: 2,\n\t\tlabel: 'Title in input mode',\n\t\tcreated: '2016-09-22',\n\t\tmodified: '2016-09-22',\n\t\tauthor: 'Jean-Pierre DUPONT',\n\t\ticon: 'fa fa-file-pdf-o',\n\t\tdisplay: 'input',\n\t\tclassName: 'item-1-class',\n\t},\n\t{\n\t\tid: 3,\n\t\tlabel: 'Super long title to trigger overflow on tile rendering',\n\t\tcreated: '2016-09-22',\n\t\tmodified: '2016-09-22',\n\t\tauthor: 'Jean-Pierre DUPONT with super long name',\n\t},\n]);\n\nconst listProps = {\n\tlist,\n\tactions,\n\ttoolbar,\n\titems,\n};\n\nexport default {\n\ttitle: 'HomeListView',\n};\n\nexport function Default() {\n\treturn (\n\t\t<div>\n\t\t\t<HomeListView sidepanel={sidepanel} list={listProps} />\n\t\t</div>\n\t);\n}\n\nexport const WithDrawer = () => (\n\t<HomeListView header={header} sidepanel={sidepanel} list={listProps}>\n\t\t<Drawer stacked title=\"Im stacked drawer 1\" footerActions={{ ...basicProps, selected: 0 }}>\n\t\t\t<h1>Hello drawer 1</h1>\n\t\t\t<p>You should not being able to read this because I&#39;m first</p>\n\t\t</Drawer>\n\t\t<Drawer title=\"Im drawer 2\" footerActions={{ ...basicProps, selected: 0 }}>\n\t\t\t<h1>Hello drawer 2</h1>\n\t\t\t<p>The content dictate the width</p>\n\t\t</Drawer>\n\t</HomeListView>\n);\n",locationsMap:{default:{startLoc:{col:7,line:172},endLoc:{col:1,line:178},startBody:{col:7,line:172},endBody:{col:1,line:178}},"with-drawer":{startLoc:{col:26,line:180},endLoc:{col:1,line:191},startBody:{col:26,line:180},endBody:{col:1,line:191}}}}},title:"HomeListView"},Default=function Default(){return(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(src_HomeListView,{sidepanel,list:listProps})})};Default.displayName="Default";const WithDrawer=()=>(0,jsx_runtime.jsxs)(src_HomeListView,{header,sidepanel,list:listProps,children:[(0,jsx_runtime.jsxs)(components_lib_esm.Drawer,{stacked:!0,title:"Im stacked drawer 1",footerActions:{...basicProps,selected:0},children:[(0,jsx_runtime.jsx)("h1",{children:"Hello drawer 1"}),(0,jsx_runtime.jsx)("p",{children:"You should not being able to read this because I'm first"})]}),(0,jsx_runtime.jsxs)(components_lib_esm.Drawer,{title:"Im drawer 2",footerActions:{...basicProps,selected:0},children:[(0,jsx_runtime.jsx)("h1",{children:"Hello drawer 2"}),(0,jsx_runtime.jsx)("p",{children:"The content dictate the width"})]})]});WithDrawer.displayName="WithDrawer",Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"function Default() {\n  return <div>\n            <HomeListView sidepanel={sidepanel} list={listProps} />\n        </div>;\n}",...Default.parameters?.docs?.source}}},WithDrawer.parameters={...WithDrawer.parameters,docs:{...WithDrawer.parameters?.docs,source:{originalSource:'() => <HomeListView header={header} sidepanel={sidepanel} list={listProps}>\n        <Drawer stacked title="Im stacked drawer 1" footerActions={{\n    ...basicProps,\n    selected: 0\n  }}>\n            <h1>Hello drawer 1</h1>\n            <p>You should not being able to read this because I&#39;m first</p>\n        </Drawer>\n        <Drawer title="Im drawer 2" footerActions={{\n    ...basicProps,\n    selected: 0\n  }}>\n            <h1>Hello drawer 2</h1>\n            <p>The content dictate the width</p>\n        </Drawer>\n    </HomeListView>',...WithDrawer.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithDrawer"]},"./src/SidePanel/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>src_SidePanel});var lib_esm=__webpack_require__("../cmf/lib-esm/index.js");var react=__webpack_require__("../../node_modules/react/index.js"),immutable=__webpack_require__("../../node_modules/immutable/dist/immutable.js"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),components_lib_esm=__webpack_require__("../components/lib-esm/index.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const DEFAULT_STATE=new immutable.Map({docked:!1});class SidePanel extends react.Component{constructor(props,context){super(props,context),this.onToggleDock=this.onToggleDock.bind(this)}onToggleDock(){const state=this.props.state||DEFAULT_STATE;this.props.setState({docked:!state.get("docked")})}render(){const{state=DEFAULT_STATE}=this.props,props={docked:state.get("docked"),onToggleDock:this.onToggleDock,...(0,lodash.omit)(this.props,lib_esm.TJ.INJECTED_PROPS)};return(0,jsx_runtime.jsx)(components_lib_esm.SidePanel,{...props})}}SidePanel.displayName="SidePanel",_defineProperty(SidePanel,"displayName","Container(SidePanel)"),_defineProperty(SidePanel,"propTypes",{...lib_esm.TJ.propTypes}),SidePanel.ACTION_TYPE_LINK="MENU_LINK";const SidePanel_container=SidePanel,cache={};function getCache(componentId="default",currentRoute,actions){return cache[componentId]||(cache[componentId]={}),cache[componentId].route===currentRoute&&cache[componentId].actions===actions||(cache[componentId]={route:currentRoute,actions}),cache[componentId]}function isBasePathOf(actionPath,currentPath){const length=actionPath.length;return currentPath.length+1===length?`${currentPath}/`===actionPath:currentPath.length===length?currentPath===actionPath:!(currentPath.length<length)&&(actionPath===currentPath.slice(0,length)&&["/","#"].includes(currentPath[length]))}function getSelectedAction(currentRoute,actions){return actions.find((action=>{return action.href&&isBasePathOf((href=action.href,!window.basename||"/"===window.basename||href.startsWith(window.basename)?href:`${window.basename||""}${href}`.replaceAll("//","/")),currentRoute);var href}))}function getActions(state,ownProps,currentRoute){if(ownProps.actions){let actions=ownProps.actions;window.basename&&"/"!==window.basename&&(actions=ownProps.actions.map((action=>({...action,href:`${window.basename}${action.href}`.replaceAll("//","/")}))));const cacheAction=getCache(ownProps.componentId,currentRoute,actions);return cacheAction.value||(cacheAction.value=function getActionsWrapped(actions){return actions.map((action=>!action.href||action.onClick||action.onClickDispatch||action.onClickActionCreator?action:{...action,onClick:event=>{event.metaKey||event.ctrlKey||(event.preventDefault(),event.stopPropagation())},onClickDispatch:{type:"MENU_LINK",cmf:{routerPush:action.href}}}))}(actions)),cacheAction.value}if(ownProps.actionIds){const cacheAction=getCache(ownProps.componentId,currentRoute,ownProps.actionIds);return cacheAction.value||(cacheAction.value=ownProps.actionIds.map((id=>function getAction(id,currentRoute,state){const action={actionId:id},info=lib_esm.Ay.action.getActionInfo({registry:lib_esm.Ay.registry.getRegistry(),store:{getState:()=>state}},id);action.label=info.label,action.id=info.id;const route=(0,lodash.get)(info,"payload.cmf.routerReplace",(0,lodash.get)(info,"payload.cmf.routerPush",(0,lodash.get)(info,"href")));return route&&isBasePathOf(route,currentRoute)&&(action.active=!0),action}(id,currentRoute,state)))),cacheAction.value}}const src_SidePanel=(0,lib_esm.TJ)({defaultState:DEFAULT_STATE,omitCMFProps:!0,withComponentRegistry:!0,withDispatch:!0,withDispatchActionCreator:!0,withComponentId:!0,keepComponentState:!0,mapStateToProps:function mapStateToProps(state,ownProps){const props={},currentRoute=window.location.pathname;return props.actions=getActions(state,ownProps,currentRoute),ownProps.actions&&(props.selected=getSelectedAction(currentRoute,props.actions)),props},mergeProps:function mergeProps(stateProps,dispatchProps,ownProps){const props={...ownProps,...stateProps,...dispatchProps};return props.actionIds&&delete props.actionIds,props}})(SidePanel_container)}}]);