/*! For license information please see 5874.7b3c9bb2.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_talend_ui_storybook_one=self.webpackChunk_talend_ui_storybook_one||[]).push([[5874],{"../../node_modules/component-emitter/index.js":module=>{function Emitter(obj){if(obj)return function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}(obj)}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var cb,callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var i=0;i<callbacks.length;i++)if((cb=callbacks[i])===fn||cb.fn===fn){callbacks.splice(i,1);break}return 0===callbacks.length&&delete this._callbacks["$"+event],this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};for(var args=new Array(arguments.length-1),callbacks=this._callbacks["$"+event],i=1;i<arguments.length;i++)args[i-1]=arguments[i];if(callbacks){i=0;for(var len=(callbacks=callbacks.slice(0)).length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},"../../node_modules/css-loader/dist/runtime/getUrl.js":module=>{"use strict";module.exports=function(url,options){return options||(options={}),url?(url=String(url.__esModule?url.default:url),/^['"].*['"]$/.test(url)&&(url=url.slice(1,-1)),options.hash&&(url+=options.hash),/["'() \t\n]|(%20)/.test(url)||options.needQuotes?'"'.concat(url.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):url):url}},"../../node_modules/fast-safe-stringify/index.js":module=>{module.exports=stringify,stringify.default=stringify,stringify.stable=deterministicStringify,stringify.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify(obj,replacer,spacer,options){var res;void 0===options&&(options=defaultOptions()),decirc(obj,"",0,[],void 0,0,options);try{res=0===replacerStack.length?JSON.stringify(obj,replacer,spacer):JSON.stringify(obj,replaceGetterValues(replacer),spacer)}catch(_){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==arr.length;){var part=arr.pop();4===part.length?Object.defineProperty(part[0],part[1],part[3]):part[0][part[1]]=part[2]}}return res}function setReplace(replace,val,k,parent){var propertyDescriptor=Object.getOwnPropertyDescriptor(parent,k);void 0!==propertyDescriptor.get?propertyDescriptor.configurable?(Object.defineProperty(parent,k,{value:replace}),arr.push([parent,k,val,propertyDescriptor])):replacerStack.push([val,k,replace]):(parent[k]=replace,arr.push([parent,k,val]))}function decirc(val,k,edgeIndex,stack,parent,depth,options){var i;if(depth+=1,"object"==typeof val&&null!==val){for(i=0;i<stack.length;i++)if(stack[i]===val)return void setReplace(CIRCULAR_REPLACE_NODE,val,k,parent);if(void 0!==options.depthLimit&&depth>options.depthLimit)return void setReplace(LIMIT_REPLACE_NODE,val,k,parent);if(void 0!==options.edgesLimit&&edgeIndex+1>options.edgesLimit)return void setReplace(LIMIT_REPLACE_NODE,val,k,parent);if(stack.push(val),Array.isArray(val))for(i=0;i<val.length;i++)decirc(val[i],i,i,stack,val,depth,options);else{var keys=Object.keys(val);for(i=0;i<keys.length;i++){var key=keys[i];decirc(val[key],key,i,stack,val,depth,options)}}stack.pop()}}function compareFunction(a,b){return a<b?-1:a>b?1:0}function deterministicStringify(obj,replacer,spacer,options){void 0===options&&(options=defaultOptions());var res,tmp=deterministicDecirc(obj,"",0,[],void 0,0,options)||obj;try{res=0===replacerStack.length?JSON.stringify(tmp,replacer,spacer):JSON.stringify(tmp,replaceGetterValues(replacer),spacer)}catch(_){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==arr.length;){var part=arr.pop();4===part.length?Object.defineProperty(part[0],part[1],part[3]):part[0][part[1]]=part[2]}}return res}function deterministicDecirc(val,k,edgeIndex,stack,parent,depth,options){var i;if(depth+=1,"object"==typeof val&&null!==val){for(i=0;i<stack.length;i++)if(stack[i]===val)return void setReplace(CIRCULAR_REPLACE_NODE,val,k,parent);try{if("function"==typeof val.toJSON)return}catch(_){return}if(void 0!==options.depthLimit&&depth>options.depthLimit)return void setReplace(LIMIT_REPLACE_NODE,val,k,parent);if(void 0!==options.edgesLimit&&edgeIndex+1>options.edgesLimit)return void setReplace(LIMIT_REPLACE_NODE,val,k,parent);if(stack.push(val),Array.isArray(val))for(i=0;i<val.length;i++)deterministicDecirc(val[i],i,i,stack,val,depth,options);else{var tmp={},keys=Object.keys(val).sort(compareFunction);for(i=0;i<keys.length;i++){var key=keys[i];deterministicDecirc(val[key],key,i,stack,val,depth,options),tmp[key]=val[key]}if(void 0===parent)return tmp;arr.push([parent,k,val]),parent[k]=tmp}stack.pop()}}function replaceGetterValues(replacer){return replacer=void 0!==replacer?replacer:function(k,v){return v},function(key,val){if(replacerStack.length>0)for(var i=0;i<replacerStack.length;i++){var part=replacerStack[i];if(part[1]===key&&part[0]===val){val=part[2],replacerStack.splice(i,1);break}}return replacer.call(this,key,val)}}},"../../node_modules/graphlib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var lib=__webpack_require__("../../node_modules/graphlib/lib/index.js");module.exports={Graph:lib.Graph,json:__webpack_require__("../../node_modules/graphlib/lib/json.js"),alg:__webpack_require__("../../node_modules/graphlib/lib/alg/index.js"),version:lib.version}},"../../node_modules/graphlib/lib/alg/components.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js");module.exports=function components(g){var cmpt,visited={},cmpts=[];function dfs(v){_.has(visited,v)||(visited[v]=!0,cmpt.push(v),_.each(g.successors(v),dfs),_.each(g.predecessors(v),dfs))}return _.each(g.nodes(),function(v){cmpt=[],dfs(v),cmpt.length&&cmpts.push(cmpt)}),cmpts}},"../../node_modules/graphlib/lib/alg/dfs.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js");function doDfs(g,v,postorder,visited,navigation,acc){_.has(visited,v)||(visited[v]=!0,postorder||acc.push(v),_.each(navigation(v),function(w){doDfs(g,w,postorder,visited,navigation,acc)}),postorder&&acc.push(v))}module.exports=function dfs(g,vs,order){_.isArray(vs)||(vs=[vs]);var navigation=(g.isDirected()?g.successors:g.neighbors).bind(g),acc=[],visited={};return _.each(vs,function(v){if(!g.hasNode(v))throw new Error("Graph does not have node: "+v);doDfs(g,v,"post"===order,visited,navigation,acc)}),acc}},"../../node_modules/graphlib/lib/alg/dijkstra-all.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dijkstra=__webpack_require__("../../node_modules/graphlib/lib/alg/dijkstra.js"),_=__webpack_require__("../../node_modules/graphlib/lib/lodash.js");module.exports=function dijkstraAll(g,weightFunc,edgeFunc){return _.transform(g.nodes(),function(acc,v){acc[v]=dijkstra(g,v,weightFunc,edgeFunc)},{})}},"../../node_modules/graphlib/lib/alg/dijkstra.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js"),PriorityQueue=__webpack_require__("../../node_modules/graphlib/lib/data/priority-queue.js");module.exports=function dijkstra(g,source,weightFn,edgeFn){return function runDijkstra(g,source,weightFn,edgeFn){var v,vEntry,results={},pq=new PriorityQueue,updateNeighbors=function(edge){var w=edge.v!==v?edge.v:edge.w,wEntry=results[w],weight=weightFn(edge),distance=vEntry.distance+weight;if(weight<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+edge+" Weight: "+weight);distance<wEntry.distance&&(wEntry.distance=distance,wEntry.predecessor=v,pq.decrease(w,distance))};g.nodes().forEach(function(v){var distance=v===source?0:Number.POSITIVE_INFINITY;results[v]={distance},pq.add(v,distance)});for(;pq.size()>0&&(v=pq.removeMin(),(vEntry=results[v]).distance!==Number.POSITIVE_INFINITY);)edgeFn(v).forEach(updateNeighbors);return results}(g,String(source),weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})};var DEFAULT_WEIGHT_FUNC=_.constant(1)},"../../node_modules/graphlib/lib/alg/find-cycles.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js"),tarjan=__webpack_require__("../../node_modules/graphlib/lib/alg/tarjan.js");module.exports=function findCycles(g){return _.filter(tarjan(g),function(cmpt){return cmpt.length>1||1===cmpt.length&&g.hasEdge(cmpt[0],cmpt[0])})}},"../../node_modules/graphlib/lib/alg/floyd-warshall.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js");module.exports=function floydWarshall(g,weightFn,edgeFn){return function runFloydWarshall(g,weightFn,edgeFn){var results={},nodes=g.nodes();return nodes.forEach(function(v){results[v]={},results[v][v]={distance:0},nodes.forEach(function(w){v!==w&&(results[v][w]={distance:Number.POSITIVE_INFINITY})}),edgeFn(v).forEach(function(edge){var w=edge.v===v?edge.w:edge.v,d=weightFn(edge);results[v][w]={distance:d,predecessor:v}})}),nodes.forEach(function(k){var rowK=results[k];nodes.forEach(function(i){var rowI=results[i];nodes.forEach(function(j){var ik=rowI[k],kj=rowK[j],ij=rowI[j],altDistance=ik.distance+kj.distance;altDistance<ij.distance&&(ij.distance=altDistance,ij.predecessor=kj.predecessor)})})}),results}(g,weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})};var DEFAULT_WEIGHT_FUNC=_.constant(1)},"../../node_modules/graphlib/lib/alg/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={components:__webpack_require__("../../node_modules/graphlib/lib/alg/components.js"),dijkstra:__webpack_require__("../../node_modules/graphlib/lib/alg/dijkstra.js"),dijkstraAll:__webpack_require__("../../node_modules/graphlib/lib/alg/dijkstra-all.js"),findCycles:__webpack_require__("../../node_modules/graphlib/lib/alg/find-cycles.js"),floydWarshall:__webpack_require__("../../node_modules/graphlib/lib/alg/floyd-warshall.js"),isAcyclic:__webpack_require__("../../node_modules/graphlib/lib/alg/is-acyclic.js"),postorder:__webpack_require__("../../node_modules/graphlib/lib/alg/postorder.js"),preorder:__webpack_require__("../../node_modules/graphlib/lib/alg/preorder.js"),prim:__webpack_require__("../../node_modules/graphlib/lib/alg/prim.js"),tarjan:__webpack_require__("../../node_modules/graphlib/lib/alg/tarjan.js"),topsort:__webpack_require__("../../node_modules/graphlib/lib/alg/topsort.js")}},"../../node_modules/graphlib/lib/alg/is-acyclic.js":(module,__unused_webpack_exports,__webpack_require__)=>{var topsort=__webpack_require__("../../node_modules/graphlib/lib/alg/topsort.js");module.exports=function isAcyclic(g){try{topsort(g)}catch(e){if(e instanceof topsort.CycleException)return!1;throw e}return!0}},"../../node_modules/graphlib/lib/alg/postorder.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dfs=__webpack_require__("../../node_modules/graphlib/lib/alg/dfs.js");module.exports=function postorder(g,vs){return dfs(g,vs,"post")}},"../../node_modules/graphlib/lib/alg/preorder.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dfs=__webpack_require__("../../node_modules/graphlib/lib/alg/dfs.js");module.exports=function preorder(g,vs){return dfs(g,vs,"pre")}},"../../node_modules/graphlib/lib/alg/prim.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js"),Graph=__webpack_require__("../../node_modules/graphlib/lib/graph.js"),PriorityQueue=__webpack_require__("../../node_modules/graphlib/lib/data/priority-queue.js");module.exports=function prim(g,weightFunc){var v,result=new Graph,parents={},pq=new PriorityQueue;function updateNeighbors(edge){var w=edge.v===v?edge.w:edge.v,pri=pq.priority(w);if(void 0!==pri){var edgeWeight=weightFunc(edge);edgeWeight<pri&&(parents[w]=v,pq.decrease(w,edgeWeight))}}if(0===g.nodeCount())return result;_.each(g.nodes(),function(v){pq.add(v,Number.POSITIVE_INFINITY),result.setNode(v)}),pq.decrease(g.nodes()[0],0);var init=!1;for(;pq.size()>0;){if(v=pq.removeMin(),_.has(parents,v))result.setEdge(v,parents[v]);else{if(init)throw new Error("Input graph is not connected: "+g);init=!0}g.nodeEdges(v).forEach(updateNeighbors)}return result}},"../../node_modules/graphlib/lib/alg/tarjan.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js");module.exports=function tarjan(g){var index=0,stack=[],visited={},results=[];function dfs(v){var entry=visited[v]={onStack:!0,lowlink:index,index:index++};if(stack.push(v),g.successors(v).forEach(function(w){_.has(visited,w)?visited[w].onStack&&(entry.lowlink=Math.min(entry.lowlink,visited[w].index)):(dfs(w),entry.lowlink=Math.min(entry.lowlink,visited[w].lowlink))}),entry.lowlink===entry.index){var w,cmpt=[];do{w=stack.pop(),visited[w].onStack=!1,cmpt.push(w)}while(v!==w);results.push(cmpt)}}return g.nodes().forEach(function(v){_.has(visited,v)||dfs(v)}),results}},"../../node_modules/graphlib/lib/alg/topsort.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js");function topsort(g){var visited={},stack={},results=[];if(_.each(g.sinks(),function visit(node){if(_.has(stack,node))throw new CycleException;_.has(visited,node)||(stack[node]=!0,visited[node]=!0,_.each(g.predecessors(node),visit),delete stack[node],results.push(node))}),_.size(visited)!==g.nodeCount())throw new CycleException;return results}function CycleException(){}module.exports=topsort,topsort.CycleException=CycleException,CycleException.prototype=new Error},"../../node_modules/graphlib/lib/data/priority-queue.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js");function PriorityQueue(){this._arr=[],this._keyIndices={}}module.exports=PriorityQueue,PriorityQueue.prototype.size=function(){return this._arr.length},PriorityQueue.prototype.keys=function(){return this._arr.map(function(x){return x.key})},PriorityQueue.prototype.has=function(key){return _.has(this._keyIndices,key)},PriorityQueue.prototype.priority=function(key){var index=this._keyIndices[key];if(void 0!==index)return this._arr[index].priority},PriorityQueue.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},PriorityQueue.prototype.add=function(key,priority){var keyIndices=this._keyIndices;if(key=String(key),!_.has(keyIndices,key)){var arr=this._arr,index=arr.length;return keyIndices[key]=index,arr.push({key,priority}),this._decrease(index),!0}return!1},PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var min=this._arr.pop();return delete this._keyIndices[min.key],this._heapify(0),min.key},PriorityQueue.prototype.decrease=function(key,priority){var index=this._keyIndices[key];if(priority>this._arr[index].priority)throw new Error("New priority is greater than current priority. Key: "+key+" Old: "+this._arr[index].priority+" New: "+priority);this._arr[index].priority=priority,this._decrease(index)},PriorityQueue.prototype._heapify=function(i){var arr=this._arr,l=2*i,r=l+1,largest=i;l<arr.length&&(largest=arr[l].priority<arr[largest].priority?l:largest,r<arr.length&&(largest=arr[r].priority<arr[largest].priority?r:largest),largest!==i&&(this._swap(i,largest),this._heapify(largest)))},PriorityQueue.prototype._decrease=function(index){for(var parent,arr=this._arr,priority=arr[index].priority;0!==index&&!(arr[parent=index>>1].priority<priority);)this._swap(index,parent),index=parent},PriorityQueue.prototype._swap=function(i,j){var arr=this._arr,keyIndices=this._keyIndices,origArrI=arr[i],origArrJ=arr[j];arr[i]=origArrJ,arr[j]=origArrI,keyIndices[origArrJ.key]=i,keyIndices[origArrI.key]=j}},"../../node_modules/graphlib/lib/graph.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js");module.exports=Graph;var GRAPH_NODE="\0";function Graph(opts){this._isDirected=!_.has(opts,"directed")||opts.directed,this._isMultigraph=!!_.has(opts,"multigraph")&&opts.multigraph,this._isCompound=!!_.has(opts,"compound")&&opts.compound,this._label=void 0,this._defaultNodeLabelFn=_.constant(void 0),this._defaultEdgeLabelFn=_.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function incrementOrInitEntry(map,k){map[k]?map[k]++:map[k]=1}function decrementOrRemoveEntry(map,k){--map[k]||delete map[k]}function edgeArgsToId(isDirected,v_,w_,name){var v=""+v_,w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w,w=tmp}return v+""+w+""+(_.isUndefined(name)?"\0":name)}function edgeObjToId(isDirected,edgeObj){return edgeArgsToId(isDirected,edgeObj.v,edgeObj.w,edgeObj.name)}Graph.prototype._nodeCount=0,Graph.prototype._edgeCount=0,Graph.prototype.isDirected=function(){return this._isDirected},Graph.prototype.isMultigraph=function(){return this._isMultigraph},Graph.prototype.isCompound=function(){return this._isCompound},Graph.prototype.setGraph=function(label){return this._label=label,this},Graph.prototype.graph=function(){return this._label},Graph.prototype.setDefaultNodeLabel=function(newDefault){return _.isFunction(newDefault)||(newDefault=_.constant(newDefault)),this._defaultNodeLabelFn=newDefault,this},Graph.prototype.nodeCount=function(){return this._nodeCount},Graph.prototype.nodes=function(){return _.keys(this._nodes)},Graph.prototype.sources=function(){var self=this;return _.filter(this.nodes(),function(v){return _.isEmpty(self._in[v])})},Graph.prototype.sinks=function(){var self=this;return _.filter(this.nodes(),function(v){return _.isEmpty(self._out[v])})},Graph.prototype.setNodes=function(vs,value){var args=arguments,self=this;return _.each(vs,function(v){args.length>1?self.setNode(v,value):self.setNode(v)}),this},Graph.prototype.setNode=function(v,value){return _.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=value),this):(this._nodes[v]=arguments.length>1?value:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]=GRAPH_NODE,this._children[v]={},this._children[GRAPH_NODE][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},Graph.prototype.node=function(v){return this._nodes[v]},Graph.prototype.hasNode=function(v){return _.has(this._nodes,v)},Graph.prototype.removeNode=function(v){var self=this;if(_.has(this._nodes,v)){var removeEdge=function(e){self.removeEdge(self._edgeObjs[e])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],_.each(this.children(v),function(child){self.setParent(child)}),delete this._children[v]),_.each(_.keys(this._in[v]),removeEdge),delete this._in[v],delete this._preds[v],_.each(_.keys(this._out[v]),removeEdge),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},Graph.prototype.setParent=function(v,parent){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(parent))parent=GRAPH_NODE;else{for(var ancestor=parent+="";!_.isUndefined(ancestor);ancestor=this.parent(ancestor))if(ancestor===v)throw new Error("Setting "+parent+" as parent of "+v+" would create a cycle");this.setNode(parent)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=parent,this._children[parent][v]=!0,this},Graph.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},Graph.prototype.parent=function(v){if(this._isCompound){var parent=this._parent[v];if(parent!==GRAPH_NODE)return parent}},Graph.prototype.children=function(v){if(_.isUndefined(v)&&(v=GRAPH_NODE),this._isCompound){var children=this._children[v];if(children)return _.keys(children)}else{if(v===GRAPH_NODE)return this.nodes();if(this.hasNode(v))return[]}},Graph.prototype.predecessors=function(v){var predsV=this._preds[v];if(predsV)return _.keys(predsV)},Graph.prototype.successors=function(v){var sucsV=this._sucs[v];if(sucsV)return _.keys(sucsV)},Graph.prototype.neighbors=function(v){var preds=this.predecessors(v);if(preds)return _.union(preds,this.successors(v))},Graph.prototype.isLeaf=function(v){return 0===(this.isDirected()?this.successors(v):this.neighbors(v)).length},Graph.prototype.filterNodes=function(filter){var copy=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});copy.setGraph(this.graph());var self=this;_.each(this._nodes,function(value,v){filter(v)&&copy.setNode(v,value)}),_.each(this._edgeObjs,function(e){copy.hasNode(e.v)&&copy.hasNode(e.w)&&copy.setEdge(e,self.edge(e))});var parents={};function findParent(v){var parent=self.parent(v);return void 0===parent||copy.hasNode(parent)?(parents[v]=parent,parent):parent in parents?parents[parent]:findParent(parent)}return this._isCompound&&_.each(copy.nodes(),function(v){copy.setParent(v,findParent(v))}),copy},Graph.prototype.setDefaultEdgeLabel=function(newDefault){return _.isFunction(newDefault)||(newDefault=_.constant(newDefault)),this._defaultEdgeLabelFn=newDefault,this},Graph.prototype.edgeCount=function(){return this._edgeCount},Graph.prototype.edges=function(){return _.values(this._edgeObjs)},Graph.prototype.setPath=function(vs,value){var self=this,args=arguments;return _.reduce(vs,function(v,w){return args.length>1?self.setEdge(v,w,value):self.setEdge(v,w),w}),this},Graph.prototype.setEdge=function(){var v,w,name,value,valueSpecified=!1,arg0=arguments[0];"object"==typeof arg0&&null!==arg0&&"v"in arg0?(v=arg0.v,w=arg0.w,name=arg0.name,2===arguments.length&&(value=arguments[1],valueSpecified=!0)):(v=arg0,w=arguments[1],name=arguments[3],arguments.length>2&&(value=arguments[2],valueSpecified=!0)),v=""+v,w=""+w,_.isUndefined(name)||(name=""+name);var e=edgeArgsToId(this._isDirected,v,w,name);if(_.has(this._edgeLabels,e))return valueSpecified&&(this._edgeLabels[e]=value),this;if(!_.isUndefined(name)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(w),this._edgeLabels[e]=valueSpecified?value:this._defaultEdgeLabelFn(v,w,name);var edgeObj=function edgeArgsToObj(isDirected,v_,w_,name){var v=""+v_,w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w,w=tmp}var edgeObj={v,w};name&&(edgeObj.name=name);return edgeObj}(this._isDirected,v,w,name);return v=edgeObj.v,w=edgeObj.w,Object.freeze(edgeObj),this._edgeObjs[e]=edgeObj,incrementOrInitEntry(this._preds[w],v),incrementOrInitEntry(this._sucs[v],w),this._in[w][e]=edgeObj,this._out[v][e]=edgeObj,this._edgeCount++,this},Graph.prototype.edge=function(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return this._edgeLabels[e]},Graph.prototype.hasEdge=function(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return _.has(this._edgeLabels,e)},Graph.prototype.removeEdge=function(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name),edge=this._edgeObjs[e];return edge&&(v=edge.v,w=edge.w,delete this._edgeLabels[e],delete this._edgeObjs[e],decrementOrRemoveEntry(this._preds[w],v),decrementOrRemoveEntry(this._sucs[v],w),delete this._in[w][e],delete this._out[v][e],this._edgeCount--),this},Graph.prototype.inEdges=function(v,u){var inV=this._in[v];if(inV){var edges=_.values(inV);return u?_.filter(edges,function(edge){return edge.v===u}):edges}},Graph.prototype.outEdges=function(v,w){var outV=this._out[v];if(outV){var edges=_.values(outV);return w?_.filter(edges,function(edge){return edge.w===w}):edges}},Graph.prototype.nodeEdges=function(v,w){var inEdges=this.inEdges(v,w);if(inEdges)return inEdges.concat(this.outEdges(v,w))}},"../../node_modules/graphlib/lib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={Graph:__webpack_require__("../../node_modules/graphlib/lib/graph.js"),version:__webpack_require__("../../node_modules/graphlib/lib/version.js")}},"../../node_modules/graphlib/lib/json.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("../../node_modules/graphlib/lib/lodash.js"),Graph=__webpack_require__("../../node_modules/graphlib/lib/graph.js");function writeNodes(g){return _.map(g.nodes(),function(v){var nodeValue=g.node(v),parent=g.parent(v),node={v};return _.isUndefined(nodeValue)||(node.value=nodeValue),_.isUndefined(parent)||(node.parent=parent),node})}function writeEdges(g){return _.map(g.edges(),function(e){var edgeValue=g.edge(e),edge={v:e.v,w:e.w};return _.isUndefined(e.name)||(edge.name=e.name),_.isUndefined(edgeValue)||(edge.value=edgeValue),edge})}module.exports={write:function write(g){var json={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:writeNodes(g),edges:writeEdges(g)};_.isUndefined(g.graph())||(json.value=_.clone(g.graph()));return json},read:function read(json){var g=new Graph(json.options).setGraph(json.value);return _.each(json.nodes,function(entry){g.setNode(entry.v,entry.value),entry.parent&&g.setParent(entry.v,entry.parent)}),_.each(json.edges,function(entry){g.setEdge({v:entry.v,w:entry.w,name:entry.name},entry.value)}),g}}},"../../node_modules/graphlib/lib/lodash.js":(module,__unused_webpack_exports,__webpack_require__)=>{var lodash;try{lodash={clone:__webpack_require__("../../node_modules/lodash/clone.js"),constant:__webpack_require__("../../node_modules/lodash/constant.js"),each:__webpack_require__("../../node_modules/lodash/each.js"),filter:__webpack_require__("../../node_modules/lodash/filter.js"),has:__webpack_require__("../../node_modules/lodash/has.js"),isArray:__webpack_require__("../../node_modules/lodash/isArray.js"),isEmpty:__webpack_require__("../../node_modules/lodash/isEmpty.js"),isFunction:__webpack_require__("../../node_modules/lodash/isFunction.js"),isUndefined:__webpack_require__("../../node_modules/lodash/isUndefined.js"),keys:__webpack_require__("../../node_modules/lodash/keys.js"),map:__webpack_require__("../../node_modules/lodash/map.js"),reduce:__webpack_require__("../../node_modules/lodash/reduce.js"),size:__webpack_require__("../../node_modules/lodash/size.js"),transform:__webpack_require__("../../node_modules/lodash/transform.js"),union:__webpack_require__("../../node_modules/lodash/union.js"),values:__webpack_require__("../../node_modules/lodash/values.js")}}catch(e){}lodash||(lodash=window._),module.exports=lodash},"../../node_modules/graphlib/lib/version.js":module=>{module.exports="2.1.8"},"../../node_modules/json-logic-js/logic.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";function arrayUnique(array){for(var a=[],i=0,l=array.length;i<l;i++)-1===a.indexOf(array[i])&&a.push(array[i]);return a}Array.isArray||(Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)});var jsonLogic={},operations={"==":function(a,b){return a==b},"===":function(a,b){return a===b},"!=":function(a,b){return a!=b},"!==":function(a,b){return a!==b},">":function(a,b){return a>b},">=":function(a,b){return a>=b},"<":function(a,b,c){return void 0===c?a<b:a<b&&b<c},"<=":function(a,b,c){return void 0===c?a<=b:a<=b&&b<=c},"!!":function(a){return jsonLogic.truthy(a)},"!":function(a){return!jsonLogic.truthy(a)},"%":function(a,b){return a%b},log:function(a){return console.log(a),a},in:function(a,b){return!(!b||void 0===b.indexOf)&&-1!==b.indexOf(a)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(source,start,end){if(end<0){var temp=String(source).substr(start);return temp.substr(0,temp.length+end)}return String(source).substr(start,end)},"+":function(){return Array.prototype.reduce.call(arguments,function(a,b){return parseFloat(a,10)+parseFloat(b,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(a,b){return parseFloat(a,10)*parseFloat(b,10)})},"-":function(a,b){return void 0===b?-a:a-b},"/":function(a,b){return a/b},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(a,b){return a.concat(b)},[])},var:function(a,b){var not_found=void 0===b?null:b,data=this;if(void 0===a||""===a||null===a)return data;for(var sub_props=String(a).split("."),i=0;i<sub_props.length;i++){if(null==data)return not_found;if(void 0===(data=data[sub_props[i]]))return not_found}return data},missing:function(){for(var missing=[],keys=Array.isArray(arguments[0])?arguments[0]:arguments,i=0;i<keys.length;i++){var key=keys[i],value=jsonLogic.apply({var:key},this);null!==value&&""!==value||missing.push(key)}return missing},missing_some:function(need_count,options){var are_missing=jsonLogic.apply({missing:options},this);return options.length-are_missing.length>=need_count?[]:are_missing}};return jsonLogic.is_logic=function(logic){return"object"==typeof logic&&null!==logic&&!Array.isArray(logic)&&1===Object.keys(logic).length},jsonLogic.truthy=function(value){return!(Array.isArray(value)&&0===value.length||!value)},jsonLogic.get_operator=function(logic){return Object.keys(logic)[0]},jsonLogic.get_values=function(logic){return logic[jsonLogic.get_operator(logic)]},jsonLogic.apply=function(logic,data){if(Array.isArray(logic))return logic.map(function(l){return jsonLogic.apply(l,data)});if(!jsonLogic.is_logic(logic))return logic;var i,current,scopedLogic,scopedData,initial,op=jsonLogic.get_operator(logic),values=logic[op];if(Array.isArray(values)||(values=[values]),"if"===op||"?:"==op){for(i=0;i<values.length-1;i+=2)if(jsonLogic.truthy(jsonLogic.apply(values[i],data)))return jsonLogic.apply(values[i+1],data);return values.length===i+1?jsonLogic.apply(values[i],data):null}if("and"===op){for(i=0;i<values.length;i+=1)if(current=jsonLogic.apply(values[i],data),!jsonLogic.truthy(current))return current;return current}if("or"===op){for(i=0;i<values.length;i+=1)if(current=jsonLogic.apply(values[i],data),jsonLogic.truthy(current))return current;return current}if("filter"===op)return scopedData=jsonLogic.apply(values[0],data),scopedLogic=values[1],Array.isArray(scopedData)?scopedData.filter(function(datum){return jsonLogic.truthy(jsonLogic.apply(scopedLogic,datum))}):[];if("map"===op)return scopedData=jsonLogic.apply(values[0],data),scopedLogic=values[1],Array.isArray(scopedData)?scopedData.map(function(datum){return jsonLogic.apply(scopedLogic,datum)}):[];if("reduce"===op)return scopedData=jsonLogic.apply(values[0],data),scopedLogic=values[1],initial=void 0!==values[2]?jsonLogic.apply(values[2],data):null,Array.isArray(scopedData)?scopedData.reduce(function(accumulator,current){return jsonLogic.apply(scopedLogic,{current,accumulator})},initial):initial;if("all"===op){if(scopedData=jsonLogic.apply(values[0],data),scopedLogic=values[1],!Array.isArray(scopedData)||!scopedData.length)return!1;for(i=0;i<scopedData.length;i+=1)if(!jsonLogic.truthy(jsonLogic.apply(scopedLogic,scopedData[i])))return!1;return!0}if("none"===op){if(scopedData=jsonLogic.apply(values[0],data),scopedLogic=values[1],!Array.isArray(scopedData)||!scopedData.length)return!0;for(i=0;i<scopedData.length;i+=1)if(jsonLogic.truthy(jsonLogic.apply(scopedLogic,scopedData[i])))return!1;return!0}if("some"===op){if(scopedData=jsonLogic.apply(values[0],data),scopedLogic=values[1],!Array.isArray(scopedData)||!scopedData.length)return!1;for(i=0;i<scopedData.length;i+=1)if(jsonLogic.truthy(jsonLogic.apply(scopedLogic,scopedData[i])))return!0;return!1}if(values=values.map(function(val){return jsonLogic.apply(val,data)}),operations.hasOwnProperty(op)&&"function"==typeof operations[op])return operations[op].apply(data,values);if(op.indexOf(".")>0){var sub_ops=String(op).split("."),operation=operations;for(i=0;i<sub_ops.length;i++){if(!operation.hasOwnProperty(sub_ops[i]))throw new Error("Unrecognized operation "+op+" (failed at "+sub_ops.slice(0,i+1).join(".")+")");operation=operation[sub_ops[i]]}return operation.apply(data,values)}throw new Error("Unrecognized operation "+op)},jsonLogic.uses_data=function(logic){var collection=[];if(jsonLogic.is_logic(logic)){var op=jsonLogic.get_operator(logic),values=logic[op];Array.isArray(values)||(values=[values]),"var"===op?collection.push(values[0]):values.forEach(function(val){collection.push.apply(collection,jsonLogic.uses_data(val))})}return arrayUnique(collection)},jsonLogic.add_operation=function(name,code){operations[name]=code},jsonLogic.rm_operation=function(name){delete operations[name]},jsonLogic.rule_like=function(rule,pattern){if(pattern===rule)return!0;if("@"===pattern)return!0;if("number"===pattern)return"number"==typeof rule;if("string"===pattern)return"string"==typeof rule;if("array"===pattern)return Array.isArray(rule)&&!jsonLogic.is_logic(rule);if(jsonLogic.is_logic(pattern)){if(jsonLogic.is_logic(rule)){var pattern_op=jsonLogic.get_operator(pattern),rule_op=jsonLogic.get_operator(rule);if("@"===pattern_op||pattern_op===rule_op)return jsonLogic.rule_like(jsonLogic.get_values(rule,!1),jsonLogic.get_values(pattern,!1))}return!1}if(Array.isArray(pattern)){if(Array.isArray(rule)){if(pattern.length!==rule.length)return!1;for(var i=0;i<pattern.length;i+=1)if(!jsonLogic.rule_like(rule[i],pattern[i]))return!1;return!0}return!1}return!1},jsonLogic},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"../../node_modules/json-refs/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("../../node_modules/process/browser.js"),_=__webpack_require__("../../node_modules/lodash/lodash.js"),gl=__webpack_require__("../../node_modules/graphlib/index.js"),path=__webpack_require__("?b425"),PathLoader=__webpack_require__("../../node_modules/path-loader/index.js"),qs=__webpack_require__("../../node_modules/querystring-es3/index.js"),slash=__webpack_require__("../../node_modules/slash/index.js"),URI=__webpack_require__("../../node_modules/uri-js/dist/es5/uri.all.js"),badPtrTokenRegex=/~(?:[^01]|$)/g,remoteCache={},remoteTypes=["relative","remote"],remoteUriTypes=["absolute","uri"],uriDetailsCache={};function combineURIs(u1,u2){_.isString(u1)&&(u1=slash(u1)),_.isString(u2)&&(u2=slash(u2));var u1Details,combinedDetails,u2Details=parseURI(_.isUndefined(u2)?"":u2);return remoteUriTypes.indexOf(u2Details.reference)>-1?combinedDetails=u2Details:(u1Details=_.isUndefined(u1)?void 0:parseURI(u1),_.isUndefined(u1Details)?combinedDetails=u2Details:((combinedDetails=u1Details).path=slash(path.join(u1Details.path,u2Details.path)),combinedDetails.query=function combineQueryParams(qs1,qs2){var combined={};function mergeQueryParams(obj){_.forOwn(obj,function(val,key){combined[key]=val})}return mergeQueryParams(qs.parse(qs1||"")),mergeQueryParams(qs.parse(qs2||"")),0===Object.keys(combined).length?void 0:qs.stringify(combined)}(u1Details.query,u2Details.query))),combinedDetails.fragment=void 0,(-1===remoteUriTypes.indexOf(combinedDetails.reference)&&0===combinedDetails.path.indexOf("../")?"../":"")+URI.serialize(combinedDetails)}function isRemote(refDetails){return remoteTypes.indexOf(getRefType(refDetails))>-1}function isValid(refDetails){return _.isUndefined(refDetails.error)&&"invalid"!==refDetails.type}function findValue(obj,path){var value=obj;return path.forEach(function(seg){if(!(seg in value))throw Error("JSON Pointer points to missing location: "+pathToPtr(path));value=value[seg]}),value}function getExtraRefKeys(ref){return Object.keys(ref).filter(function(key){return"$ref"!==key})}function getRefType(refDetails){var type;switch(refDetails.uriDetails.reference){case"absolute":case"uri":type="remote";break;case"same-document":type="local";break;default:type=refDetails.uriDetails.reference}return type}function getRemoteDocument(url,options){var cacheEntry=remoteCache[url],allTasks=Promise.resolve(),loaderOptions=_.cloneDeep(options.loaderOptions||{});return _.isUndefined(cacheEntry)?(_.isUndefined(loaderOptions.processContent)&&(loaderOptions.processContent=function(res,callback){callback(void 0,JSON.parse(res.text))}),allTasks=(allTasks=PathLoader.load(decodeURI(url),loaderOptions)).then(function(res){return remoteCache[url]={value:res},res}).catch(function(err){throw remoteCache[url]={error:err},err})):allTasks=allTasks.then(function(){if(_.isError(cacheEntry.error))throw cacheEntry.error;return cacheEntry.value}),allTasks=allTasks.then(function(res){return _.cloneDeep(res)})}function isRefLike(obj,throwWithDetails){var refLike=!0;try{if(!_.isPlainObject(obj))throw new Error("obj is not an Object");if(!_.isString(obj.$ref))throw new Error("obj.$ref is not a String")}catch(err){if(throwWithDetails)throw err;refLike=!1}return refLike}function makeAbsolute(location){return-1!==location.indexOf("://")||path.isAbsolute(location)?location:path.resolve(process.cwd(),location)}function markMissing(refDetails,err){refDetails.error=err.message,refDetails.missing=!0}function parseURI(uri){return URI.parse(uri)}function buildRefModel(document,options,metadata){var refs,rOptions,allTasks=Promise.resolve(),subDocPtr=pathToPtr(options.subDocPath),absLocation=makeAbsolute(options.location),relativeBase=path.dirname(options.location),docDepKey=absLocation+subDocPtr;return _.isUndefined(metadata.docs[absLocation])&&(metadata.docs[absLocation]=document),_.isUndefined(metadata.deps[docDepKey])&&(metadata.deps[docDepKey]={},refs=findRefs(document,options),_.forOwn(refs,function(refDetails,refPtr){var nMetadata,nOptions,refKey=makeAbsolute(options.location)+refPtr,refdKey=refDetails.refdId=decodeURI(makeAbsolute(isRemote(refDetails)?combineURIs(relativeBase,refDetails.uri):options.location)+"#"+(refDetails.uri.indexOf("#")>-1?refDetails.uri.split("#")[1]:""));(metadata.refs[refKey]=refDetails,isValid(refDetails))&&(refDetails.fqURI=refdKey,metadata.deps[docDepKey][refPtr===subDocPtr?"#":refPtr.replace(subDocPtr+"/","#/")]=refdKey,0!==refKey.indexOf(refdKey+"/")&&refKey!==refdKey?((rOptions=_.cloneDeep(options)).subDocPath=_.isUndefined(refDetails.uriDetails.fragment)?[]:pathFromPtr(decodeURI(refDetails.uriDetails.fragment)),isRemote(refDetails)?(delete rOptions.filter,rOptions.location=refdKey.split("#")[0],allTasks=allTasks.then((nMetadata=metadata,nOptions=rOptions,function(){var rAbsLocation=makeAbsolute(nOptions.location),rDoc=nMetadata.docs[rAbsLocation];return _.isUndefined(rDoc)?getRemoteDocument(rAbsLocation,nOptions).catch(function(err){return nMetadata.docs[rAbsLocation]=err,err}):Promise.resolve().then(function(){return rDoc})}))):allTasks=allTasks.then(function(){return document}),allTasks=allTasks.then(function(nMetadata,nOptions,nRefDetails){return function(doc){if(_.isError(doc))markMissing(nRefDetails,doc);else try{return buildRefModel(doc,nOptions,nMetadata).catch(function(err){markMissing(nRefDetails,err)})}catch(err){markMissing(nRefDetails,err)}}}(metadata,rOptions,refDetails))):refDetails.circular=!0)})),allTasks}function setValue(obj,refPath,value){findValue(obj,refPath.slice(0,refPath.length-1))[refPath[refPath.length-1]]=value}function walk(ancestors,node,path,fn){var processChildren=!0;function walkItem(item,segment){path.push(segment),walk(ancestors,item,path,fn),path.pop()}_.isFunction(fn)&&(processChildren=fn(ancestors,node,path)),-1===ancestors.indexOf(node)&&(ancestors.push(node),!1!==processChildren&&(_.isArray(node)?node.forEach(function(member,index){walkItem(member,index.toString())}):_.isObject(node)&&_.forOwn(node,function(cNode,key){walkItem(cNode,key)})),ancestors.pop())}function validateOptions(options,obj){var locationParts,shouldDecode;if(options=_.isUndefined(options)?{}:_.cloneDeep(options),!_.isObject(options))throw new TypeError("options must be an Object");if(!_.isUndefined(options.resolveCirculars)&&!_.isBoolean(options.resolveCirculars))throw new TypeError("options.resolveCirculars must be a Boolean");if(!(_.isUndefined(options.filter)||_.isArray(options.filter)||_.isFunction(options.filter)||_.isString(options.filter)))throw new TypeError("options.filter must be an Array, a Function of a String");if(!_.isUndefined(options.includeInvalid)&&!_.isBoolean(options.includeInvalid))throw new TypeError("options.includeInvalid must be a Boolean");if(!_.isUndefined(options.location)&&!_.isString(options.location))throw new TypeError("options.location must be a String");if(!_.isUndefined(options.refPreProcessor)&&!_.isFunction(options.refPreProcessor))throw new TypeError("options.refPreProcessor must be a Function");if(!_.isUndefined(options.refPostProcessor)&&!_.isFunction(options.refPostProcessor))throw new TypeError("options.refPostProcessor must be a Function");if(!_.isUndefined(options.subDocPath)&&!_.isArray(options.subDocPath)&&!isPtr(options.subDocPath))throw new TypeError("options.subDocPath must be an Array of path segments or a valid JSON Pointer");if(_.isUndefined(options.resolveCirculars)&&(options.resolveCirculars=!1),options.filter=function makeRefFilter(options){var refFilter,validTypes;return _.isArray(options.filter)||_.isString(options.filter)?(validTypes=_.isString(options.filter)?[options.filter]:options.filter,refFilter=function(refDetails){return validTypes.indexOf(refDetails.type)>-1||validTypes.indexOf(getRefType(refDetails))>-1}):_.isFunction(options.filter)?refFilter=options.filter:_.isUndefined(options.filter)&&(refFilter=function(){return!0}),function(refDetails,path){return("invalid"!==refDetails.type||!0===options.includeInvalid)&&refFilter(refDetails,path)}}(options),_.isUndefined(options.location)&&(options.location=makeAbsolute("./root.json")),(locationParts=options.location.split("#")).length>1&&(options.subDocPath="#"+locationParts[1]),shouldDecode=decodeURI(options.location)===options.location,options.location=combineURIs(options.location,void 0),shouldDecode&&(options.location=decodeURI(options.location)),options.subDocPath=function makeSubDocPath(options){var subDocPath;return _.isArray(options.subDocPath)?subDocPath=options.subDocPath:_.isString(options.subDocPath)?subDocPath=pathFromPtr(options.subDocPath):_.isUndefined(options.subDocPath)&&(subDocPath=[]),subDocPath}(options),!_.isUndefined(obj))try{findValue(obj,options.subDocPath)}catch(err){throw err.message=err.message.replace("JSON Pointer","options.subDocPath"),err}return options}function decodePath(path){if(!_.isArray(path))throw new TypeError("path must be an array");return path.map(function(seg){return _.isString(seg)||(seg=JSON.stringify(seg)),seg.replace(/~1/g,"/").replace(/~0/g,"~")})}function encodePath(path){if(!_.isArray(path))throw new TypeError("path must be an array");return path.map(function(seg){return _.isString(seg)||(seg=JSON.stringify(seg)),seg.replace(/~/g,"~0").replace(/\//g,"~1")})}function findRefs(obj,options){var refs={};if(!_.isArray(obj)&&!_.isObject(obj))throw new TypeError("obj must be an Array or an Object");return walk(function findAncestors(obj,path){var node,ancestors=[];return path.length>0&&(node=obj,path.slice(0,path.length-1).forEach(function(seg){seg in node&&(node=node[seg],ancestors.push(node))})),ancestors}(obj,(options=validateOptions(options,obj)).subDocPath),findValue(obj,options.subDocPath),_.cloneDeep(options.subDocPath),function(ancestors,node,path){var refDetails,refPtr,processChildren=!0;return isRefLike(node)&&(_.isUndefined(options.refPreProcessor)||(node=options.refPreProcessor(_.cloneDeep(node),path)),refDetails=getRefDetails(node),_.isUndefined(options.refPostProcessor)||(refDetails=options.refPostProcessor(refDetails,path)),options.filter(refDetails,path)&&(refPtr=pathToPtr(path),refs[refPtr]=refDetails),getExtraRefKeys(node).length>0&&(processChildren=!1)),processChildren}),refs}function getRefDetails(obj){var cacheKey,extraKeys,uriDetails,details={def:obj};try{if(isRefLike(obj,!0),cacheKey=obj.$ref,uriDetails=uriDetailsCache[cacheKey],_.isUndefined(uriDetails)&&(uriDetails=uriDetailsCache[cacheKey]=parseURI(cacheKey)),details.uri=cacheKey,details.uriDetails=uriDetails,_.isUndefined(uriDetails.error)){details.type=getRefType(details);try{["#","/"].indexOf(cacheKey[0])>-1?isPtr(cacheKey,!0):cacheKey.indexOf("#")>-1&&isPtr(uriDetails.fragment,!0)}catch(err){details.error=err.message,details.type="invalid"}}else details.error=details.uriDetails.error,details.type="invalid";(extraKeys=getExtraRefKeys(obj)).length>0&&(details.warning="Extra JSON Reference properties will be ignored: "+extraKeys.join(", "))}catch(err){details.error=err.message,details.type="invalid"}return details}function isPtr(ptr,throwWithDetails){var firstChar,valid=!0;try{if(!_.isString(ptr))throw new Error("ptr is not a String");if(""!==ptr){if(firstChar=ptr.charAt(0),-1===["#","/"].indexOf(firstChar))throw new Error("ptr must start with a / or #/");if("#"===firstChar&&"#"!==ptr&&"/"!==ptr.charAt(1))throw new Error("ptr must start with a / or #/");if(ptr.match(badPtrTokenRegex))throw new Error("ptr has invalid token(s)")}}catch(err){if(!0===throwWithDetails)throw err;valid=!1}return valid}function pathFromPtr(ptr){try{isPtr(ptr,!0)}catch(err){throw new Error("ptr must be a JSON Pointer: "+err.message)}var segments=ptr.split("/");return segments.shift(),decodePath(segments)}function pathToPtr(path,hashPrefix){if(!_.isArray(path))throw new Error("path must be an Array");return(!1!==hashPrefix?"#":"")+(path.length>0?"/":"")+encodePath(path).join("/")}function resolveRefs(obj,options){var allTasks=Promise.resolve();return allTasks=allTasks.then(function(){if(!_.isArray(obj)&&!_.isObject(obj))throw new TypeError("obj must be an Array or an Object");options=validateOptions(options,obj),obj=_.cloneDeep(obj)}).then(function(){var metadata={deps:{},docs:{},refs:{}};return buildRefModel(obj,options,metadata).then(function(){return metadata})}).then(function(results){var allRefs={},circularPaths=[],circulars=[],depGraph=new gl.Graph,fullLocation=makeAbsolute(options.location),refsRoot=fullLocation+pathToPtr(options.subDocPath),relativeBase=path.dirname(fullLocation);function walkRefs(root,refPtr,refPath){var refDeps,refPtrParts=refPtr.split("#"),refDetails=results.refs[refPtr];allRefs[refPtrParts[0]===options.location?"#"+refPtrParts[1]:pathToPtr(options.subDocPath.concat(refPath))]=refDetails,!refDetails.circular&&isValid(refDetails)?(refDeps=results.deps[refDetails.refdId],0!==refDetails.refdId.indexOf(root)&&Object.keys(refDeps).forEach(function(prop){walkRefs(refDetails.refdId,refDetails.refdId+prop.substr(1),refPath.concat(pathFromPtr(prop)))})):!refDetails.circular&&refDetails.error&&(refDetails.error=refDetails.error.replace("options.subDocPath","JSON Pointer"),refDetails.error.indexOf("#")>-1&&(refDetails.error=refDetails.error.replace(refDetails.uri.substr(refDetails.uri.indexOf("#")),refDetails.uri)),0!==refDetails.error.indexOf("ENOENT:")&&0!==refDetails.error.indexOf("Not Found")||(refDetails.error="JSON Pointer points to missing location: "+refDetails.uri))}return Object.keys(results.deps).forEach(function(node){depGraph.setNode(node)}),_.forOwn(results.deps,function(props,node){_.forOwn(props,function(dep){depGraph.setEdge(node,dep)})}),(circularPaths=gl.alg.findCycles(depGraph)).forEach(function(path){path.forEach(function(seg){-1===circulars.indexOf(seg)&&circulars.push(seg)})}),_.forOwn(results.deps,function(props,node){_.forOwn(props,function(dep,prop){var pathIndex,isCircular=!1,refPtr=node+prop.slice(1),refDetails=results.refs[node+prop.slice(1)],remote=isRemote(refDetails);circulars.indexOf(dep)>-1&&circularPaths.forEach(function(path){isCircular||(pathIndex=path.indexOf(dep))>-1&&path.forEach(function(seg){isCircular||0===refPtr.indexOf(seg+"/")&&(remote&&pathIndex!==path.length-1&&"#"===dep[dep.length-1]||(isCircular=!0))})}),isCircular&&(refDetails.circular=!0)})}),_.forOwn(Object.keys(results.deps).reverse(),function(parentPtr){var deps=results.deps[parentPtr],pPtrParts=parentPtr.split("#"),pDocument=results.docs[pPtrParts[0]],pPtrPath=pathFromPtr(pPtrParts[1]);_.forOwn(deps,function(dep,prop){var depParts=dep.split("#"),dDocument=results.docs[depParts[0]],dPtrPath=pPtrPath.concat(pathFromPtr(prop)),refDetails=results.refs[pPtrParts[0]+pathToPtr(dPtrPath)];if(_.isUndefined(refDetails.error)&&_.isUndefined(refDetails.missing))if(!options.resolveCirculars&&refDetails.circular)refDetails.value=_.cloneDeep(refDetails.def);else{try{refDetails.value=findValue(dDocument,pathFromPtr(depParts[1]))}catch(err){return void markMissing(refDetails,err)}""===pPtrParts[1]&&"#"===prop?results.docs[pPtrParts[0]]=refDetails.value:setValue(pDocument,dPtrPath,refDetails.value)}})}),Object.keys(results.refs).forEach(function(refPtr){var fqURISegments,uriSegments,refDetails=results.refs[refPtr];"invalid"!==refDetails.type&&("#"===refDetails.fqURI[refDetails.fqURI.length-1]&&"#"!==refDetails.uri[refDetails.uri.length-1]&&(refDetails.fqURI=refDetails.fqURI.substr(0,refDetails.fqURI.length-1)),fqURISegments=refDetails.fqURI.split("/"),uriSegments=refDetails.uri.split("/"),_.times(uriSegments.length-1,function(time){var nSeg=uriSegments[uriSegments.length-time-1],pSeg=uriSegments[uriSegments.length-time],fqSegIndex=fqURISegments.length-time-1;"."!==nSeg&&".."!==nSeg&&".."!==pSeg&&(fqURISegments[fqSegIndex]=nSeg)}),refDetails.fqURI=fqURISegments.join("/"),0===refDetails.fqURI.indexOf(fullLocation)?refDetails.fqURI=refDetails.fqURI.replace(fullLocation,""):0===refDetails.fqURI.indexOf(relativeBase)&&(refDetails.fqURI=refDetails.fqURI.replace(relativeBase,"")),"/"===refDetails.fqURI[0]&&(refDetails.fqURI="."+refDetails.fqURI)),0===refPtr.indexOf(refsRoot)&&walkRefs(refsRoot,refPtr,pathFromPtr(refPtr.substr(refsRoot.length)))}),_.forOwn(allRefs,function(refDetails,refPtr){delete refDetails.refdId,refDetails.circular&&"local"===refDetails.type&&(refDetails.value.$ref=refDetails.fqURI,setValue(results.docs[fullLocation],pathFromPtr(refPtr),refDetails.value)),refDetails.missing&&(refDetails.error=refDetails.error.split(": ")[0]+": "+refDetails.def.$ref)}),{refs:allRefs,resolved:results.docs[fullLocation]}})}"undefined"==typeof Promise&&__webpack_require__("../../node_modules/native-promise-only/lib/npo.src.js")},"../../node_modules/lodash/_arrayReduce.js":module=>{module.exports=function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},"../../node_modules/lodash/_asciiSize.js":(module,__unused_webpack_exports,__webpack_require__)=>{var asciiSize=__webpack_require__("../../node_modules/lodash/_baseProperty.js")("length");module.exports=asciiSize},"../../node_modules/lodash/_baseFilter.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseEach=__webpack_require__("../../node_modules/lodash/_baseEach.js");module.exports=function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}},"../../node_modules/lodash/_baseHas.js":module=>{var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}},"../../node_modules/lodash/_baseReduce.js":module=>{module.exports=function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}},"../../node_modules/lodash/_baseValues.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("../../node_modules/lodash/_arrayMap.js");module.exports=function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}},"../../node_modules/lodash/_castFunction.js":(module,__unused_webpack_exports,__webpack_require__)=>{var identity=__webpack_require__("../../node_modules/lodash/identity.js");module.exports=function castFunction(value){return"function"==typeof value?value:identity}},"../../node_modules/lodash/_stringSize.js":(module,__unused_webpack_exports,__webpack_require__)=>{var asciiSize=__webpack_require__("../../node_modules/lodash/_asciiSize.js"),hasUnicode=__webpack_require__("../../node_modules/lodash/_hasUnicode.js"),unicodeSize=__webpack_require__("../../node_modules/lodash/_unicodeSize.js");module.exports=function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}},"../../node_modules/lodash/_unicodeSize.js":module=>{var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function unicodeSize(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)++result;return result}},"../../node_modules/lodash/clone.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseClone=__webpack_require__("../../node_modules/lodash/_baseClone.js");module.exports=function clone(value){return baseClone(value,4)}},"../../node_modules/lodash/each.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("../../node_modules/lodash/forEach.js")},"../../node_modules/lodash/filter.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayFilter=__webpack_require__("../../node_modules/lodash/_arrayFilter.js"),baseFilter=__webpack_require__("../../node_modules/lodash/_baseFilter.js"),baseIteratee=__webpack_require__("../../node_modules/lodash/_baseIteratee.js"),isArray=__webpack_require__("../../node_modules/lodash/isArray.js");module.exports=function filter(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,baseIteratee(predicate,3))}},"../../node_modules/lodash/forEach.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayEach=__webpack_require__("../../node_modules/lodash/_arrayEach.js"),baseEach=__webpack_require__("../../node_modules/lodash/_baseEach.js"),castFunction=__webpack_require__("../../node_modules/lodash/_castFunction.js"),isArray=__webpack_require__("../../node_modules/lodash/isArray.js");module.exports=function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},"../../node_modules/lodash/has.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseHas=__webpack_require__("../../node_modules/lodash/_baseHas.js"),hasPath=__webpack_require__("../../node_modules/lodash/_hasPath.js");module.exports=function has(object,path){return null!=object&&hasPath(object,path,baseHas)}},"../../node_modules/lodash/isArrayLikeObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isArrayLike=__webpack_require__("../../node_modules/lodash/isArrayLike.js"),isObjectLike=__webpack_require__("../../node_modules/lodash/isObjectLike.js");module.exports=function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}},"../../node_modules/lodash/isEmpty.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseKeys=__webpack_require__("../../node_modules/lodash/_baseKeys.js"),getTag=__webpack_require__("../../node_modules/lodash/_getTag.js"),isArguments=__webpack_require__("../../node_modules/lodash/isArguments.js"),isArray=__webpack_require__("../../node_modules/lodash/isArray.js"),isArrayLike=__webpack_require__("../../node_modules/lodash/isArrayLike.js"),isBuffer=__webpack_require__("../../node_modules/lodash/isBuffer.js"),isPrototype=__webpack_require__("../../node_modules/lodash/_isPrototype.js"),isTypedArray=__webpack_require__("../../node_modules/lodash/isTypedArray.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if("[object Map]"==tag||"[object Set]"==tag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},"../../node_modules/lodash/isUndefined.js":module=>{module.exports=function isUndefined(value){return void 0===value}},"../../node_modules/lodash/reduce.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayReduce=__webpack_require__("../../node_modules/lodash/_arrayReduce.js"),baseEach=__webpack_require__("../../node_modules/lodash/_baseEach.js"),baseIteratee=__webpack_require__("../../node_modules/lodash/_baseIteratee.js"),baseReduce=__webpack_require__("../../node_modules/lodash/_baseReduce.js"),isArray=__webpack_require__("../../node_modules/lodash/isArray.js");module.exports=function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,baseIteratee(iteratee,4),accumulator,initAccum,baseEach)}},"../../node_modules/lodash/size.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseKeys=__webpack_require__("../../node_modules/lodash/_baseKeys.js"),getTag=__webpack_require__("../../node_modules/lodash/_getTag.js"),isArrayLike=__webpack_require__("../../node_modules/lodash/isArrayLike.js"),isString=__webpack_require__("../../node_modules/lodash/isString.js"),stringSize=__webpack_require__("../../node_modules/lodash/_stringSize.js");module.exports=function size(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return"[object Map]"==tag||"[object Set]"==tag?collection.size:baseKeys(collection).length}},"../../node_modules/lodash/transform.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayEach=__webpack_require__("../../node_modules/lodash/_arrayEach.js"),baseCreate=__webpack_require__("../../node_modules/lodash/_baseCreate.js"),baseForOwn=__webpack_require__("../../node_modules/lodash/_baseForOwn.js"),baseIteratee=__webpack_require__("../../node_modules/lodash/_baseIteratee.js"),getPrototype=__webpack_require__("../../node_modules/lodash/_getPrototype.js"),isArray=__webpack_require__("../../node_modules/lodash/isArray.js"),isBuffer=__webpack_require__("../../node_modules/lodash/isBuffer.js"),isFunction=__webpack_require__("../../node_modules/lodash/isFunction.js"),isObject=__webpack_require__("../../node_modules/lodash/isObject.js"),isTypedArray=__webpack_require__("../../node_modules/lodash/isTypedArray.js");module.exports=function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=baseIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}},"../../node_modules/lodash/union.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFlatten=__webpack_require__("../../node_modules/lodash/_baseFlatten.js"),baseRest=__webpack_require__("../../node_modules/lodash/_baseRest.js"),baseUniq=__webpack_require__("../../node_modules/lodash/_baseUniq.js"),isArrayLikeObject=__webpack_require__("../../node_modules/lodash/isArrayLikeObject.js"),union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))});module.exports=union},"../../node_modules/lodash/values.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseValues=__webpack_require__("../../node_modules/lodash/_baseValues.js"),keys=__webpack_require__("../../node_modules/lodash/keys.js");module.exports=function values(object){return null==object?[]:baseValues(object,keys(object))}},"../../node_modules/memoize-one/dist/memoize-one.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>memoizeOne});var safeIsNaN=Number.isNaN||function ponyfill(value){return"number"==typeof value&&value!=value};function isEqual(first,second){return first===second||!(!safeIsNaN(first)||!safeIsNaN(second))}function areInputsEqual(newInputs,lastInputs){if(newInputs.length!==lastInputs.length)return!1;for(var i=0;i<newInputs.length;i++)if(!isEqual(newInputs[i],lastInputs[i]))return!1;return!0}function memoizeOne(resultFn,isEqual){void 0===isEqual&&(isEqual=areInputsEqual);var cache=null;function memoized(){for(var newArgs=[],_i=0;_i<arguments.length;_i++)newArgs[_i]=arguments[_i];if(cache&&cache.lastThis===this&&isEqual(newArgs,cache.lastArgs))return cache.lastResult;var lastResult=resultFn.apply(this,newArgs);return cache={lastResult,lastArgs:newArgs,lastThis:this},lastResult}return memoized.clear=function clear(){cache=null},memoized}},"../../node_modules/native-promise-only/lib/npo.src.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function UMD(name,context,definition){context[name]=context[name]||definition(),module.exports?module.exports=context[name]:void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function $AMD$(){return context[name]}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}("Promise",void 0!==__webpack_require__.g?__webpack_require__.g:this,function DEF(){"use strict";var builtInProp,cycle,scheduling_queue,ToString=Object.prototype.toString,timer="undefined"!=typeof setImmediate?function timer(fn){return setImmediate(fn)}:setTimeout;try{Object.defineProperty({},"x",{}),builtInProp=function builtInProp(obj,name,val,config){return Object.defineProperty(obj,name,{value:val,writable:!0,configurable:!1!==config})}}catch(err){builtInProp=function builtInProp(obj,name,val){return obj[name]=val,obj}}function schedule(fn,self){scheduling_queue.add(fn,self),cycle||(cycle=timer(scheduling_queue.drain))}function isThenable(o){var _then,o_type=typeof o;return null==o||"object"!=o_type&&"function"!=o_type||(_then=o.then),"function"==typeof _then&&_then}function notify(){for(var i=0;i<this.chain.length;i++)notifyIsolated(this,1===this.state?this.chain[i].success:this.chain[i].failure,this.chain[i]);this.chain.length=0}function notifyIsolated(self,cb,chain){var ret,_then;try{!1===cb?chain.reject(self.msg):(ret=!0===cb?self.msg:cb.call(void 0,self.msg))===chain.promise?chain.reject(TypeError("Promise-chain cycle")):(_then=isThenable(ret))?_then.call(ret,chain.resolve,chain.reject):chain.resolve(ret)}catch(err){chain.reject(err)}}function resolve(msg){var _then,self=this;if(!self.triggered){self.triggered=!0,self.def&&(self=self.def);try{(_then=isThenable(msg))?schedule(function(){var def_wrapper=new MakeDefWrapper(self);try{_then.call(msg,function $resolve$(){resolve.apply(def_wrapper,arguments)},function $reject$(){reject.apply(def_wrapper,arguments)})}catch(err){reject.call(def_wrapper,err)}}):(self.msg=msg,self.state=1,self.chain.length>0&&schedule(notify,self))}catch(err){reject.call(new MakeDefWrapper(self),err)}}}function reject(msg){var self=this;self.triggered||(self.triggered=!0,self.def&&(self=self.def),self.msg=msg,self.state=2,self.chain.length>0&&schedule(notify,self))}function iteratePromises(Constructor,arr,resolver,rejecter){for(var idx=0;idx<arr.length;idx++)(function IIFE(idx){Constructor.resolve(arr[idx]).then(function $resolver$(msg){resolver(idx,msg)},rejecter)})(idx)}function MakeDefWrapper(self){this.def=self,this.triggered=!1}function MakeDef(self){this.promise=self,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function Promise(executor){if("function"!=typeof executor)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var def=new MakeDef(this);this.then=function then(success,failure){var o={success:"function"!=typeof success||success,failure:"function"==typeof failure&&failure};return o.promise=new this.constructor(function extractChain(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw TypeError("Not a function");o.resolve=resolve,o.reject=reject}),def.chain.push(o),0!==def.state&&schedule(notify,def),o.promise},this.catch=function $catch$(failure){return this.then(void 0,failure)};try{executor.call(void 0,function publicResolve(msg){resolve.call(def,msg)},function publicReject(msg){reject.call(def,msg)})}catch(err){reject.call(def,err)}}scheduling_queue=function Queue(){var first,last,item;function Item(fn,self){this.fn=fn,this.self=self,this.next=void 0}return{add:function add(fn,self){item=new Item(fn,self),last?last.next=item:first=item,last=item,item=void 0},drain:function drain(){var f=first;for(first=last=cycle=void 0;f;)f.fn.call(f.self),f=f.next}}}();var PromisePrototype=builtInProp({},"constructor",Promise,!1);return Promise.prototype=PromisePrototype,builtInProp(PromisePrototype,"__NPO__",0,!1),builtInProp(Promise,"resolve",function Promise$resolve(msg){return msg&&"object"==typeof msg&&1===msg.__NPO__?msg:new this(function executor(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw TypeError("Not a function");resolve(msg)})}),builtInProp(Promise,"reject",function Promise$reject(msg){return new this(function executor(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw TypeError("Not a function");reject(msg)})}),builtInProp(Promise,"all",function Promise$all(arr){var Constructor=this;return"[object Array]"!=ToString.call(arr)?Constructor.reject(TypeError("Not an array")):0===arr.length?Constructor.resolve([]):new Constructor(function executor(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw TypeError("Not a function");var len=arr.length,msgs=Array(len),count=0;iteratePromises(Constructor,arr,function resolver(idx,msg){msgs[idx]=msg,++count===len&&resolve(msgs)},reject)})}),builtInProp(Promise,"race",function Promise$race(arr){var Constructor=this;return"[object Array]"!=ToString.call(arr)?Constructor.reject(TypeError("Not an array")):new Constructor(function executor(resolve,reject){if("function"!=typeof resolve||"function"!=typeof reject)throw TypeError("Not a function");iteratePromises(Constructor,arr,function resolver(idx,msg){resolve(msg)},reject)})}),Promise})},"../../node_modules/objectpath/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("../../node_modules/objectpath/lib/ObjectPath.js").ObjectPath},"../../node_modules/objectpath/lib/ObjectPath.js":(module,exports,__webpack_require__)=>{"use strict";var __WEBPACK_AMD_DEFINE_RESULT__,r,ObjectPath;r={"'":/\\\'/g,'"':/\\\"/g},ObjectPath={parse:function(str){if("string"!=typeof str)throw new TypeError("ObjectPath.parse must be passed a string");for(var d,b,q,c,i=0,parts=[];i<str.length;)if(d=str.indexOf(".",i),b=str.indexOf("[",i),-1===d&&-1===b)parts.push(str.slice(i,str.length)),i=str.length;else if(-1===b||-1!==d&&d<b)parts.push(str.slice(i,d)),i=d+1;else if(b>i&&(parts.push(str.slice(i,b)),i=b),'"'!==(q=str.slice(b+1,b+2))&&"'"!==q)-1===(c=str.indexOf("]",b))&&(c=str.length),parts.push(str.slice(i+1,c)),i="."===str.slice(c+1,c+2)?c+2:c+1;else{for(-1===(c=str.indexOf(q+"]",b))&&(c=str.length);"\\"===str.slice(c-1,c)&&b<str.length;)b++,c=str.indexOf(q+"]",b);parts.push(str.slice(i+2,c).replace(r[q],q)),i="."===str.slice(c+2,c+3)?c+3:c+2}return parts},stringify:function(arr,quote){return Array.isArray(arr)||(arr=[arr.toString()]),quote='"'===quote?'"':"'",arr.map(function(n){return"["+quote+n.toString().replace(new RegExp(quote,"g"),"\\"+quote)+quote+"]"}).join("")},normalize:function(data,quote){return ObjectPath.stringify(Array.isArray(data)?data:ObjectPath.parse(data),quote)},registerModule:function(angular){angular.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=ObjectPath.parse,this.stringify=ObjectPath.stringify,this.normalize=ObjectPath.normalize,this.$get=function(){return ObjectPath}})}},void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return{ObjectPath,parse:ObjectPath.parse,stringify:ObjectPath.stringify,normalize:ObjectPath.normalize}}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"../../node_modules/path-loader/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var supportedLoaders={file:__webpack_require__("../../node_modules/path-loader/lib/loaders/file-browser.js"),http:__webpack_require__("../../node_modules/path-loader/lib/loaders/http.js"),https:__webpack_require__("../../node_modules/path-loader/lib/loaders/http.js")},defaultLoader="object"==typeof window||"function"==typeof importScripts?supportedLoaders.http:supportedLoaders.file;"undefined"==typeof Promise&&__webpack_require__("../../node_modules/native-promise-only/lib/npo.src.js"),module.exports.load=function(location,options){var allTasks=Promise.resolve();return void 0===options&&(options={}),allTasks=(allTasks=allTasks.then(function(){if(void 0===location)throw new TypeError("location is required");if("string"!=typeof location)throw new TypeError("location must be a string");if(void 0!==options){if("object"!=typeof options)throw new TypeError("options must be an object");if(void 0!==options.processContent&&"function"!=typeof options.processContent)throw new TypeError("options.processContent must be a function")}})).then(function(){return new Promise(function(resolve,reject){var loader=function getLoader(location){var scheme=function getScheme(location){return void 0!==location&&(location=-1===location.indexOf("://")?"":location.split("://")[0]),location}(location),loader=supportedLoaders[scheme];if(void 0===loader){if(""!==scheme)throw new Error("Unsupported scheme: "+scheme);loader=defaultLoader}return loader}(location);loader.load(location,options||{},function(err,document){err?reject(err):resolve(document)})})}).then(function(res){return options.processContent?new Promise(function(resolve,reject){"object"!=typeof res&&(res={text:res}),res.location=location,options.processContent(res,function(err,processed){err?reject(err):resolve(processed)})}):"object"==typeof res?res.text:res}),allTasks}},"../../node_modules/path-loader/lib/loaders/file-browser.js":module=>{"use strict";var unsupportedError=new TypeError("The 'file' scheme is not supported in the browser");module.exports.getBase=function(){throw unsupportedError},module.exports.load=function(){var fn=arguments[arguments.length-1];if("function"!=typeof fn)throw unsupportedError;fn(unsupportedError)}},"../../node_modules/path-loader/lib/loaders/http.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("../../node_modules/process/browser.js"),request=__webpack_require__("../../node_modules/superagent/lib/client.js"),supportedHttpMethods=["delete","get","head","patch","post","put"];module.exports.load=function(location,options,callback){var err,realRequest,realMethod=options.method?options.method.toLowerCase():"get";function makeRequest(err,req){err?callback(err):("[object process]"===Object.prototype.toString.call(void 0!==process?process:0)&&"function"==typeof req.buffer&&req.buffer(!0),req.end(function(err2,res){err2?callback(err2):callback(void 0,res)}))}if(void 0!==options.method?"string"!=typeof options.method?err=new TypeError("options.method must be a string"):-1===supportedHttpMethods.indexOf(options.method)&&(err=new TypeError("options.method must be one of the following: "+supportedHttpMethods.slice(0,supportedHttpMethods.length-1).join(", ")+" or "+supportedHttpMethods[supportedHttpMethods.length-1])):void 0!==options.prepareRequest&&"function"!=typeof options.prepareRequest&&(err=new TypeError("options.prepareRequest must be a function")),err)callback(err);else if(realRequest=request["delete"===realMethod?"del":realMethod](location),options.prepareRequest)try{options.prepareRequest(realRequest,makeRequest)}catch(err2){callback(err2)}else makeRequest(void 0,realRequest)}},"../../node_modules/qs/lib/formats.js":module=>{"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g,Format_RFC1738="RFC1738",Format_RFC3986="RFC3986";module.exports={default:Format_RFC3986,formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return String(value)}},RFC1738:Format_RFC1738,RFC3986:Format_RFC3986}},"../../node_modules/qs/lib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var stringify=__webpack_require__("../../node_modules/qs/lib/stringify.js"),parse=__webpack_require__("../../node_modules/qs/lib/parse.js"),formats=__webpack_require__("../../node_modules/qs/lib/formats.js");module.exports={formats,parse,stringify}},"../../node_modules/qs/lib/parse.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var utils=__webpack_require__("../../node_modules/qs/lib/utils.js"),has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:utils.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))})},parseArrayValue=function(val,options,currentArrayLength){if(val&&"string"==typeof val&&options.comma&&val.indexOf(",")>-1)return val.split(",");if(options.throwOnLimitExceeded&&currentArrayLength>=options.arrayLimit)throw new RangeError("Array limit exceeded. Only "+options.arrayLimit+" element"+(1===options.arrayLimit?"":"s")+" allowed in an array.");return val},parseKeys=function parseQueryStringKeys(givenKey,val,options,valuesParsed){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=options.depth>0&&/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;options.depth>0&&null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}if(segment){if(!0===options.strictDepth)throw new RangeError("Input depth exceeded depth option of "+options.depth+" and strictDepth is true");keys.push("["+key.slice(segment.index)+"]")}return function(chain,val,options,valuesParsed){var currentArrayLength=0;if(chain.length>0&&"[]"===chain[chain.length-1]){var parentKey=chain.slice(0,-1).join("");currentArrayLength=Array.isArray(val)&&val[parentKey]?val[parentKey].length:0}for(var leaf=valuesParsed?val:parseArrayValue(val,options,currentArrayLength),i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root&&options.parseArrays)obj=options.allowEmptyArrays&&(""===leaf||options.strictNullHandling&&null===leaf)?[]:utils.combine([],leaf);else{obj=options.plainObjects?{__proto__:null}:{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,decodedRoot=options.decodeDotInKeys?cleanRoot.replace(/%2E/g,"."):cleanRoot,index=parseInt(decodedRoot,10);options.parseArrays||""!==decodedRoot?!isNaN(index)&&root!==decodedRoot&&String(index)===decodedRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:"__proto__"!==decodedRoot&&(obj[decodedRoot]=leaf):obj={0:leaf}}leaf=obj}return leaf}(keys,val,options,valuesParsed)}};module.exports=function(str,opts){var options=function normalizeParseOptions(opts){if(!opts)return defaults;if(void 0!==opts.allowEmptyArrays&&"boolean"!=typeof opts.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==opts.decodeDotInKeys&&"boolean"!=typeof opts.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==opts.decoder&&void 0!==opts.decoder&&"function"!=typeof opts.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==opts.throwOnLimitExceeded&&"boolean"!=typeof opts.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var charset=void 0===opts.charset?defaults.charset:opts.charset,duplicates=void 0===opts.duplicates?defaults.duplicates:opts.duplicates;if("combine"!==duplicates&&"first"!==duplicates&&"last"!==duplicates)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===opts.allowDots?!0===opts.decodeDotInKeys||defaults.allowDots:!!opts.allowDots,allowEmptyArrays:"boolean"==typeof opts.allowEmptyArrays?!!opts.allowEmptyArrays:defaults.allowEmptyArrays,allowPrototypes:"boolean"==typeof opts.allowPrototypes?opts.allowPrototypes:defaults.allowPrototypes,allowSparse:"boolean"==typeof opts.allowSparse?opts.allowSparse:defaults.allowSparse,arrayLimit:"number"==typeof opts.arrayLimit?opts.arrayLimit:defaults.arrayLimit,charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof opts.comma?opts.comma:defaults.comma,decodeDotInKeys:"boolean"==typeof opts.decodeDotInKeys?opts.decodeDotInKeys:defaults.decodeDotInKeys,decoder:"function"==typeof opts.decoder?opts.decoder:defaults.decoder,delimiter:"string"==typeof opts.delimiter||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:"number"==typeof opts.depth||!1===opts.depth?+opts.depth:defaults.depth,duplicates,ignoreQueryPrefix:!0===opts.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof opts.interpretNumericEntities?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof opts.parameterLimit?opts.parameterLimit:defaults.parameterLimit,parseArrays:!1!==opts.parseArrays,plainObjects:"boolean"==typeof opts.plainObjects?opts.plainObjects:defaults.plainObjects,strictDepth:"boolean"==typeof opts.strictDepth?!!opts.strictDepth:defaults.strictDepth,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof opts.throwOnLimitExceeded&&opts.throwOnLimitExceeded}}(opts);if(""===str||null==str)return options.plainObjects?{__proto__:null}:{};for(var tempObj="string"==typeof str?function parseQueryStringValues(str,options){var obj={__proto__:null},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str;cleanStr=cleanStr.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,options.throwOnLimitExceeded?limit+1:limit);if(options.throwOnLimitExceeded&&parts.length>limit)throw new RangeError("Parameter limit exceeded. Only "+limit+" parameter"+(1===limit?"":"s")+" allowed.");var i,skipIndex=-1,charset=options.charset;if(options.charsetSentinel)for(i=0;i<parts.length;++i)0===parts[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===parts[i]?charset="utf-8":"utf8=%26%2310003%3B"===parts[i]&&(charset="iso-8859-1"),skipIndex=i,i=parts.length);for(i=0;i<parts.length;++i)if(i!==skipIndex){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder,charset,"key"),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder,charset,"key"),val=utils.maybeMap(parseArrayValue(part.slice(pos+1),options,isArray(obj[key])?obj[key].length:0),function(encodedVal){return options.decoder(encodedVal,defaults.decoder,charset,"value")})),val&&options.interpretNumericEntities&&"iso-8859-1"===charset&&(val=interpretNumericEntities(String(val))),part.indexOf("[]=")>-1&&(val=isArray(val)?[val]:val);var existing=has.call(obj,key);existing&&"combine"===options.duplicates?obj[key]=utils.combine(obj[key],val):existing&&"last"!==options.duplicates||(obj[key]=val)}return obj}(str,options):str,obj=options.plainObjects?{__proto__:null}:{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options,"string"==typeof str);obj=utils.merge(obj,newObj,options)}return!0===options.allowSparse?obj:utils.compact(obj)}},"../../node_modules/qs/lib/stringify.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var getSideChannel=__webpack_require__("../../node_modules/side-channel/index.js"),utils=__webpack_require__("../../node_modules/qs/lib/utils.js"),formats=__webpack_require__("../../node_modules/qs/lib/formats.js"),has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function brackets(prefix){return prefix+"[]"},comma:"comma",indices:function indices(prefix,key){return prefix+"["+key+"]"},repeat:function repeat(prefix){return prefix}},isArray=Array.isArray,push=Array.prototype.push,pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])},toISO=Date.prototype.toISOString,defaultFormat=formats.default,defaults={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:utils.encode,encodeValuesOnly:!1,filter:void 0,format:defaultFormat,formatter:formats.formatters[defaultFormat],indices:!1,serializeDate:function serializeDate(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},sentinel={},stringify=function stringify(object,prefix,generateArrayPrefix,commaRoundTrip,allowEmptyArrays,strictNullHandling,skipNulls,encodeDotInKeys,encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,sideChannel){for(var obj=object,tmpSc=sideChannel,step=0,findFlag=!1;void 0!==(tmpSc=tmpSc.get(sentinel))&&!findFlag;){var pos=tmpSc.get(object);if(step+=1,void 0!==pos){if(pos===step)throw new RangeError("Cyclic object value");findFlag=!0}void 0===tmpSc.get(sentinel)&&(step=0)}if("function"==typeof filter?obj=filter(prefix,obj):obj instanceof Date?obj=serializeDate(obj):"comma"===generateArrayPrefix&&isArray(obj)&&(obj=utils.maybeMap(obj,function(value){return value instanceof Date?serializeDate(value):value})),null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset,"key",format):prefix;obj=""}if(function isNonNullishPrimitive(v){return"string"==typeof v||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v}(obj)||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset,"key",format))+"="+formatter(encoder(obj,defaults.encoder,charset,"value",format))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if("comma"===generateArrayPrefix&&isArray(obj))encodeValuesOnly&&encoder&&(obj=utils.maybeMap(obj,encoder)),objKeys=[{value:obj.length>0?obj.join(",")||null:void 0}];else if(isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}var encodedPrefix=encodeDotInKeys?String(prefix).replace(/\./g,"%2E"):String(prefix),adjustedPrefix=commaRoundTrip&&isArray(obj)&&1===obj.length?encodedPrefix+"[]":encodedPrefix;if(allowEmptyArrays&&isArray(obj)&&0===obj.length)return adjustedPrefix+"[]";for(var j=0;j<objKeys.length;++j){var key=objKeys[j],value="object"==typeof key&&key&&void 0!==key.value?key.value:obj[key];if(!skipNulls||null!==value){var encodedKey=allowDots&&encodeDotInKeys?String(key).replace(/\./g,"%2E"):String(key),keyPrefix=isArray(obj)?"function"==typeof generateArrayPrefix?generateArrayPrefix(adjustedPrefix,encodedKey):adjustedPrefix:adjustedPrefix+(allowDots?"."+encodedKey:"["+encodedKey+"]");sideChannel.set(object,step);var valueSideChannel=getSideChannel();valueSideChannel.set(sentinel,sideChannel),pushToArray(values,stringify(value,keyPrefix,generateArrayPrefix,commaRoundTrip,allowEmptyArrays,strictNullHandling,skipNulls,encodeDotInKeys,"comma"===generateArrayPrefix&&encodeValuesOnly&&isArray(obj)?null:encoder,filter,sort,allowDots,serializeDate,format,formatter,encodeValuesOnly,charset,valueSideChannel))}}return values};module.exports=function(object,opts){var objKeys,obj=object,options=function normalizeStringifyOptions(opts){if(!opts)return defaults;if(void 0!==opts.allowEmptyArrays&&"boolean"!=typeof opts.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==opts.encodeDotInKeys&&"boolean"!=typeof opts.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==opts.encoder&&void 0!==opts.encoder&&"function"!=typeof opts.encoder)throw new TypeError("Encoder has to be a function.");var charset=opts.charset||defaults.charset;if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var format=formats.default;if(void 0!==opts.format){if(!has.call(formats.formatters,opts.format))throw new TypeError("Unknown format option provided.");format=opts.format}var arrayFormat,formatter=formats.formatters[format],filter=defaults.filter;if(("function"==typeof opts.filter||isArray(opts.filter))&&(filter=opts.filter),arrayFormat=opts.arrayFormat in arrayPrefixGenerators?opts.arrayFormat:"indices"in opts?opts.indices?"indices":"repeat":defaults.arrayFormat,"commaRoundTrip"in opts&&"boolean"!=typeof opts.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var allowDots=void 0===opts.allowDots?!0===opts.encodeDotInKeys||defaults.allowDots:!!opts.allowDots;return{addQueryPrefix:"boolean"==typeof opts.addQueryPrefix?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots,allowEmptyArrays:"boolean"==typeof opts.allowEmptyArrays?!!opts.allowEmptyArrays:defaults.allowEmptyArrays,arrayFormat,charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,commaRoundTrip:!!opts.commaRoundTrip,delimiter:void 0===opts.delimiter?defaults.delimiter:opts.delimiter,encode:"boolean"==typeof opts.encode?opts.encode:defaults.encode,encodeDotInKeys:"boolean"==typeof opts.encodeDotInKeys?opts.encodeDotInKeys:defaults.encodeDotInKeys,encoder:"function"==typeof opts.encoder?opts.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof opts.encodeValuesOnly?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter,format,formatter,serializeDate:"function"==typeof opts.serializeDate?opts.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof opts.skipNulls?opts.skipNulls:defaults.skipNulls,sort:"function"==typeof opts.sort?opts.sort:null,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);"function"==typeof options.filter?obj=(0,options.filter)("",obj):isArray(options.filter)&&(objKeys=options.filter);var keys=[];if("object"!=typeof obj||null===obj)return"";var generateArrayPrefix=arrayPrefixGenerators[options.arrayFormat],commaRoundTrip="comma"===generateArrayPrefix&&options.commaRoundTrip;objKeys||(objKeys=Object.keys(obj)),options.sort&&objKeys.sort(options.sort);for(var sideChannel=getSideChannel(),i=0;i<objKeys.length;++i){var key=objKeys[i],value=obj[key];options.skipNulls&&null===value||pushToArray(keys,stringify(value,key,generateArrayPrefix,commaRoundTrip,options.allowEmptyArrays,options.strictNullHandling,options.skipNulls,options.encodeDotInKeys,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.format,options.formatter,options.encodeValuesOnly,options.charset,sideChannel))}var joined=keys.join(options.delimiter),prefix=!0===options.addQueryPrefix?"?":"";return options.charsetSentinel&&("iso-8859-1"===options.charset?prefix+="utf8=%26%2310003%3B&":prefix+="utf8=%E2%9C%93&"),joined.length>0?prefix+joined:""}},"../../node_modules/qs/lib/utils.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var formats=__webpack_require__("../../node_modules/qs/lib/formats.js"),has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function arrayToObject(source,options){for(var obj=options&&options.plainObjects?{__proto__:null}:{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};module.exports={arrayToObject,assign:function assignSingleSource(target,source){return Object.keys(source).reduce(function(acc,key){return acc[key]=source[key],acc},target)},combine:function combine(a,b){return[].concat(a,b)},compact:function compact(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj,prop:key}),refs.push(val))}return function compactQueue(queue){for(;queue.length>1;){var item=queue.pop(),obj=item.obj[item.prop];if(isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}}(queue),value},decode:function(str,defaultDecoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if("iso-8859-1"===charset)return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}},encode:function encode(str,defaultEncoder,charset,kind,format){if(0===str.length)return str;var string=str;if("symbol"==typeof str?string=Symbol.prototype.toString.call(str):"string"!=typeof str&&(string=String(str)),"iso-8859-1"===charset)return escape(string).replace(/%u[0-9a-f]{4}/gi,function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"});for(var out="",j=0;j<string.length;j+=1024){for(var segment=string.length>=1024?string.slice(j,j+1024):string,arr=[],i=0;i<segment.length;++i){var c=segment.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||format===formats.RFC1738&&(40===c||41===c)?arr[arr.length]=segment.charAt(i):c<128?arr[arr.length]=hexTable[c]:c<2048?arr[arr.length]=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?arr[arr.length]=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&segment.charCodeAt(i)),arr[arr.length]=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}out+=arr.join("")}return out},isBuffer:function isBuffer(obj){return!(!obj||"object"!=typeof obj)&&!!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj))},isRegExp:function isRegExp(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},maybeMap:function maybeMap(val,fn){if(isArray(val)){for(var mapped=[],i=0;i<val.length;i+=1)mapped.push(fn(val[i]));return mapped}return fn(val)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source&&"function"!=typeof source){if(isArray(target))target.push(source);else{if(!target||"object"!=typeof target)return[target,source];(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(!target||"object"!=typeof target)return[target].concat(source);var mergeTarget=target;return isArray(target)&&!isArray(source)&&(mergeTarget=arrayToObject(target,options)),isArray(target)&&isArray(source)?(source.forEach(function(item,i){if(has.call(target,i)){var targetItem=target[i];targetItem&&"object"==typeof targetItem&&item&&"object"==typeof item?target[i]=merge(targetItem,item,options):target.push(item)}else target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)}}},"../../node_modules/querystring-es3/decode.js":module=>{"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&",eq=eq||"=";var obj={};if("string"!=typeof qs||0===qs.length)return obj;var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;options&&"number"==typeof options.maxKeys&&(maxKeys=options.maxKeys);var len=qs.length;maxKeys>0&&len>maxKeys&&(len=maxKeys);for(var i=0;i<len;++i){var kstr,vstr,k,v,x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq);idx>=0?(kstr=x.substr(0,idx),vstr=x.substr(idx+1)):(kstr=x,vstr=""),k=decodeURIComponent(kstr),v=decodeURIComponent(vstr),hasOwnProperty(obj,k)?isArray(obj[k])?obj[k].push(v):obj[k]=[obj[k],v]:obj[k]=v}return obj};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},"../../node_modules/querystring-es3/encode.js":module=>{"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){return sep=sep||"&",eq=eq||"=",null===obj&&(obj=void 0),"object"==typeof obj?map(objectKeys(obj),function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;return isArray(obj[k])?map(obj[k],function(v){return ks+encodeURIComponent(stringifyPrimitive(v))}).join(sep):ks+encodeURIComponent(stringifyPrimitive(obj[k]))}).join(sep):name?encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj)):""};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)};function map(xs,f){if(xs.map)return xs.map(f);for(var res=[],i=0;i<xs.length;i++)res.push(f(xs[i],i));return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&res.push(key);return res}},"../../node_modules/querystring-es3/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.decode=exports.parse=__webpack_require__("../../node_modules/querystring-es3/decode.js"),exports.encode=exports.stringify=__webpack_require__("../../node_modules/querystring-es3/encode.js")},"../../node_modules/react-use/lib/useLocalStorage.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var react_1=__webpack_require__("../../node_modules/react/index.js"),util_1=__webpack_require__("../../node_modules/react-use/lib/misc/util.js");exports.A=function(key,initialValue,options){if(!util_1.isBrowser)return[initialValue,util_1.noop,util_1.noop];if(!key)throw new Error("useLocalStorage key may not be falsy");var deserializer=options?options.raw?function(value){return value}:options.deserializer:JSON.parse,initializer=react_1.useRef(function(key){try{var serializer=options?options.raw?String:options.serializer:JSON.stringify,localStorageValue=localStorage.getItem(key);return null!==localStorageValue?deserializer(localStorageValue):(initialValue&&localStorage.setItem(key,serializer(initialValue)),initialValue)}catch(_a){return initialValue}}),_a=react_1.useState(function(){return initializer.current(key)}),state=_a[0],setState=_a[1];react_1.useLayoutEffect(function(){return setState(initializer.current(key))},[key]);var set=react_1.useCallback(function(valOrFunc){try{var newState="function"==typeof valOrFunc?valOrFunc(state):valOrFunc;if(void 0===newState)return;var value=void 0;value=options?options.raw?"string"==typeof newState?newState:JSON.stringify(newState):options.serializer?options.serializer(newState):JSON.stringify(newState):JSON.stringify(newState),localStorage.setItem(key,value),setState(deserializer(value))}catch(_a){}},[key,setState]),remove=react_1.useCallback(function(){try{localStorage.removeItem(key),setState(void 0)}catch(_a){}},[key,setState]);return[state,set,remove]}},"../../node_modules/slash/index.js":module=>{"use strict";module.exports=path=>{const isExtendedLengthPath=/^\\\\\?\\/.test(path),hasNonAscii=/[^\u0000-\u0080]+/.test(path);return isExtendedLengthPath||hasNonAscii?path:path.replace(/\\/g,"/")}},"../../node_modules/superagent/lib/agent-base.js":module=>{"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function Agent(){this._defaults=[]}for(var _loop=function _loop(){var fn=_arr[_i];Agent.prototype[fn]=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return this._defaults.push({fn,args}),this}},_i=0,_arr=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];_i<_arr.length;_i++)_loop();Agent.prototype._setDefaults=function(request){var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(this._defaults);try{for(_iterator.s();!(_step=_iterator.n()).done;){var def=_step.value;request[def.fn].apply(request,_toConsumableArray(def.args))}}catch(err){_iterator.e(err)}finally{_iterator.f()}},module.exports=Agent},"../../node_modules/superagent/lib/client.js":(module,exports,__webpack_require__)=>{"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var root;"undefined"!=typeof window?root=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),root=void 0):root=self;var Emitter=__webpack_require__("../../node_modules/component-emitter/index.js"),safeStringify=__webpack_require__("../../node_modules/fast-safe-stringify/index.js"),qs=__webpack_require__("../../node_modules/qs/lib/index.js"),RequestBase=__webpack_require__("../../node_modules/superagent/lib/request-base.js"),_require=__webpack_require__("../../node_modules/superagent/lib/utils.js"),isObject=_require.isObject,mixin=_require.mixin,hasOwn=_require.hasOwn,ResponseBase=__webpack_require__("../../node_modules/superagent/lib/response-base.js"),Agent=__webpack_require__("../../node_modules/superagent/lib/agent-base.js");function noop(){}module.exports=function(method,url){return"function"==typeof url?new exports.Request("GET",method).end(url):1===arguments.length?new exports.Request("GET",method):new exports.Request(method,url)};var request=exports=module.exports;exports.Request=Request,request.getXHR=function(){if(root.XMLHttpRequest&&(!root.location||"file:"!==root.location.protocol))return new XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};function serialize(object){if(!isObject(object))return object;var pairs=[];for(var key in object)hasOwn(object,key)&&pushEncodedKeyValuePair(pairs,key,object[key]);return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,value){if(void 0!==value)if(null!==value)if(Array.isArray(value)){var _step,_iterator=_createForOfIteratorHelper(value);try{for(_iterator.s();!(_step=_iterator.n()).done;){pushEncodedKeyValuePair(pairs,key,_step.value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}else if(isObject(value))for(var subkey in value)hasOwn(value,subkey)&&pushEncodedKeyValuePair(pairs,"".concat(key,"[").concat(subkey,"]"),value[subkey]);else pairs.push(encodeURI(key)+"="+encodeURIComponent(value));else pairs.push(encodeURI(key))}function parseString(string_){for(var pair,pos,object={},pairs=string_.split("&"),i=0,length_=pairs.length;i<length_;++i)-1===(pos=(pair=pairs[i]).indexOf("="))?object[decodeURIComponent(pair)]="":object[decodeURIComponent(pair.slice(0,pos))]=decodeURIComponent(pair.slice(pos+1));return object}function isJSON(mime){return/[/+]json($|[^-\w])/i.test(mime)}function Response(request_){this.req=request_,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var status=this.xhr.status;1223===status&&(status=204),this._setStatusProperties(status),this.headers=function parseHeader(string_){for(var index,line,field,value,lines=string_.split(/\r?\n/),fields={},i=0,length_=lines.length;i<length_;++i)-1!==(index=(line=lines[i]).indexOf(":"))&&(field=line.slice(0,index).toLowerCase(),value=trim(line.slice(index+1)),fields[field]=value);return fields}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&request_._responseType?this.body=this.xhr.response:this.body="HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function Request(method,url){var self=this;this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){var new_error,error=null,res=null;try{res=new Response(self)}catch(err){return(error=new Error("Parser is unable to parse the response")).parse=!0,error.original=err,self.xhr?(error.rawResponse=void 0===self.xhr.responseType?self.xhr.responseText:self.xhr.response,error.status=self.xhr.status?self.xhr.status:null,error.statusCode=error.status):(error.rawResponse=null,error.status=null),self.callback(error)}self.emit("response",res);try{self._isResponseOK(res)||(new_error=new Error(res.statusText||res.text||"Unsuccessful HTTP response"))}catch(err){new_error=err}new_error?(new_error.original=error,new_error.response=res,new_error.status=new_error.status||res.status,self.callback(new_error,res)):self.callback(null,res)})}request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":qs.stringify,"application/json":safeStringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},mixin(Response.prototype,ResponseBase.prototype),Response.prototype._parseBody=function(string_){var parse=request.parse[this.type];return this.req._parser?this.req._parser(this,string_):(!parse&&isJSON(this.type)&&(parse=request.parse["application/json"]),parse&&string_&&(string_.length>0||string_ instanceof Object)?parse(string_):null)},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,message="cannot ".concat(method," ").concat(url," (").concat(this.status,")"),error=new Error(message);return error.status=this.status,error.method=method,error.url=url,error},request.Response=Response,Emitter(Request.prototype),mixin(Request.prototype,RequestBase.prototype),Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass,options){1===arguments.length&&(pass=""),"object"===_typeof(pass)&&null!==pass&&(options=pass,pass=""),options||(options={type:"function"==typeof btoa?"basic":"auto"});var encoder=options.encoder?options.encoder:function(string){if("function"==typeof btoa)return btoa(string);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(user,pass,options,encoder)},Request.prototype.query=function(value){return"string"!=typeof value&&(value=serialize(value)),value&&this._query.push(value),this},Request.prototype.attach=function(field,file,options){if(file){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(field,file,options||file.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.callback=function(error,res){if(this._shouldRetry(error,res))return this._retry();var fn=this._callback;this.clearTimeout(),error&&(this._maxRetries&&(error.retries=this._retries-1),this.emit("error",error)),fn(error,res)},Request.prototype.crossDomainError=function(){var error=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");error.crossDomain=!0,error.status=this.status,error.method=this.method,error.url=this.url,this.callback(error)},Request.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},Request.prototype.ca=Request.prototype.agent,Request.prototype.buffer=Request.prototype.ca,Request.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},Request.prototype.pipe=Request.prototype.write,Request.prototype._isHost=function(object){return object&&"object"===_typeof(object)&&!Array.isArray(object)&&"[object Object]"!==Object.prototype.toString.call(object)},Request.prototype.end=function(fn){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=fn||noop,this._finalizeQueryString(),this._end()},Request.prototype._setUploadTimeout=function(){var self=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){self._timeoutError("Upload timeout of ",self._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},Request.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var self=this;this.xhr=request.getXHR();var xhr=this.xhr,data=this._formData||this._data;this._setTimeouts(),xhr.addEventListener("readystatechange",function(){var readyState=xhr.readyState;if(readyState>=2&&self._responseTimeoutTimer&&clearTimeout(self._responseTimeoutTimer),4===readyState){var status;try{status=xhr.status}catch(_unused){status=0}if(!status){if(self.timedout||self._aborted)return;return self.crossDomainError()}self.emit("end")}});var handleProgress=function handleProgress(direction,e){e.total>0&&(e.percent=e.loaded/e.total*100,100===e.percent&&clearTimeout(self._uploadTimeoutTimer)),e.direction=direction,self.emit("progress",e)};if(this.hasListeners("progress"))try{xhr.addEventListener("progress",handleProgress.bind(null,"download")),xhr.upload&&xhr.upload.addEventListener("progress",handleProgress.bind(null,"upload"))}catch(_unused2){}xhr.upload&&this._setUploadTimeout();try{this.username&&this.password?xhr.open(this.method,this.url,!0,this.username,this.password):xhr.open(this.method,this.url,!0)}catch(err){return this.callback(err)}if(this._withCredentials&&(xhr.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof data&&!this._isHost(data)){var contentType=this._header["content-type"],_serialize=this._serializer||request.serialize[contentType?contentType.split(";")[0]:""];!_serialize&&isJSON(contentType)&&(_serialize=request.serialize["application/json"]),_serialize&&(data=_serialize(data))}for(var field in this.header)null!==this.header[field]&&hasOwn(this.header,field)&&xhr.setRequestHeader(field,this.header[field]);this._responseType&&(xhr.responseType=this._responseType),this.emit("request",this),xhr.send(void 0===data?null:data)},request.agent=function(){return new Agent};for(var _loop=function _loop(){var method=_arr[_i];Agent.prototype[method.toLowerCase()]=function(url,fn){var request_=new request.Request(method,url);return this._setDefaults(request_),fn&&request_.end(fn),request_}},_i=0,_arr=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];_i<_arr.length;_i++)_loop();function del(url,data,fn){var request_=request("DELETE",url);return"function"==typeof data&&(fn=data,data=null),data&&request_.send(data),fn&&request_.end(fn),request_}Agent.prototype.del=Agent.prototype.delete,request.get=function(url,data,fn){var request_=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&request_.query(data),fn&&request_.end(fn),request_},request.head=function(url,data,fn){var request_=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&request_.query(data),fn&&request_.end(fn),request_},request.options=function(url,data,fn){var request_=request("OPTIONS",url);return"function"==typeof data&&(fn=data,data=null),data&&request_.send(data),fn&&request_.end(fn),request_},request.del=del,request.delete=del,request.patch=function(url,data,fn){var request_=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&request_.send(data),fn&&request_.end(fn),request_},request.post=function(url,data,fn){var request_=request("POST",url);return"function"==typeof data&&(fn=data,data=null),data&&request_.send(data),fn&&request_.end(fn),request_},request.put=function(url,data,fn){var request_=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&request_.send(data),fn&&request_.end(fn),request_}},"../../node_modules/superagent/lib/request-base.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("../../node_modules/process/browser.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var semver=__webpack_require__("?ecbe"),_require=__webpack_require__("../../node_modules/superagent/lib/utils.js"),isObject=_require.isObject,hasOwn=_require.hasOwn;function RequestBase(){}module.exports=RequestBase,RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},RequestBase.prototype.parse=function(fn){return this._parser=fn,this},RequestBase.prototype.responseType=function(value){return this._responseType=value,this},RequestBase.prototype.serialize=function(fn){return this._serializer=fn,this},RequestBase.prototype.timeout=function(options){if(!options||"object"!==_typeof(options))return this._timeout=options,this._responseTimeout=0,this._uploadTimeout=0,this;for(var option in options)if(hasOwn(options,option))switch(option){case"deadline":this._timeout=options.deadline;break;case"response":this._responseTimeout=options.response;break;case"upload":this._uploadTimeout=options.upload;break;default:console.warn("Unknown timeout option",option)}return this},RequestBase.prototype.retry=function(count,fn){return 0!==arguments.length&&!0!==count||(count=1),count<=0&&(count=0),this._maxRetries=count,this._retries=0,this._retryCallback=fn,this};var ERROR_CODES=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),STATUS_CODES=new Set([408,413,429,500,502,503,504,521,522,524]);RequestBase.prototype._shouldRetry=function(error,res){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var override=this._retryCallback(error,res);if(!0===override)return!0;if(!1===override)return!1}catch(err){console.error(err)}if(res&&res.status&&STATUS_CODES.has(res.status))return!0;if(error){if(error.code&&ERROR_CODES.has(error.code))return!0;if(error.timeout&&"ECONNABORTED"===error.code)return!0;if(error.crossDomain)return!0}return!1},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},RequestBase.prototype.then=function(resolve,reject){var _this=this;if(!this._fullfilledPromise){var self=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(resolve,reject){self.on("abort",function(){if(!(_this._maxRetries&&_this._maxRetries>_this._retries))if(_this.timedout&&_this.timedoutError)reject(_this.timedoutError);else{var error=new Error("Aborted");error.code="ABORTED",error.status=_this.status,error.method=_this.method,error.url=_this.url,reject(error)}}),self.end(function(error,res){error?reject(error):resolve(res)})})}return this._fullfilledPromise.then(resolve,reject)},RequestBase.prototype.catch=function(callback){return this.then(void 0,callback)},RequestBase.prototype.use=function(fn){return fn(this),this},RequestBase.prototype.ok=function(callback){if("function"!=typeof callback)throw new Error("Callback required");return this._okCallback=callback,this},RequestBase.prototype._isResponseOK=function(res){return!!res&&(this._okCallback?this._okCallback(res):res.status>=200&&res.status<300)},RequestBase.prototype.get=function(field){return this._header[field.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(field,value){if(isObject(field)){for(var key in field)hasOwn(field,key)&&this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=value,this.header[field]=value,this},RequestBase.prototype.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},RequestBase.prototype.field=function(name,value,options){if(null==name)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(isObject(name)){for(var key in name)hasOwn(name,key)&&this.field(key,name[key]);return this}if(Array.isArray(value)){for(var i in value)hasOwn(value,i)&&this.field(name,value[i]);return this}if(null==value)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof value&&(value=String(value)),options?this._getFormData().append(name,value,options):this._getFormData().append(name,value),this},RequestBase.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(semver.gte(process.version,"v13.0.0")&&semver.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");semver.gte(process.version,"v14.0.0")&&(this.req.destroyed=!0),this.req.abort()}return this.clearTimeout(),this.emit("abort"),this},RequestBase.prototype._auth=function(user,pass,options,base64Encoder){switch(options.type){case"basic":this.set("Authorization","Basic ".concat(base64Encoder("".concat(user,":").concat(pass))));break;case"auto":this.username=user,this.password=pass;break;case"bearer":this.set("Authorization","Bearer ".concat(user))}return this},RequestBase.prototype.withCredentials=function(on){return void 0===on&&(on=!0),this._withCredentials=on,this},RequestBase.prototype.redirects=function(n){return this._maxRedirects=n,this},RequestBase.prototype.maxResponseSize=function(n){if("number"!=typeof n)throw new TypeError("Invalid argument");return this._maxResponseSize=n,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(data){var isObject_=isObject(data),type=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(isObject_&&!this._data)Array.isArray(data)?this._data=[]:this._isHost(data)||(this._data={});else if(data&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(isObject_&&isObject(this._data))for(var key in data)hasOwn(data,key)&&(this._data[key]=data[key]);else"string"==typeof data?(type||this.type("form"),(type=this._header["content-type"])&&(type=type.toLowerCase().trim()),this._data="application/x-www-form-urlencoded"===type?this._data?"".concat(this._data,"&").concat(data):data:(this._data||"")+data):this._data=data;return!isObject_||this._isHost(data)||type||this.type("json"),this},RequestBase.prototype.sortQuery=function(sort){return this._sort=void 0===sort||sort,this},RequestBase.prototype._finalizeQueryString=function(){var query=this._query.join("&");if(query&&(this.url+=(this.url.includes("?")?"&":"?")+query),this._query.length=0,this._sort){var index=this.url.indexOf("?");if(index>=0){var queryArray=this.url.slice(index+1).split("&");"function"==typeof this._sort?queryArray.sort(this._sort):queryArray.sort(),this.url=this.url.slice(0,index)+"?"+queryArray.join("&")}}},RequestBase.prototype._appendQueryString=function(){console.warn("Unsupported")},RequestBase.prototype._timeoutError=function(reason,timeout,errno){if(!this._aborted){var error=new Error("".concat(reason+timeout,"ms exceeded"));error.timeout=timeout,error.code="ECONNABORTED",error.errno=errno,this.timedout=!0,this.timedoutError=error,this.abort(),this.callback(error)}},RequestBase.prototype._setTimeouts=function(){var self=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){self._timeoutError("Timeout of ",self._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){self._timeoutError("Response timeout of ",self._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},"../../node_modules/superagent/lib/response-base.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var utils=__webpack_require__("../../node_modules/superagent/lib/utils.js");function ResponseBase(){}module.exports=ResponseBase,ResponseBase.prototype.get=function(field){return this.header[field.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(header){var ct=header["content-type"]||"";this.type=utils.type(ct);var parameters=utils.params(ct);for(var key in parameters)Object.prototype.hasOwnProperty.call(parameters,key)&&(this[key]=parameters[key]);this.links={};try{header.link&&(this.links=utils.parseLinks(header.link))}catch(_unused){}},ResponseBase.prototype._setStatusProperties=function(status){var type=Math.trunc(status/100);this.statusCode=status,this.status=this.statusCode,this.statusType=type,this.info=1===type,this.ok=2===type,this.redirect=3===type,this.clientError=4===type,this.serverError=5===type,this.error=(4===type||5===type)&&this.toError(),this.created=201===status,this.accepted=202===status,this.noContent=204===status,this.badRequest=400===status,this.unauthorized=401===status,this.notAcceptable=406===status,this.forbidden=403===status,this.notFound=404===status,this.unprocessableEntity=422===status}},"../../node_modules/superagent/lib/utils.js":(__unused_webpack_module,exports)=>{"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}exports.type=function(string_){return string_.split(/ *; */).shift()},exports.params=function(value){var _step,object={},_iterator=_createForOfIteratorHelper(value.split(/ *; */));try{for(_iterator.s();!(_step=_iterator.n()).done;){var parts=_step.value.split(/ *= */),key=parts.shift(),_value=parts.shift();key&&_value&&(object[key]=_value)}}catch(err){_iterator.e(err)}finally{_iterator.f()}return object},exports.parseLinks=function(value){var _step2,object={},_iterator2=_createForOfIteratorHelper(value.split(/ *, */));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var parts=_step2.value.split(/ *; */),url=parts[0].slice(1,-1);object[parts[1].split(/ *= */)[1].slice(1,-1)]=url}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return object},exports.cleanHeader=function(header,changesOrigin){return delete header["content-type"],delete header["content-length"],delete header["transfer-encoding"],delete header.host,changesOrigin&&(delete header.authorization,delete header.cookie),header},exports.isObject=function(object){return null!==object&&"object"===_typeof(object)},exports.hasOwn=Object.hasOwn||function(object,property){if(null==object)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(object),property)},exports.mixin=function(target,source){for(var key in source)exports.hasOwn(source,key)&&(target[key]=source[key])}},"../../node_modules/tv4/tv4.js":function(module,exports){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=function(){var hasOwnProperty,hasDontEnumBug,dontEnums,dontEnumsLength;Object.keys||(Object.keys=(hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnumsLength=(dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(obj){if("object"!=typeof obj&&"function"!=typeof obj||null===obj)throw new TypeError("Object.keys called on non-object");var result=[];for(var prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(var i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result})),Object.create||(Object.create=function(){function F(){}return function(o){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return F.prototype=o,new F}}()),Array.isArray||(Array.isArray=function(vArg){return"[object Array]"===Object.prototype.toString.call(vArg)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){if(null===this)throw new TypeError;var t=Object(this),len=t.length>>>0;if(0===len)return-1;var n=0;if(arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(var k=n>=0?n:Math.max(len-Math.abs(n),0);k<len;k++)if(k in t&&t[k]===searchElement)return k;return-1}),Object.isFrozen||(Object.isFrozen=function(obj){for(var key="tv4_test_frozen_key";obj.hasOwnProperty(key);)key+=Math.random();try{return obj[key]=!0,delete obj[key],!1}catch(e){return!0}});var uriTemplateGlobalModifiers={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},uriTemplateSuffices={"*":!0};function notReallyPercentEncode(string){return encodeURI(string).replace(/%25[0-9][0-9]/g,function(doubleEncoded){return"%"+doubleEncoded.substring(3)})}function uriTemplateSubstitution(spec){var modifier="";uriTemplateGlobalModifiers[spec.charAt(0)]&&(modifier=spec.charAt(0),spec=spec.substring(1));var separator="",prefix="",shouldEscape=!0,showVariables=!1,trimEmptyString=!1;"+"===modifier?shouldEscape=!1:"."===modifier?(prefix=".",separator="."):"/"===modifier?(prefix="/",separator="/"):"#"===modifier?(prefix="#",shouldEscape=!1):";"===modifier?(prefix=";",separator=";",showVariables=!0,trimEmptyString=!0):"?"===modifier?(prefix="?",separator="&",showVariables=!0):"&"===modifier&&(prefix="&",separator="&",showVariables=!0);for(var varNames=[],varList=spec.split(","),varSpecs=[],varSpecMap={},i=0;i<varList.length;i++){var varName=varList[i],truncate=null;if(-1!==varName.indexOf(":")){var parts=varName.split(":");varName=parts[0],truncate=parseInt(parts[1],10)}for(var suffices={};uriTemplateSuffices[varName.charAt(varName.length-1)];)suffices[varName.charAt(varName.length-1)]=!0,varName=varName.substring(0,varName.length-1);var varSpec={truncate,name:varName,suffices};varSpecs.push(varSpec),varSpecMap[varName]=varSpec,varNames.push(varName)}var subFunction=function(valueFunction){for(var result="",startIndex=0,i=0;i<varSpecs.length;i++){var varSpec=varSpecs[i],value=valueFunction(varSpec.name);if(null==value||Array.isArray(value)&&0===value.length||"object"==typeof value&&0===Object.keys(value).length)startIndex++;else if(result+=i===startIndex?prefix:separator||",",Array.isArray(value)){showVariables&&(result+=varSpec.name+"=");for(var j=0;j<value.length;j++)j>0&&(result+=varSpec.suffices["*"]&&separator||",",varSpec.suffices["*"]&&showVariables&&(result+=varSpec.name+"=")),result+=shouldEscape?encodeURIComponent(value[j]).replace(/!/g,"%21"):notReallyPercentEncode(value[j])}else if("object"==typeof value){showVariables&&!varSpec.suffices["*"]&&(result+=varSpec.name+"=");var first=!0;for(var key in value)first||(result+=varSpec.suffices["*"]&&separator||","),first=!1,result+=shouldEscape?encodeURIComponent(key).replace(/!/g,"%21"):notReallyPercentEncode(key),result+=varSpec.suffices["*"]?"=":",",result+=shouldEscape?encodeURIComponent(value[key]).replace(/!/g,"%21"):notReallyPercentEncode(value[key])}else showVariables&&(result+=varSpec.name,trimEmptyString&&""===value||(result+="=")),null!=varSpec.truncate&&(value=value.substring(0,varSpec.truncate)),result+=shouldEscape?encodeURIComponent(value).replace(/!/g,"%21"):notReallyPercentEncode(value)}return result};return subFunction.varNames=varNames,{prefix,substitution:subFunction}}function UriTemplate(template){if(!(this instanceof UriTemplate))return new UriTemplate(template);for(var parts=template.split("{"),textParts=[parts.shift()],prefixes=[],substitutions=[],varNames=[];parts.length>0;){var part=parts.shift(),spec=part.split("}")[0],remainder=part.substring(spec.length+1),funcs=uriTemplateSubstitution(spec);substitutions.push(funcs.substitution),prefixes.push(funcs.prefix),textParts.push(remainder),varNames=varNames.concat(funcs.substitution.varNames)}this.fill=function(valueFunction){for(var result=textParts[0],i=0;i<substitutions.length;i++)result+=(0,substitutions[i])(valueFunction),result+=textParts[i+1];return result},this.varNames=varNames,this.template=template}UriTemplate.prototype={toString:function(){return this.template},fillFromObject:function(obj){return this.fill(function(varName){return obj[varName]})}};var ValidatorContext=function ValidatorContext(parent,collectMultiple,errorReporter,checkRecursive,trackUnknownProperties){if(this.missing=[],this.missingMap={},this.formatValidators=parent?Object.create(parent.formatValidators):{},this.schemas=parent?Object.create(parent.schemas):{},this.collectMultiple=collectMultiple,this.errors=[],this.handleError=collectMultiple?this.collectError:this.returnError,checkRecursive&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),trackUnknownProperties&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=errorReporter||defaultErrorReporter("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},parent)for(var key in parent.definedKeywords)this.definedKeywords[key]=parent.definedKeywords[key].slice(0)};function recursiveCompare(A,B){if(A===B)return!0;if(A&&B&&"object"==typeof A&&"object"==typeof B){if(Array.isArray(A)!==Array.isArray(B))return!1;if(Array.isArray(A)){if(A.length!==B.length)return!1;for(var i=0;i<A.length;i++)if(!recursiveCompare(A[i],B[i]))return!1}else{var key;for(key in A)if(void 0===B[key]&&void 0!==A[key])return!1;for(key in B)if(void 0===A[key]&&void 0!==B[key])return!1;for(key in A)if(!recursiveCompare(A[key],B[key]))return!1}return!0}return!1}ValidatorContext.prototype.defineKeyword=function(keyword,keywordFunction){this.definedKeywords[keyword]=this.definedKeywords[keyword]||[],this.definedKeywords[keyword].push(keywordFunction)},ValidatorContext.prototype.createError=function(code,messageParams,dataPath,schemaPath,subErrors,data,schema){var error=new ValidationError(code,messageParams,dataPath,schemaPath,subErrors);return error.message=this.errorReporter(error,data,schema),error},ValidatorContext.prototype.returnError=function(error){return error},ValidatorContext.prototype.collectError=function(error){return error&&this.errors.push(error),null},ValidatorContext.prototype.prefixErrors=function(startIndex,dataPath,schemaPath){for(var i=startIndex;i<this.errors.length;i++)this.errors[i]=this.errors[i].prefixWith(dataPath,schemaPath);return this},ValidatorContext.prototype.banUnknownProperties=function(data,schema){for(var unknownPath in this.unknownPropertyPaths){var error=this.createError(ErrorCodes.UNKNOWN_PROPERTY,{path:unknownPath},unknownPath,"",null,data,schema),result=this.handleError(error);if(result)return result}return null},ValidatorContext.prototype.addFormat=function(format,validator){if("object"==typeof format){for(var key in format)this.addFormat(key,format[key]);return this}this.formatValidators[format]=validator},ValidatorContext.prototype.resolveRefs=function(schema,urlHistory){if(void 0!==schema.$ref){if((urlHistory=urlHistory||{})[schema.$ref])return this.createError(ErrorCodes.CIRCULAR_REFERENCE,{urls:Object.keys(urlHistory).join(", ")},"","",null,void 0,schema);urlHistory[schema.$ref]=!0,schema=this.getSchema(schema.$ref,urlHistory)}return schema},ValidatorContext.prototype.getSchema=function(url,urlHistory){var schema;if(void 0!==this.schemas[url])return schema=this.schemas[url],this.resolveRefs(schema,urlHistory);var baseUrl=url,fragment="";if(-1!==url.indexOf("#")&&(fragment=url.substring(url.indexOf("#")+1),baseUrl=url.substring(0,url.indexOf("#"))),"object"==typeof this.schemas[baseUrl]){schema=this.schemas[baseUrl];var pointerPath=decodeURIComponent(fragment);if(""===pointerPath)return this.resolveRefs(schema,urlHistory);if("/"!==pointerPath.charAt(0))return;for(var parts=pointerPath.split("/").slice(1),i=0;i<parts.length;i++){var component=parts[i].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===schema[component]){schema=void 0;break}schema=schema[component]}if(void 0!==schema)return this.resolveRefs(schema,urlHistory)}void 0===this.missing[baseUrl]&&(this.missing.push(baseUrl),this.missing[baseUrl]=baseUrl,this.missingMap[baseUrl]=baseUrl)},ValidatorContext.prototype.searchSchemas=function(schema,url){if(Array.isArray(schema))for(var i=0;i<schema.length;i++)this.searchSchemas(schema[i],url);else if(schema&&"object"==typeof schema)for(var key in"string"==typeof schema.id&&isTrustedUrl(url,schema.id)&&void 0===this.schemas[schema.id]&&(this.schemas[schema.id]=schema),schema)if("enum"!==key)if("object"==typeof schema[key])this.searchSchemas(schema[key],url);else if("$ref"===key){var uri=getDocumentUri(schema[key]);uri&&void 0===this.schemas[uri]&&void 0===this.missingMap[uri]&&(this.missingMap[uri]=uri)}},ValidatorContext.prototype.addSchema=function(url,schema){if("string"!=typeof url||void 0===schema){if("object"!=typeof url||"string"!=typeof url.id)return;url=(schema=url).id}url===getDocumentUri(url)+"#"&&(url=getDocumentUri(url)),this.schemas[url]=schema,delete this.missingMap[url],normSchema(schema,url),this.searchSchemas(schema,url)},ValidatorContext.prototype.getSchemaMap=function(){var map={};for(var key in this.schemas)map[key]=this.schemas[key];return map},ValidatorContext.prototype.getSchemaUris=function(filterRegExp){var list=[];for(var key in this.schemas)filterRegExp&&!filterRegExp.test(key)||list.push(key);return list},ValidatorContext.prototype.getMissingUris=function(filterRegExp){var list=[];for(var key in this.missingMap)filterRegExp&&!filterRegExp.test(key)||list.push(key);return list},ValidatorContext.prototype.dropSchemas=function(){this.schemas={},this.reset()},ValidatorContext.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},ValidatorContext.prototype.validateAll=function(data,schema,dataPathParts,schemaPathParts,dataPointerPath){var topLevel;if(!(schema=this.resolveRefs(schema)))return null;if(schema instanceof ValidationError)return this.errors.push(schema),schema;var frozenIndex,startErrorCount=this.errors.length,scannedFrozenSchemaIndex=null,scannedSchemasIndex=null;if(this.checkRecursive&&data&&"object"==typeof data){if(topLevel=!this.scanned.length,data[this.validatedSchemasKey]){var schemaIndex=data[this.validatedSchemasKey].indexOf(schema);if(-1!==schemaIndex)return this.errors=this.errors.concat(data[this.validationErrorsKey][schemaIndex]),null}if(Object.isFrozen(data)&&-1!==(frozenIndex=this.scannedFrozen.indexOf(data))){var frozenSchemaIndex=this.scannedFrozenSchemas[frozenIndex].indexOf(schema);if(-1!==frozenSchemaIndex)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[frozenIndex][frozenSchemaIndex]),null}if(this.scanned.push(data),Object.isFrozen(data))-1===frozenIndex&&(frozenIndex=this.scannedFrozen.length,this.scannedFrozen.push(data),this.scannedFrozenSchemas.push([])),scannedFrozenSchemaIndex=this.scannedFrozenSchemas[frozenIndex].length,this.scannedFrozenSchemas[frozenIndex][scannedFrozenSchemaIndex]=schema,this.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex]=[];else{if(!data[this.validatedSchemasKey])try{Object.defineProperty(data,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(data,this.validationErrorsKey,{value:[],configurable:!0})}catch(e){data[this.validatedSchemasKey]=[],data[this.validationErrorsKey]=[]}scannedSchemasIndex=data[this.validatedSchemasKey].length,data[this.validatedSchemasKey][scannedSchemasIndex]=schema,data[this.validationErrorsKey][scannedSchemasIndex]=[]}}var errorCount=this.errors.length,error=this.validateBasic(data,schema,dataPointerPath)||this.validateNumeric(data,schema,dataPointerPath)||this.validateString(data,schema,dataPointerPath)||this.validateArray(data,schema,dataPointerPath)||this.validateObject(data,schema,dataPointerPath)||this.validateCombinations(data,schema,dataPointerPath)||this.validateHypermedia(data,schema,dataPointerPath)||this.validateFormat(data,schema,dataPointerPath)||this.validateDefinedKeywords(data,schema,dataPointerPath)||null;if(topLevel){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(error||errorCount!==this.errors.length)for(;dataPathParts&&dataPathParts.length||schemaPathParts&&schemaPathParts.length;){var dataPart=dataPathParts&&dataPathParts.length?""+dataPathParts.pop():null,schemaPart=schemaPathParts&&schemaPathParts.length?""+schemaPathParts.pop():null;error&&(error=error.prefixWith(dataPart,schemaPart)),this.prefixErrors(errorCount,dataPart,schemaPart)}return null!==scannedFrozenSchemaIndex?this.scannedFrozenValidationErrors[frozenIndex][scannedFrozenSchemaIndex]=this.errors.slice(startErrorCount):null!==scannedSchemasIndex&&(data[this.validationErrorsKey][scannedSchemasIndex]=this.errors.slice(startErrorCount)),this.handleError(error)},ValidatorContext.prototype.validateFormat=function(data,schema){if("string"!=typeof schema.format||!this.formatValidators[schema.format])return null;var errorMessage=this.formatValidators[schema.format].call(null,data,schema);return"string"==typeof errorMessage||"number"==typeof errorMessage?this.createError(ErrorCodes.FORMAT_CUSTOM,{message:errorMessage},"","/format",null,data,schema):errorMessage&&"object"==typeof errorMessage?this.createError(ErrorCodes.FORMAT_CUSTOM,{message:errorMessage.message||"?"},errorMessage.dataPath||"",errorMessage.schemaPath||"/format",null,data,schema):null},ValidatorContext.prototype.validateDefinedKeywords=function(data,schema,dataPointerPath){for(var key in this.definedKeywords)if(void 0!==schema[key])for(var validationFunctions=this.definedKeywords[key],i=0;i<validationFunctions.length;i++){var result=(0,validationFunctions[i])(data,schema[key],schema,dataPointerPath);if("string"==typeof result||"number"==typeof result)return this.createError(ErrorCodes.KEYWORD_CUSTOM,{key,message:result},"","",null,data,schema).prefixWith(null,key);if(result&&"object"==typeof result){var code=result.code;if("string"==typeof code){if(!ErrorCodes[code])throw new Error("Undefined error code (use defineError): "+code);code=ErrorCodes[code]}else"number"!=typeof code&&(code=ErrorCodes.KEYWORD_CUSTOM);var messageParams="object"==typeof result.message?result.message:{key,message:result.message||"?"},schemaPath=result.schemaPath||"/"+key.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(code,messageParams,result.dataPath||null,schemaPath,null,data,schema)}}return null},ValidatorContext.prototype.validateBasic=function validateBasic(data,schema,dataPointerPath){var error;return(error=this.validateType(data,schema,dataPointerPath))||(error=this.validateEnum(data,schema,dataPointerPath))?error.prefixWith(null,"type"):null},ValidatorContext.prototype.validateType=function validateType(data,schema){if(void 0===schema.type)return null;var dataType=typeof data;null===data?dataType="null":Array.isArray(data)&&(dataType="array");var allowedTypes=schema.type;Array.isArray(allowedTypes)||(allowedTypes=[allowedTypes]);for(var i=0;i<allowedTypes.length;i++){var type=allowedTypes[i];if(type===dataType||"integer"===type&&"number"===dataType&&data%1==0)return null}return this.createError(ErrorCodes.INVALID_TYPE,{type:dataType,expected:allowedTypes.join("/")},"","",null,data,schema)},ValidatorContext.prototype.validateEnum=function validateEnum(data,schema){if(void 0===schema.enum)return null;for(var i=0;i<schema.enum.length;i++)if(recursiveCompare(data,schema.enum[i]))return null;return this.createError(ErrorCodes.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(data):data},"","",null,data,schema)},ValidatorContext.prototype.validateNumeric=function validateNumeric(data,schema,dataPointerPath){return this.validateMultipleOf(data,schema,dataPointerPath)||this.validateMinMax(data,schema,dataPointerPath)||this.validateNaN(data,schema,dataPointerPath)||null};var CLOSE_ENOUGH_LOW=Math.pow(2,-51),CLOSE_ENOUGH_HIGH=1-CLOSE_ENOUGH_LOW;function parseURI(url){var m=String(url).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return m?{href:m[0]||"",protocol:m[1]||"",authority:m[2]||"",host:m[3]||"",hostname:m[4]||"",port:m[5]||"",pathname:m[6]||"",search:m[7]||"",hash:m[8]||""}:null}function resolveUrl(base,href){function removeDotSegments(input){var output=[];return input.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(p){"/.."===p?output.pop():output.push(p)}),output.join("").replace(/^\//,"/"===input.charAt(0)?"/":"")}return href=parseURI(href||""),base=parseURI(base||""),href&&base?(href.protocol||base.protocol)+(href.protocol||href.authority?href.authority:base.authority)+removeDotSegments(href.protocol||href.authority||"/"===href.pathname.charAt(0)?href.pathname:href.pathname?(base.authority&&!base.pathname?"/":"")+base.pathname.slice(0,base.pathname.lastIndexOf("/")+1)+href.pathname:base.pathname)+(href.protocol||href.authority||href.pathname?href.search:href.search||base.search)+href.hash:null}function getDocumentUri(uri){return uri.split("#")[0]}function normSchema(schema,baseUri){if(schema&&"object"==typeof schema)if(void 0===baseUri?baseUri=schema.id:"string"==typeof schema.id&&(baseUri=resolveUrl(baseUri,schema.id),schema.id=baseUri),Array.isArray(schema))for(var i=0;i<schema.length;i++)normSchema(schema[i],baseUri);else for(var key in"string"==typeof schema.$ref&&(schema.$ref=resolveUrl(baseUri,schema.$ref)),schema)"enum"!==key&&normSchema(schema[key],baseUri)}function defaultErrorReporter(language){var errorMessages=languages[language=language||"en"];return function(error){var messageTemplate=errorMessages[error.code]||ErrorMessagesDefault[error.code];if("string"!=typeof messageTemplate)return"Unknown error code "+error.code+": "+JSON.stringify(error.messageParams);var messageParams=error.params;return messageTemplate.replace(/\{([^{}]*)\}/g,function(whole,varName){var subValue=messageParams[varName];return"string"==typeof subValue||"number"==typeof subValue?subValue:whole})}}ValidatorContext.prototype.validateMultipleOf=function validateMultipleOf(data,schema){var multipleOf=schema.multipleOf||schema.divisibleBy;if(void 0===multipleOf)return null;if("number"==typeof data){var remainder=data/multipleOf%1;if(remainder>=CLOSE_ENOUGH_LOW&&remainder<CLOSE_ENOUGH_HIGH)return this.createError(ErrorCodes.NUMBER_MULTIPLE_OF,{value:data,multipleOf},"","",null,data,schema)}return null},ValidatorContext.prototype.validateMinMax=function validateMinMax(data,schema){if("number"!=typeof data)return null;if(void 0!==schema.minimum){if(data<schema.minimum)return this.createError(ErrorCodes.NUMBER_MINIMUM,{value:data,minimum:schema.minimum},"","/minimum",null,data,schema);if(schema.exclusiveMinimum&&data===schema.minimum)return this.createError(ErrorCodes.NUMBER_MINIMUM_EXCLUSIVE,{value:data,minimum:schema.minimum},"","/exclusiveMinimum",null,data,schema)}if(void 0!==schema.maximum){if(data>schema.maximum)return this.createError(ErrorCodes.NUMBER_MAXIMUM,{value:data,maximum:schema.maximum},"","/maximum",null,data,schema);if(schema.exclusiveMaximum&&data===schema.maximum)return this.createError(ErrorCodes.NUMBER_MAXIMUM_EXCLUSIVE,{value:data,maximum:schema.maximum},"","/exclusiveMaximum",null,data,schema)}return null},ValidatorContext.prototype.validateNaN=function validateNaN(data,schema){return"number"!=typeof data?null:!0===isNaN(data)||data===1/0||data===-1/0?this.createError(ErrorCodes.NUMBER_NOT_A_NUMBER,{value:data},"","/type",null,data,schema):null},ValidatorContext.prototype.validateString=function validateString(data,schema,dataPointerPath){return this.validateStringLength(data,schema,dataPointerPath)||this.validateStringPattern(data,schema,dataPointerPath)||null},ValidatorContext.prototype.validateStringLength=function validateStringLength(data,schema){return"string"!=typeof data?null:void 0!==schema.minLength&&data.length<schema.minLength?this.createError(ErrorCodes.STRING_LENGTH_SHORT,{length:data.length,minimum:schema.minLength},"","/minLength",null,data,schema):void 0!==schema.maxLength&&data.length>schema.maxLength?this.createError(ErrorCodes.STRING_LENGTH_LONG,{length:data.length,maximum:schema.maxLength},"","/maxLength",null,data,schema):null},ValidatorContext.prototype.validateStringPattern=function validateStringPattern(data,schema){if("string"!=typeof data||"string"!=typeof schema.pattern&&!(schema.pattern instanceof RegExp))return null;var regexp;if(schema.pattern instanceof RegExp)regexp=schema.pattern;else{var body,flags="",literal=schema.pattern.match(/^\/(.+)\/([img]*)$/);literal?(body=literal[1],flags=literal[2]):body=schema.pattern,regexp=new RegExp(body,flags)}return regexp.test(data)?null:this.createError(ErrorCodes.STRING_PATTERN,{pattern:schema.pattern},"","/pattern",null,data,schema)},ValidatorContext.prototype.validateArray=function validateArray(data,schema,dataPointerPath){return Array.isArray(data)&&(this.validateArrayLength(data,schema,dataPointerPath)||this.validateArrayUniqueItems(data,schema,dataPointerPath)||this.validateArrayItems(data,schema,dataPointerPath))||null},ValidatorContext.prototype.validateArrayLength=function validateArrayLength(data,schema){var error;return void 0!==schema.minItems&&data.length<schema.minItems&&(error=this.createError(ErrorCodes.ARRAY_LENGTH_SHORT,{length:data.length,minimum:schema.minItems},"","/minItems",null,data,schema),this.handleError(error))||void 0!==schema.maxItems&&data.length>schema.maxItems&&(error=this.createError(ErrorCodes.ARRAY_LENGTH_LONG,{length:data.length,maximum:schema.maxItems},"","/maxItems",null,data,schema),this.handleError(error))?error:null},ValidatorContext.prototype.validateArrayUniqueItems=function validateArrayUniqueItems(data,schema){if(schema.uniqueItems)for(var i=0;i<data.length;i++)for(var j=i+1;j<data.length;j++)if(recursiveCompare(data[i],data[j])){var error=this.createError(ErrorCodes.ARRAY_UNIQUE,{match1:i,match2:j},"","/uniqueItems",null,data,schema);if(this.handleError(error))return error}return null},ValidatorContext.prototype.validateArrayItems=function validateArrayItems(data,schema,dataPointerPath){if(void 0===schema.items)return null;var error,i;if(Array.isArray(schema.items)){for(i=0;i<data.length;i++)if(i<schema.items.length){if(error=this.validateAll(data[i],schema.items[i],[i],["items",i],dataPointerPath+"/"+i))return error}else if(void 0!==schema.additionalItems)if("boolean"==typeof schema.additionalItems){if(!schema.additionalItems&&(error=this.createError(ErrorCodes.ARRAY_ADDITIONAL_ITEMS,{},"/"+i,"/additionalItems",null,data,schema),this.handleError(error)))return error}else if(error=this.validateAll(data[i],schema.additionalItems,[i],["additionalItems"],dataPointerPath+"/"+i))return error}else for(i=0;i<data.length;i++)if(error=this.validateAll(data[i],schema.items,[i],["items"],dataPointerPath+"/"+i))return error;return null},ValidatorContext.prototype.validateObject=function validateObject(data,schema,dataPointerPath){return"object"!=typeof data||null===data||Array.isArray(data)?null:this.validateObjectMinMaxProperties(data,schema,dataPointerPath)||this.validateObjectRequiredProperties(data,schema,dataPointerPath)||this.validateObjectProperties(data,schema,dataPointerPath)||this.validateObjectDependencies(data,schema,dataPointerPath)||null},ValidatorContext.prototype.validateObjectMinMaxProperties=function validateObjectMinMaxProperties(data,schema){var error,keys=Object.keys(data);return void 0!==schema.minProperties&&keys.length<schema.minProperties&&(error=this.createError(ErrorCodes.OBJECT_PROPERTIES_MINIMUM,{propertyCount:keys.length,minimum:schema.minProperties},"","/minProperties",null,data,schema),this.handleError(error))||void 0!==schema.maxProperties&&keys.length>schema.maxProperties&&(error=this.createError(ErrorCodes.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:keys.length,maximum:schema.maxProperties},"","/maxProperties",null,data,schema),this.handleError(error))?error:null},ValidatorContext.prototype.validateObjectRequiredProperties=function validateObjectRequiredProperties(data,schema){if(void 0!==schema.required)for(var i=0;i<schema.required.length;i++){var key=schema.required[i];if(void 0===data[key]){var error=this.createError(ErrorCodes.OBJECT_REQUIRED,{key},"","/required/"+i,null,data,schema);if(this.handleError(error))return error}}return null},ValidatorContext.prototype.validateObjectProperties=function validateObjectProperties(data,schema,dataPointerPath){var error;for(var key in data){var keyPointerPath=dataPointerPath+"/"+key.replace(/~/g,"~0").replace(/\//g,"~1"),foundMatch=!1;if(void 0!==schema.properties&&void 0!==schema.properties[key]&&(foundMatch=!0,error=this.validateAll(data[key],schema.properties[key],[key],["properties",key],keyPointerPath)))return error;if(void 0!==schema.patternProperties)for(var patternKey in schema.patternProperties)if(new RegExp(patternKey).test(key)&&(foundMatch=!0,error=this.validateAll(data[key],schema.patternProperties[patternKey],[key],["patternProperties",patternKey],keyPointerPath)))return error;if(foundMatch)this.trackUnknownProperties&&(this.knownPropertyPaths[keyPointerPath]=!0,delete this.unknownPropertyPaths[keyPointerPath]);else if(void 0!==schema.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[keyPointerPath]=!0,delete this.unknownPropertyPaths[keyPointerPath]),"boolean"==typeof schema.additionalProperties){if(!schema.additionalProperties&&(error=this.createError(ErrorCodes.OBJECT_ADDITIONAL_PROPERTIES,{key},"","/additionalProperties",null,data,schema).prefixWith(key,null),this.handleError(error)))return error}else if(error=this.validateAll(data[key],schema.additionalProperties,[key],["additionalProperties"],keyPointerPath))return error}else this.trackUnknownProperties&&!this.knownPropertyPaths[keyPointerPath]&&(this.unknownPropertyPaths[keyPointerPath]=!0)}return null},ValidatorContext.prototype.validateObjectDependencies=function validateObjectDependencies(data,schema,dataPointerPath){var error;if(void 0!==schema.dependencies)for(var depKey in schema.dependencies)if(void 0!==data[depKey]){var dep=schema.dependencies[depKey];if("string"==typeof dep){if(void 0===data[dep]&&(error=this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY,{key:depKey,missing:dep},"","",null,data,schema).prefixWith(null,depKey).prefixWith(null,"dependencies"),this.handleError(error)))return error}else if(Array.isArray(dep))for(var i=0;i<dep.length;i++){var requiredKey=dep[i];if(void 0===data[requiredKey]&&(error=this.createError(ErrorCodes.OBJECT_DEPENDENCY_KEY,{key:depKey,missing:requiredKey},"","/"+i,null,data,schema).prefixWith(null,depKey).prefixWith(null,"dependencies"),this.handleError(error)))return error}else if(error=this.validateAll(data,dep,[],["dependencies",depKey],dataPointerPath))return error}return null},ValidatorContext.prototype.validateCombinations=function validateCombinations(data,schema,dataPointerPath){return this.validateAllOf(data,schema,dataPointerPath)||this.validateAnyOf(data,schema,dataPointerPath)||this.validateOneOf(data,schema,dataPointerPath)||this.validateNot(data,schema,dataPointerPath)||null},ValidatorContext.prototype.validateAllOf=function validateAllOf(data,schema,dataPointerPath){if(void 0===schema.allOf)return null;for(var error,i=0;i<schema.allOf.length;i++){var subSchema=schema.allOf[i];if(error=this.validateAll(data,subSchema,[],["allOf",i],dataPointerPath))return error}return null},ValidatorContext.prototype.validateAnyOf=function validateAnyOf(data,schema,dataPointerPath){if(void 0===schema.anyOf)return null;var oldUnknownPropertyPaths,oldKnownPropertyPaths,errors=[],startErrorCount=this.errors.length;this.trackUnknownProperties&&(oldUnknownPropertyPaths=this.unknownPropertyPaths,oldKnownPropertyPaths=this.knownPropertyPaths);for(var errorAtEnd=!0,i=0;i<schema.anyOf.length;i++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var subSchema=schema.anyOf[i],errorCount=this.errors.length,error=this.validateAll(data,subSchema,[],["anyOf",i],dataPointerPath);if(null===error&&errorCount===this.errors.length){if(this.errors=this.errors.slice(0,startErrorCount),this.trackUnknownProperties){for(var knownKey in this.knownPropertyPaths)oldKnownPropertyPaths[knownKey]=!0,delete oldUnknownPropertyPaths[knownKey];for(var unknownKey in this.unknownPropertyPaths)oldKnownPropertyPaths[unknownKey]||(oldUnknownPropertyPaths[unknownKey]=!0);errorAtEnd=!1;continue}return null}error&&errors.push(error.prefixWith(null,""+i).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=oldUnknownPropertyPaths,this.knownPropertyPaths=oldKnownPropertyPaths),errorAtEnd?(errors=errors.concat(this.errors.slice(startErrorCount)),this.errors=this.errors.slice(0,startErrorCount),this.createError(ErrorCodes.ANY_OF_MISSING,{},"","/anyOf",errors,data,schema)):void 0},ValidatorContext.prototype.validateOneOf=function validateOneOf(data,schema,dataPointerPath){if(void 0===schema.oneOf)return null;var oldUnknownPropertyPaths,oldKnownPropertyPaths,validIndex=null,errors=[],startErrorCount=this.errors.length;this.trackUnknownProperties&&(oldUnknownPropertyPaths=this.unknownPropertyPaths,oldKnownPropertyPaths=this.knownPropertyPaths);for(var i=0;i<schema.oneOf.length;i++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var subSchema=schema.oneOf[i],errorCount=this.errors.length,error=this.validateAll(data,subSchema,[],["oneOf",i],dataPointerPath);if(null===error&&errorCount===this.errors.length){if(null!==validIndex)return this.errors=this.errors.slice(0,startErrorCount),this.createError(ErrorCodes.ONE_OF_MULTIPLE,{index1:validIndex,index2:i},"","/oneOf",null,data,schema);if(validIndex=i,this.trackUnknownProperties){for(var knownKey in this.knownPropertyPaths)oldKnownPropertyPaths[knownKey]=!0,delete oldUnknownPropertyPaths[knownKey];for(var unknownKey in this.unknownPropertyPaths)oldKnownPropertyPaths[unknownKey]||(oldUnknownPropertyPaths[unknownKey]=!0)}}else error&&errors.push(error)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=oldUnknownPropertyPaths,this.knownPropertyPaths=oldKnownPropertyPaths),null===validIndex?(errors=errors.concat(this.errors.slice(startErrorCount)),this.errors=this.errors.slice(0,startErrorCount),this.createError(ErrorCodes.ONE_OF_MISSING,{},"","/oneOf",errors,data,schema)):(this.errors=this.errors.slice(0,startErrorCount),null)},ValidatorContext.prototype.validateNot=function validateNot(data,schema,dataPointerPath){if(void 0===schema.not)return null;var oldUnknownPropertyPaths,oldKnownPropertyPaths,oldErrorCount=this.errors.length;this.trackUnknownProperties&&(oldUnknownPropertyPaths=this.unknownPropertyPaths,oldKnownPropertyPaths=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var error=this.validateAll(data,schema.not,null,null,dataPointerPath),notErrors=this.errors.slice(oldErrorCount);return this.errors=this.errors.slice(0,oldErrorCount),this.trackUnknownProperties&&(this.unknownPropertyPaths=oldUnknownPropertyPaths,this.knownPropertyPaths=oldKnownPropertyPaths),null===error&&0===notErrors.length?this.createError(ErrorCodes.NOT_PASSED,{},"","/not",null,data,schema):null},ValidatorContext.prototype.validateHypermedia=function validateCombinations(data,schema,dataPointerPath){if(!schema.links)return null;for(var error,i=0;i<schema.links.length;i++){var ldo=schema.links[i];if("describedby"===ldo.rel){for(var template=new UriTemplate(ldo.href),allPresent=!0,j=0;j<template.varNames.length;j++)if(!(template.varNames[j]in data)){allPresent=!1;break}if(allPresent){var subSchema={$ref:template.fillFromObject(data)};if(error=this.validateAll(data,subSchema,[],["links",i],dataPointerPath))return error}}}};var ErrorCodes={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},ErrorCodeLookup={};for(var key in ErrorCodes)ErrorCodeLookup[ErrorCodes[key]]=key;var ErrorMessagesDefault={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};function ValidationError(code,params,dataPath,schemaPath,subErrors){if(Error.call(this),void 0===code)throw new Error("No error code supplied: "+schemaPath);this.message="",this.params=params,this.code=code,this.dataPath=dataPath||"",this.schemaPath=schemaPath||"",this.subErrors=subErrors||null;var err=new Error(this.message);if(this.stack=err.stack||err.stacktrace,!this.stack)try{throw err}catch(err){this.stack=err.stack||err.stacktrace}}function isTrustedUrl(baseUrl,testUrl){if(testUrl.substring(0,baseUrl.length)===baseUrl){var remainder=testUrl.substring(baseUrl.length);if(testUrl.length>0&&"/"===testUrl.charAt(baseUrl.length-1)||"#"===remainder.charAt(0)||"?"===remainder.charAt(0))return!0}return!1}ValidationError.prototype=Object.create(Error.prototype),ValidationError.prototype.constructor=ValidationError,ValidationError.prototype.name="ValidationError",ValidationError.prototype.prefixWith=function(dataPrefix,schemaPrefix){if(null!==dataPrefix&&(dataPrefix=dataPrefix.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+dataPrefix+this.dataPath),null!==schemaPrefix&&(schemaPrefix=schemaPrefix.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+schemaPrefix+this.schemaPath),null!==this.subErrors)for(var i=0;i<this.subErrors.length;i++)this.subErrors[i].prefixWith(dataPrefix,schemaPrefix);return this};var languages={};function createApi(language){var currentLanguage,customErrorReporter,globalContext=new ValidatorContext,api={setErrorReporter:function(reporter){return"string"==typeof reporter?this.language(reporter):(customErrorReporter=reporter,!0)},addFormat:function(){globalContext.addFormat.apply(globalContext,arguments)},language:function(code){return code?(languages[code]||(code=code.split("-")[0]),!!languages[code]&&(currentLanguage=code,code)):currentLanguage},addLanguage:function(code,messageMap){var key;for(key in ErrorCodes)messageMap[key]&&!messageMap[ErrorCodes[key]]&&(messageMap[ErrorCodes[key]]=messageMap[key]);var rootCode=code.split("-")[0];if(languages[rootCode])for(key in languages[code]=Object.create(languages[rootCode]),messageMap)void 0===languages[rootCode][key]&&(languages[rootCode][key]=messageMap[key]),languages[code][key]=messageMap[key];else languages[code]=messageMap,languages[rootCode]=messageMap;return this},freshApi:function(language){var result=createApi();return language&&result.language(language),result},validate:function(data,schema,checkRecursive,banUnknownProperties){var def=defaultErrorReporter(currentLanguage),errorReporter=customErrorReporter?function(error,data,schema){return customErrorReporter(error,data,schema)||def(error,data,schema)}:def,context=new ValidatorContext(globalContext,!1,errorReporter,checkRecursive,banUnknownProperties);"string"==typeof schema&&(schema={$ref:schema}),context.addSchema("",schema);var error=context.validateAll(data,schema,null,null,"");return!error&&banUnknownProperties&&(error=context.banUnknownProperties(data,schema)),this.error=error,this.missing=context.missing,this.valid=null===error,this.valid},validateResult:function(){var result={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(result,arguments),result},validateMultiple:function(data,schema,checkRecursive,banUnknownProperties){var def=defaultErrorReporter(currentLanguage),errorReporter=customErrorReporter?function(error,data,schema){return customErrorReporter(error,data,schema)||def(error,data,schema)}:def,context=new ValidatorContext(globalContext,!0,errorReporter,checkRecursive,banUnknownProperties);"string"==typeof schema&&(schema={$ref:schema}),context.addSchema("",schema),context.validateAll(data,schema,null,null,""),banUnknownProperties&&context.banUnknownProperties(data,schema);var result={toString:function(){return this.valid?"valid":this.error.message}};return result.errors=context.errors,result.missing=context.missing,result.valid=0===result.errors.length,result},addSchema:function(){return globalContext.addSchema.apply(globalContext,arguments)},getSchema:function(){return globalContext.getSchema.apply(globalContext,arguments)},getSchemaMap:function(){return globalContext.getSchemaMap.apply(globalContext,arguments)},getSchemaUris:function(){return globalContext.getSchemaUris.apply(globalContext,arguments)},getMissingUris:function(){return globalContext.getMissingUris.apply(globalContext,arguments)},dropSchemas:function(){globalContext.dropSchemas.apply(globalContext,arguments)},defineKeyword:function(){globalContext.defineKeyword.apply(globalContext,arguments)},defineError:function(codeName,codeNumber,defaultMessage){if("string"!=typeof codeName||!/^[A-Z]+(_[A-Z]+)*$/.test(codeName))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof codeNumber||codeNumber%1!=0||codeNumber<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==ErrorCodes[codeName])throw new Error("Error already defined: "+codeName+" as "+ErrorCodes[codeName]);if(void 0!==ErrorCodeLookup[codeNumber])throw new Error("Error code already used: "+ErrorCodeLookup[codeNumber]+" as "+codeNumber);for(var langCode in ErrorCodes[codeName]=codeNumber,ErrorCodeLookup[codeNumber]=codeName,ErrorMessagesDefault[codeName]=ErrorMessagesDefault[codeNumber]=defaultMessage,languages){var language=languages[langCode];language[codeName]&&(language[codeNumber]=language[codeNumber]||language[codeName])}},reset:function(){globalContext.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema,resolveUrl,getDocumentUri,errorCodes:ErrorCodes};return api.language(language||"en"),api}var tv4=createApi();return tv4.addLanguage("en-gb",ErrorMessagesDefault),tv4.tv4=tv4,tv4},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"../../node_modules/uri-js/dist/es5/uri.all.js":function(__unused_webpack_module,exports){!function(exports){"use strict";function merge(){for(var _len=arguments.length,sets=Array(_len),_key=0;_key<_len;_key++)sets[_key]=arguments[_key];if(sets.length>1){sets[0]=sets[0].slice(0,-1);for(var xl=sets.length-1,x=1;x<xl;++x)sets[x]=sets[x].slice(1,-1);return sets[xl]=sets[xl].slice(1),sets.join("")}return sets[0]}function subexp(str){return"(?:"+str+")"}function typeOf(o){return void 0===o?"undefined":null===o?"null":Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase()}function toUpperCase(str){return str.toUpperCase()}function toArray(obj){return null!=obj?obj instanceof Array?obj:"number"!=typeof obj.length||obj.split||obj.setInterval||obj.call?[obj]:Array.prototype.slice.call(obj):[]}function assign(target,source){var obj=target;if(source)for(var key in source)obj[key]=source[key];return obj}function buildExps(isIRI){var ALPHA$$="[A-Za-z]",DIGIT$$="[0-9]",HEXDIG$$=merge(DIGIT$$,"[A-Fa-f]"),PCT_ENCODED$=subexp(subexp("%[EFef]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%[89A-Fa-f]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%"+HEXDIG$$+HEXDIG$$)),SUB_DELIMS$$="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",RESERVED$$=merge("[\\:\\/\\?\\#\\[\\]\\@]",SUB_DELIMS$$),IPRIVATE$$=isIRI?"[\\uE000-\\uF8FF]":"[]",UNRESERVED$$=merge(ALPHA$$,DIGIT$$,"[\\-\\.\\_\\~]",isIRI?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),SCHEME$=subexp(ALPHA$$+merge(ALPHA$$,DIGIT$$,"[\\+\\-\\.]")+"*"),USERINFO$=subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:]"))+"*"),DEC_OCTET_RELAXED$=(subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+DIGIT$$)+"|"+subexp("1"+DIGIT$$+DIGIT$$)+"|"+subexp("[1-9]"+DIGIT$$)+"|"+DIGIT$$),subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+DIGIT$$)+"|"+subexp("1"+DIGIT$$+DIGIT$$)+"|"+subexp("0?[1-9]"+DIGIT$$)+"|0?0?"+DIGIT$$)),IPV4ADDRESS$=subexp(DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$),H16$=subexp(HEXDIG$$+"{1,4}"),LS32$=subexp(subexp(H16$+"\\:"+H16$)+"|"+IPV4ADDRESS$),IPV6ADDRESS1$=subexp(subexp(H16$+"\\:")+"{6}"+LS32$),IPV6ADDRESS2$=subexp("\\:\\:"+subexp(H16$+"\\:")+"{5}"+LS32$),IPV6ADDRESS3$=subexp(subexp(H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{4}"+LS32$),IPV6ADDRESS4$=subexp(subexp(subexp(H16$+"\\:")+"{0,1}"+H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{3}"+LS32$),IPV6ADDRESS5$=subexp(subexp(subexp(H16$+"\\:")+"{0,2}"+H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{2}"+LS32$),IPV6ADDRESS6$=subexp(subexp(subexp(H16$+"\\:")+"{0,3}"+H16$)+"?\\:\\:"+H16$+"\\:"+LS32$),IPV6ADDRESS7$=subexp(subexp(subexp(H16$+"\\:")+"{0,4}"+H16$)+"?\\:\\:"+LS32$),IPV6ADDRESS8$=subexp(subexp(subexp(H16$+"\\:")+"{0,5}"+H16$)+"?\\:\\:"+H16$),IPV6ADDRESS9$=subexp(subexp(subexp(H16$+"\\:")+"{0,6}"+H16$)+"?\\:\\:"),IPV6ADDRESS$=subexp([IPV6ADDRESS1$,IPV6ADDRESS2$,IPV6ADDRESS3$,IPV6ADDRESS4$,IPV6ADDRESS5$,IPV6ADDRESS6$,IPV6ADDRESS7$,IPV6ADDRESS8$,IPV6ADDRESS9$].join("|")),ZONEID$=subexp(subexp(UNRESERVED$$+"|"+PCT_ENCODED$)+"+"),IPV6ADDRZ_RELAXED$=(subexp(IPV6ADDRESS$+"\\%25"+ZONEID$),subexp(IPV6ADDRESS$+subexp("\\%25|\\%(?!"+HEXDIG$$+"{2})")+ZONEID$)),IPVFUTURE$=subexp("[vV]"+HEXDIG$$+"+\\."+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:]")+"+"),IP_LITERAL$=subexp("\\["+subexp(IPV6ADDRZ_RELAXED$+"|"+IPV6ADDRESS$+"|"+IPVFUTURE$)+"\\]"),REG_NAME$=subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$))+"*"),HOST$=subexp(IP_LITERAL$+"|"+IPV4ADDRESS$+"(?!"+REG_NAME$+")|"+REG_NAME$),PORT$=subexp(DIGIT$$+"*"),AUTHORITY$=subexp(subexp(USERINFO$+"@")+"?"+HOST$+subexp("\\:"+PORT$)+"?"),PCHAR$=subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@]")),SEGMENT$=subexp(PCHAR$+"*"),SEGMENT_NZ$=subexp(PCHAR$+"+"),SEGMENT_NZ_NC$=subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\@]"))+"+"),PATH_ABEMPTY$=subexp(subexp("\\/"+SEGMENT$)+"*"),PATH_ABSOLUTE$=subexp("\\/"+subexp(SEGMENT_NZ$+PATH_ABEMPTY$)+"?"),PATH_NOSCHEME$=subexp(SEGMENT_NZ_NC$+PATH_ABEMPTY$),PATH_ROOTLESS$=subexp(SEGMENT_NZ$+PATH_ABEMPTY$),PATH_EMPTY$="(?!"+PCHAR$+")",QUERY$=(subexp(PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_NOSCHEME$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$),subexp(subexp(PCHAR$+"|"+merge("[\\/\\?]",IPRIVATE$$))+"*")),FRAGMENT$=subexp(subexp(PCHAR$+"|[\\/\\?]")+"*"),HIER_PART$=subexp(subexp("\\/\\/"+AUTHORITY$+PATH_ABEMPTY$)+"|"+PATH_ABSOLUTE$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$),URI$=subexp(SCHEME$+"\\:"+HIER_PART$+subexp("\\?"+QUERY$)+"?"+subexp("\\#"+FRAGMENT$)+"?"),RELATIVE_PART$=subexp(subexp("\\/\\/"+AUTHORITY$+PATH_ABEMPTY$)+"|"+PATH_ABSOLUTE$+"|"+PATH_NOSCHEME$+"|"+PATH_EMPTY$),RELATIVE$=subexp(RELATIVE_PART$+subexp("\\?"+QUERY$)+"?"+subexp("\\#"+FRAGMENT$)+"?");return subexp(URI$+"|"+RELATIVE$),subexp(SCHEME$+"\\:"+HIER_PART$+subexp("\\?"+QUERY$)+"?"),subexp(subexp("\\/\\/("+subexp("("+USERINFO$+")@")+"?("+HOST$+")"+subexp("\\:("+PORT$+")")+"?)")+"?("+PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$+")"),subexp("\\?("+QUERY$+")"),subexp("\\#("+FRAGMENT$+")"),subexp(subexp("\\/\\/("+subexp("("+USERINFO$+")@")+"?("+HOST$+")"+subexp("\\:("+PORT$+")")+"?)")+"?("+PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_NOSCHEME$+"|"+PATH_EMPTY$+")"),subexp("\\?("+QUERY$+")"),subexp("\\#("+FRAGMENT$+")"),subexp(subexp("\\/\\/("+subexp("("+USERINFO$+")@")+"?("+HOST$+")"+subexp("\\:("+PORT$+")")+"?)")+"?("+PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$+")"),subexp("\\?("+QUERY$+")"),subexp("\\#("+FRAGMENT$+")"),subexp("("+USERINFO$+")@"),subexp("\\:("+PORT$+")"),{NOT_SCHEME:new RegExp(merge("[^]",ALPHA$$,DIGIT$$,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(merge("[^\\%\\:]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_HOST:new RegExp(merge("[^\\%\\[\\]\\:]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_PATH:new RegExp(merge("[^\\%\\/\\:\\@]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_PATH_NOSCHEME:new RegExp(merge("[^\\%\\/\\@]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_QUERY:new RegExp(merge("[^\\%]",UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@\\/\\?]",IPRIVATE$$),"g"),NOT_FRAGMENT:new RegExp(merge("[^\\%]",UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(merge("[^]",UNRESERVED$$,SUB_DELIMS$$),"g"),UNRESERVED:new RegExp(UNRESERVED$$,"g"),OTHER_CHARS:new RegExp(merge("[^\\%]",UNRESERVED$$,RESERVED$$),"g"),PCT_ENCODED:new RegExp(PCT_ENCODED$,"g"),IPV4ADDRESS:new RegExp("^("+IPV4ADDRESS$+")$"),IPV6ADDRESS:new RegExp("^\\[?("+IPV6ADDRESS$+")"+subexp(subexp("\\%25|\\%(?!"+HEXDIG$$+"{2})")+"("+ZONEID$+")")+"?\\]?$")}}var URI_PROTOCOL=buildExps(!1),IRI_PROTOCOL=buildExps(!0),slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),toConsumableArray=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)},maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error$1(type){throw new RangeError(errors[type])}function map(array,fn){for(var result=[],length=array.length;length--;)result[length]=fn(array[length]);return result}function mapDomain(string,fn){var parts=string.split("@"),result="";return parts.length>1&&(result=parts[0]+"@",string=parts[1]),result+map((string=string.replace(regexSeparators,".")).split("."),fn).join(".")}function ucs2decode(string){for(var output=[],counter=0,length=string.length;counter<length;){var value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){var extra=string.charCodeAt(counter++);56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)}else output.push(value)}return output}var basicToDigit=function basicToDigit(codePoint){return codePoint-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:base},digitToBasic=function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)},adapt=function adapt(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/damp):delta>>1,delta+=floor(delta/numPoints);delta>baseMinusTMin*tMax>>1;k+=base)delta=floor(delta/baseMinusTMin);return floor(k+(baseMinusTMin+1)*delta/(delta+skew))},decode=function decode(input){var output=[],inputLength=input.length,i=0,n=initialN,bias=initialBias,basic=input.lastIndexOf(delimiter);basic<0&&(basic=0);for(var j=0;j<basic;++j)input.charCodeAt(j)>=128&&error$1("not-basic"),output.push(input.charCodeAt(j));for(var index=basic>0?basic+1:0;index<inputLength;){for(var oldi=i,w=1,k=base;;k+=base){index>=inputLength&&error$1("invalid-input");var digit=basicToDigit(input.charCodeAt(index++));(digit>=base||digit>floor((maxInt-i)/w))&&error$1("overflow"),i+=digit*w;var t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t)break;var baseMinusT=base-t;w>floor(maxInt/baseMinusT)&&error$1("overflow"),w*=baseMinusT}var out=output.length+1;bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error$1("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return String.fromCodePoint.apply(String,output)},encode=function encode(input){var output=[],inputLength=(input=ucs2decode(input)).length,n=initialN,delta=0,bias=initialBias,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=input[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _currentValue2=_step.value;_currentValue2<128&&output.push(stringFromCharCode(_currentValue2))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var basicLength=output.length,handledCPCount=basicLength;for(basicLength&&output.push(delimiter);handledCPCount<inputLength;){var m=maxInt,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=input[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var currentValue=_step2.value;currentValue>=n&&currentValue<m&&(m=currentValue)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var handledCPCountPlusOne=handledCPCount+1;m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error$1("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m;var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=input[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _currentValue=_step3.value;if(_currentValue<n&&++delta>maxInt&&error$1("overflow"),_currentValue==n){for(var q=delta,k=base;;k+=base){var t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t)break;var qMinusT=q-t,baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}++delta,++n}return output.join("")},toUnicode=function toUnicode(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})},toASCII=function toASCII(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},punycode={version:"2.1.0",ucs2:{decode:ucs2decode,encode:function ucs2encode(array){return String.fromCodePoint.apply(String,toConsumableArray(array))}},decode,encode,toASCII,toUnicode},SCHEMES={};function pctEncChar(chr){var c=chr.charCodeAt(0);return c<16?"%0"+c.toString(16).toUpperCase():c<128?"%"+c.toString(16).toUpperCase():c<2048?"%"+(c>>6|192).toString(16).toUpperCase()+"%"+(63&c|128).toString(16).toUpperCase():"%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(63&c|128).toString(16).toUpperCase()}function pctDecChars(str){for(var newStr="",i=0,il=str.length;i<il;){var c=parseInt(str.substr(i+1,2),16);if(c<128)newStr+=String.fromCharCode(c),i+=3;else if(c>=194&&c<224){if(il-i>=6){var c2=parseInt(str.substr(i+4,2),16);newStr+=String.fromCharCode((31&c)<<6|63&c2)}else newStr+=str.substr(i,6);i+=6}else if(c>=224){if(il-i>=9){var _c=parseInt(str.substr(i+4,2),16),c3=parseInt(str.substr(i+7,2),16);newStr+=String.fromCharCode((15&c)<<12|(63&_c)<<6|63&c3)}else newStr+=str.substr(i,9);i+=9}else newStr+=str.substr(i,3),i+=3}return newStr}function _normalizeComponentEncoding(components,protocol){function decodeUnreserved(str){var decStr=pctDecChars(str);return decStr.match(protocol.UNRESERVED)?decStr:str}return components.scheme&&(components.scheme=String(components.scheme).replace(protocol.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME,"")),void 0!==components.userinfo&&(components.userinfo=String(components.userinfo).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_USERINFO,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.host&&(components.host=String(components.host).replace(protocol.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.path&&(components.path=String(components.path).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(components.scheme?protocol.NOT_PATH:protocol.NOT_PATH_NOSCHEME,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.query&&(components.query=String(components.query).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_QUERY,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.fragment&&(components.fragment=String(components.fragment).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_FRAGMENT,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),components}function _stripLeadingZeros(str){return str.replace(/^0*(.*)/,"$1")||"0"}function _normalizeIPv4(host,protocol){var matches=host.match(protocol.IPV4ADDRESS)||[],address=slicedToArray(matches,2)[1];return address?address.split(".").map(_stripLeadingZeros).join("."):host}function _normalizeIPv6(host,protocol){var matches=host.match(protocol.IPV6ADDRESS)||[],_matches2=slicedToArray(matches,3),address=_matches2[1],zone=_matches2[2];if(address){for(var _address$toLowerCase$=address.toLowerCase().split("::").reverse(),_address$toLowerCase$2=slicedToArray(_address$toLowerCase$,2),last=_address$toLowerCase$2[0],first=_address$toLowerCase$2[1],firstFields=first?first.split(":").map(_stripLeadingZeros):[],lastFields=last.split(":").map(_stripLeadingZeros),isLastFieldIPv4Address=protocol.IPV4ADDRESS.test(lastFields[lastFields.length-1]),fieldCount=isLastFieldIPv4Address?7:8,lastFieldsStart=lastFields.length-fieldCount,fields=Array(fieldCount),x=0;x<fieldCount;++x)fields[x]=firstFields[x]||lastFields[lastFieldsStart+x]||"";isLastFieldIPv4Address&&(fields[fieldCount-1]=_normalizeIPv4(fields[fieldCount-1],protocol));var longestZeroFields=fields.reduce(function(acc,field,index){if(!field||"0"===field){var lastLongest=acc[acc.length-1];lastLongest&&lastLongest.index+lastLongest.length===index?lastLongest.length++:acc.push({index,length:1})}return acc},[]).sort(function(a,b){return b.length-a.length})[0],newHost=void 0;if(longestZeroFields&&longestZeroFields.length>1){var newFirst=fields.slice(0,longestZeroFields.index),newLast=fields.slice(longestZeroFields.index+longestZeroFields.length);newHost=newFirst.join(":")+"::"+newLast.join(":")}else newHost=fields.join(":");return zone&&(newHost+="%"+zone),newHost}return host}var URI_PARSE=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,NO_MATCH_IS_UNDEFINED=void 0==="".match(/(){0}/)[1];function parse(uriString){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},components={},protocol=!1!==options.iri?IRI_PROTOCOL:URI_PROTOCOL;"suffix"===options.reference&&(uriString=(options.scheme?options.scheme+":":"")+"//"+uriString);var matches=uriString.match(URI_PARSE);if(matches){NO_MATCH_IS_UNDEFINED?(components.scheme=matches[1],components.userinfo=matches[3],components.host=matches[4],components.port=parseInt(matches[5],10),components.path=matches[6]||"",components.query=matches[7],components.fragment=matches[8],isNaN(components.port)&&(components.port=matches[5])):(components.scheme=matches[1]||void 0,components.userinfo=-1!==uriString.indexOf("@")?matches[3]:void 0,components.host=-1!==uriString.indexOf("//")?matches[4]:void 0,components.port=parseInt(matches[5],10),components.path=matches[6]||"",components.query=-1!==uriString.indexOf("?")?matches[7]:void 0,components.fragment=-1!==uriString.indexOf("#")?matches[8]:void 0,isNaN(components.port)&&(components.port=uriString.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?matches[4]:void 0)),components.host&&(components.host=_normalizeIPv6(_normalizeIPv4(components.host,protocol),protocol)),void 0!==components.scheme||void 0!==components.userinfo||void 0!==components.host||void 0!==components.port||components.path||void 0!==components.query?void 0===components.scheme?components.reference="relative":void 0===components.fragment?components.reference="absolute":components.reference="uri":components.reference="same-document",options.reference&&"suffix"!==options.reference&&options.reference!==components.reference&&(components.error=components.error||"URI is not a "+options.reference+" reference.");var schemeHandler=SCHEMES[(options.scheme||components.scheme||"").toLowerCase()];if(options.unicodeSupport||schemeHandler&&schemeHandler.unicodeSupport)_normalizeComponentEncoding(components,protocol);else{if(components.host&&(options.domainHost||schemeHandler&&schemeHandler.domainHost))try{components.host=punycode.toASCII(components.host.replace(protocol.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){components.error=components.error||"Host's domain name can not be converted to ASCII via punycode: "+e}_normalizeComponentEncoding(components,URI_PROTOCOL)}schemeHandler&&schemeHandler.parse&&schemeHandler.parse(components,options)}else components.error=components.error||"URI can not be parsed.";return components}function _recomposeAuthority(components,options){var protocol=!1!==options.iri?IRI_PROTOCOL:URI_PROTOCOL,uriTokens=[];return void 0!==components.userinfo&&(uriTokens.push(components.userinfo),uriTokens.push("@")),void 0!==components.host&&uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host),protocol),protocol).replace(protocol.IPV6ADDRESS,function(_,$1,$2){return"["+$1+($2?"%25"+$2:"")+"]"})),"number"!=typeof components.port&&"string"!=typeof components.port||(uriTokens.push(":"),uriTokens.push(String(components.port))),uriTokens.length?uriTokens.join(""):void 0}var RDS1=/^\.\.?\//,RDS2=/^\/\.(\/|$)/,RDS3=/^\/\.\.(\/|$)/,RDS5=/^\/?(?:.|\n)*?(?=\/|$)/;function removeDotSegments(input){for(var output=[];input.length;)if(input.match(RDS1))input=input.replace(RDS1,"");else if(input.match(RDS2))input=input.replace(RDS2,"/");else if(input.match(RDS3))input=input.replace(RDS3,"/"),output.pop();else if("."===input||".."===input)input="";else{var im=input.match(RDS5);if(!im)throw new Error("Unexpected dot segment condition");var s=im[0];input=input.slice(s.length),output.push(s)}return output.join("")}function serialize(components){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},protocol=options.iri?IRI_PROTOCOL:URI_PROTOCOL,uriTokens=[],schemeHandler=SCHEMES[(options.scheme||components.scheme||"").toLowerCase()];if(schemeHandler&&schemeHandler.serialize&&schemeHandler.serialize(components,options),components.host)if(protocol.IPV6ADDRESS.test(components.host));else if(options.domainHost||schemeHandler&&schemeHandler.domainHost)try{components.host=options.iri?punycode.toUnicode(components.host):punycode.toASCII(components.host.replace(protocol.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){components.error=components.error||"Host's domain name can not be converted to "+(options.iri?"Unicode":"ASCII")+" via punycode: "+e}_normalizeComponentEncoding(components,protocol),"suffix"!==options.reference&&components.scheme&&(uriTokens.push(components.scheme),uriTokens.push(":"));var authority=_recomposeAuthority(components,options);if(void 0!==authority&&("suffix"!==options.reference&&uriTokens.push("//"),uriTokens.push(authority),components.path&&"/"!==components.path.charAt(0)&&uriTokens.push("/")),void 0!==components.path){var s=components.path;options.absolutePath||schemeHandler&&schemeHandler.absolutePath||(s=removeDotSegments(s)),void 0===authority&&(s=s.replace(/^\/\//,"/%2F")),uriTokens.push(s)}return void 0!==components.query&&(uriTokens.push("?"),uriTokens.push(components.query)),void 0!==components.fragment&&(uriTokens.push("#"),uriTokens.push(components.fragment)),uriTokens.join("")}function resolveComponents(base,relative){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},target={};return arguments[3]||(base=parse(serialize(base,options),options),relative=parse(serialize(relative,options),options)),!(options=options||{}).tolerant&&relative.scheme?(target.scheme=relative.scheme,target.userinfo=relative.userinfo,target.host=relative.host,target.port=relative.port,target.path=removeDotSegments(relative.path||""),target.query=relative.query):(void 0!==relative.userinfo||void 0!==relative.host||void 0!==relative.port?(target.userinfo=relative.userinfo,target.host=relative.host,target.port=relative.port,target.path=removeDotSegments(relative.path||""),target.query=relative.query):(relative.path?("/"===relative.path.charAt(0)?target.path=removeDotSegments(relative.path):(void 0===base.userinfo&&void 0===base.host&&void 0===base.port||base.path?base.path?target.path=base.path.slice(0,base.path.lastIndexOf("/")+1)+relative.path:target.path=relative.path:target.path="/"+relative.path,target.path=removeDotSegments(target.path)),target.query=relative.query):(target.path=base.path,void 0!==relative.query?target.query=relative.query:target.query=base.query),target.userinfo=base.userinfo,target.host=base.host,target.port=base.port),target.scheme=base.scheme),target.fragment=relative.fragment,target}function resolve(baseURI,relativeURI,options){var schemelessOptions=assign({scheme:"null"},options);return serialize(resolveComponents(parse(baseURI,schemelessOptions),parse(relativeURI,schemelessOptions),schemelessOptions,!0),schemelessOptions)}function normalize(uri,options){return"string"==typeof uri?uri=serialize(parse(uri,options),options):"object"===typeOf(uri)&&(uri=parse(serialize(uri,options),options)),uri}function equal(uriA,uriB,options){return"string"==typeof uriA?uriA=serialize(parse(uriA,options),options):"object"===typeOf(uriA)&&(uriA=serialize(uriA,options)),"string"==typeof uriB?uriB=serialize(parse(uriB,options),options):"object"===typeOf(uriB)&&(uriB=serialize(uriB,options)),uriA===uriB}function escapeComponent(str,options){return str&&str.toString().replace(options&&options.iri?IRI_PROTOCOL.ESCAPE:URI_PROTOCOL.ESCAPE,pctEncChar)}function unescapeComponent(str,options){return str&&str.toString().replace(options&&options.iri?IRI_PROTOCOL.PCT_ENCODED:URI_PROTOCOL.PCT_ENCODED,pctDecChars)}var handler={scheme:"http",domainHost:!0,parse:function parse(components,options){return components.host||(components.error=components.error||"HTTP URIs must have a host."),components},serialize:function serialize(components,options){var secure="https"===String(components.scheme).toLowerCase();return components.port!==(secure?443:80)&&""!==components.port||(components.port=void 0),components.path||(components.path="/"),components}},handler$1={scheme:"https",domainHost:handler.domainHost,parse:handler.parse,serialize:handler.serialize};function isSecure(wsComponents){return"boolean"==typeof wsComponents.secure?wsComponents.secure:"wss"===String(wsComponents.scheme).toLowerCase()}var handler$2={scheme:"ws",domainHost:!0,parse:function parse(components,options){var wsComponents=components;return wsComponents.secure=isSecure(wsComponents),wsComponents.resourceName=(wsComponents.path||"/")+(wsComponents.query?"?"+wsComponents.query:""),wsComponents.path=void 0,wsComponents.query=void 0,wsComponents},serialize:function serialize(wsComponents,options){if(wsComponents.port!==(isSecure(wsComponents)?443:80)&&""!==wsComponents.port||(wsComponents.port=void 0),"boolean"==typeof wsComponents.secure&&(wsComponents.scheme=wsComponents.secure?"wss":"ws",wsComponents.secure=void 0),wsComponents.resourceName){var _wsComponents$resourc=wsComponents.resourceName.split("?"),_wsComponents$resourc2=slicedToArray(_wsComponents$resourc,2),path=_wsComponents$resourc2[0],query=_wsComponents$resourc2[1];wsComponents.path=path&&"/"!==path?path:void 0,wsComponents.query=query,wsComponents.resourceName=void 0}return wsComponents.fragment=void 0,wsComponents}},handler$3={scheme:"wss",domainHost:handler$2.domainHost,parse:handler$2.parse,serialize:handler$2.serialize},O={},UNRESERVED$$="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",HEXDIG$$="[0-9A-Fa-f]",PCT_ENCODED$=subexp(subexp("%[EFef]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%[89A-Fa-f]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%"+HEXDIG$$+HEXDIG$$)),ATEXT$$="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",VCHAR$$=merge("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),SOME_DELIMS$$="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",UNRESERVED=new RegExp(UNRESERVED$$,"g"),PCT_ENCODED=new RegExp(PCT_ENCODED$,"g"),NOT_LOCAL_PART=new RegExp(merge("[^]",ATEXT$$,"[\\.]",'[\\"]',VCHAR$$),"g"),NOT_HFNAME=new RegExp(merge("[^]",UNRESERVED$$,SOME_DELIMS$$),"g"),NOT_HFVALUE=NOT_HFNAME;function decodeUnreserved(str){var decStr=pctDecChars(str);return decStr.match(UNRESERVED)?decStr:str}var handler$4={scheme:"mailto",parse:function parse$$1(components,options){var mailtoComponents=components,to=mailtoComponents.to=mailtoComponents.path?mailtoComponents.path.split(","):[];if(mailtoComponents.path=void 0,mailtoComponents.query){for(var unknownHeaders=!1,headers={},hfields=mailtoComponents.query.split("&"),x=0,xl=hfields.length;x<xl;++x){var hfield=hfields[x].split("=");switch(hfield[0]){case"to":for(var toAddrs=hfield[1].split(","),_x=0,_xl=toAddrs.length;_x<_xl;++_x)to.push(toAddrs[_x]);break;case"subject":mailtoComponents.subject=unescapeComponent(hfield[1],options);break;case"body":mailtoComponents.body=unescapeComponent(hfield[1],options);break;default:unknownHeaders=!0,headers[unescapeComponent(hfield[0],options)]=unescapeComponent(hfield[1],options)}}unknownHeaders&&(mailtoComponents.headers=headers)}mailtoComponents.query=void 0;for(var _x2=0,_xl2=to.length;_x2<_xl2;++_x2){var addr=to[_x2].split("@");if(addr[0]=unescapeComponent(addr[0]),options.unicodeSupport)addr[1]=unescapeComponent(addr[1],options).toLowerCase();else try{addr[1]=punycode.toASCII(unescapeComponent(addr[1],options).toLowerCase())}catch(e){mailtoComponents.error=mailtoComponents.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}to[_x2]=addr.join("@")}return mailtoComponents},serialize:function serialize$$1(mailtoComponents,options){var components=mailtoComponents,to=toArray(mailtoComponents.to);if(to){for(var x=0,xl=to.length;x<xl;++x){var toAddr=String(to[x]),atIdx=toAddr.lastIndexOf("@"),localPart=toAddr.slice(0,atIdx).replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_LOCAL_PART,pctEncChar),domain=toAddr.slice(atIdx+1);try{domain=options.iri?punycode.toUnicode(domain):punycode.toASCII(unescapeComponent(domain,options).toLowerCase())}catch(e){components.error=components.error||"Email address's domain name can not be converted to "+(options.iri?"Unicode":"ASCII")+" via punycode: "+e}to[x]=localPart+"@"+domain}components.path=to.join(",")}var headers=mailtoComponents.headers=mailtoComponents.headers||{};mailtoComponents.subject&&(headers.subject=mailtoComponents.subject),mailtoComponents.body&&(headers.body=mailtoComponents.body);var fields=[];for(var name in headers)headers[name]!==O[name]&&fields.push(name.replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_HFNAME,pctEncChar)+"="+headers[name].replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_HFVALUE,pctEncChar));return fields.length&&(components.query=fields.join("&")),components}},URN_PARSE=/^([^\:]+)\:(.*)/,handler$5={scheme:"urn",parse:function parse$$1(components,options){var matches=components.path&&components.path.match(URN_PARSE),urnComponents=components;if(matches){var scheme=options.scheme||urnComponents.scheme||"urn",nid=matches[1].toLowerCase(),nss=matches[2],urnScheme=scheme+":"+(options.nid||nid),schemeHandler=SCHEMES[urnScheme];urnComponents.nid=nid,urnComponents.nss=nss,urnComponents.path=void 0,schemeHandler&&(urnComponents=schemeHandler.parse(urnComponents,options))}else urnComponents.error=urnComponents.error||"URN can not be parsed.";return urnComponents},serialize:function serialize$$1(urnComponents,options){var scheme=options.scheme||urnComponents.scheme||"urn",nid=urnComponents.nid,urnScheme=scheme+":"+(options.nid||nid),schemeHandler=SCHEMES[urnScheme];schemeHandler&&(urnComponents=schemeHandler.serialize(urnComponents,options));var uriComponents=urnComponents,nss=urnComponents.nss;return uriComponents.path=(nid||options.nid)+":"+nss,uriComponents}},UUID=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,handler$6={scheme:"urn:uuid",parse:function parse(urnComponents,options){var uuidComponents=urnComponents;return uuidComponents.uuid=uuidComponents.nss,uuidComponents.nss=void 0,options.tolerant||uuidComponents.uuid&&uuidComponents.uuid.match(UUID)||(uuidComponents.error=uuidComponents.error||"UUID is not valid."),uuidComponents},serialize:function serialize(uuidComponents,options){var urnComponents=uuidComponents;return urnComponents.nss=(uuidComponents.uuid||"").toLowerCase(),urnComponents}};SCHEMES[handler.scheme]=handler,SCHEMES[handler$1.scheme]=handler$1,SCHEMES[handler$2.scheme]=handler$2,SCHEMES[handler$3.scheme]=handler$3,SCHEMES[handler$4.scheme]=handler$4,SCHEMES[handler$5.scheme]=handler$5,SCHEMES[handler$6.scheme]=handler$6,exports.SCHEMES=SCHEMES,exports.pctEncChar=pctEncChar,exports.pctDecChars=pctDecChars,exports.parse=parse,exports.removeDotSegments=removeDotSegments,exports.serialize=serialize,exports.resolveComponents=resolveComponents,exports.resolve=resolve,exports.normalize=normalize,exports.equal=equal,exports.escapeComponent=escapeComponent,exports.unescapeComponent=unescapeComponent,Object.defineProperty(exports,"__esModule",{value:!0})}(exports)}}]);