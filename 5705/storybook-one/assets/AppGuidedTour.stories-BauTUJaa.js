import{at as e,a as w,j as o,u as b,r as l}from"./iframe-cBtRg4Zm.js";import{u as F}from"./useLocalStorage-BLWxgL6X.js";import{I as j}from"./constants-CZYEPhht.js";import{G as v}from"./GuidedTour.component-D8cP4ENC.js";import{S as i}from"./Stepper.component-DT29JYwl.js";import{T as N}from"./Toggle.component-CSyGQuLz.js";import{g as y}from"./get-DpZIkRWq.js";import{g as V}from"./theme-IDDytecF.js";import{C as k}from"./Checkbox-CKCwizio.js";import"./preload-helper-PPVm8Dsz.js";import"./util-jvF6Sxgj.js";import"./reactour.esm-Eueq2SC4.js";import"./index-BOm_B24O.js";import"./tslib.es6-DwEbZtuj.js";import"./inheritsLoose-CFk7qFMH.js";import"./ErrorState-ByTy0dw-.js";import"./index-CopqRmGV.js";import"./index-_4Lt4aG8.js";import"./CircularProgress.component-CJXktRGh.js";import"./translate-am4PfflD.js";import"./withTranslation-BL7gA-bp.js";import"./Transition-D7Ms2Ah2.js";import"./Transition-QmhJMkIM.js";import"./_baseGet-bDt8gzSb.js";import"./toString-Dopjm_6L.js";import"./isSymbol-hEzy1n5Y.js";import"./eq-DmJpQRp3.js";import"./omit-DZjDjx7f.js";import"./_baseSlice-BFLcj3sE.js";import"./_getTag-D1YAmZF8.js";import"./isArrayLike-XKLyq0p9.js";const B={"tc-label-toggle":"_tc-label-toggle_avlnx_3","tc-radio-disabled":"_tc-radio-disabled_avlnx_10","tc-radio-selected":"_tc-radio-selected_avlnx_16"},G=V(B),H=(r,a,s)=>r?s?y(s,"value"):y(a,["0","value"]):null;function q({id:r,values:a,name:s,value:u,onChange:n,disabled:d,autoFocus:D=!1}){const C=r||w(),I=t=>{n(t.target.value)},c=t=>`${C}-radio-${t}`,O=H(D,a,u);return o.jsx("div",{className:G("tc-label-toggle",{"tc-radio-disabled":d}),children:a.map(t=>o.jsxs("label",{"data-feature":t.dataFeature,htmlFor:c(t.value),className:G({"tc-radio-selected":u===t.value}),children:[o.jsx("input",{id:c(t.value),type:"radio",value:t.value,checked:u===t.value,name:s,disabled:d,onChange:m=>I(m),autoFocus:O===t.value}),o.jsx("span",{children:t.label})]},t.value))})}q.propTypes={autoFocus:e.bool,disabled:e.bool,id:e.string,name:e.string.isRequired,onChange:e.func.isRequired,value:e.string,values:e.arrayOf(e.shape({value:e.string.isRequired,label:e.string.isRequired,dataFeature:e.string}).isRequired)};N.Label=q;N.Checkbox=k;const W="_info_165qz_2",$={info:W};function L({demoContentSteps:r}){const{t:a}=b(j);return r.length?o.jsxs(l.Fragment,{children:[o.jsx("p",{className:$.info,children:a("DEMO_CONTENT_LOADING_MESSAGE",{defaultValue:`Loading may take a few minutes to complete.
Isn't it time for tea or coffee?`})}),o.jsx(i,{steps:r})]}):null}L.propTypes={demoContentSteps:i.propTypes.steps.isRequired};const T=1,K="app-guided-tour-viewed";function U({isOpen:r,appName:a,steps:s,localStorageKey:u=K,demoContentSteps:n,onRequestOpen:d,onImportDemoContent:D,onRequestClose:C,welcomeStepBody:I=null,tourId:c,...O}){const{t}=b(j),[m,P]=F(u,!1),[f,x]=l.useState(n&&!m),[E,S]=l.useState(0);l.useEffect(()=>{r&&S(0)},[r]);const h=f&&E===T&&i.isStepsLoading(n),A=n?.length&&i.isAllSuccessful(n);return l.useEffect(()=>{m||d()},[m,d]),l.useEffect(()=>{let p=null;return A&&(p=setTimeout(()=>{S(R=>R===T?T+1:R)},i.SHOW_COMPLETED_TRANSITION_TIMER)),()=>clearTimeout(p)},[A]),o.jsx(v,{tourId:c,isOpen:r,showButtons:!h,showCloseButton:!h,disableKeyboardNavigation:h,disableAllInteractions:h,getCurrentStep:p=>{f&&p===T&&E===T-1&&D(),S(p)},goToStep:E,onRequestClose:()=>{C(),P(!0),f&&(x(!1),S(Math.max(0,E-1)))},steps:[{content:{header:t("GUIDED_TOUR_WELCOME_STEP_HEADER",{appName:a,defaultValue:"Welcome to {{appName}}"}),body:()=>I||o.jsxs("div",{children:[t("GUIDED_TOUR_WELCOME_STEP_BODY",{defaultValue:`If you're new, you may want to take a quick tour of the tool now.
										 If not, you can replay the tour from the user menu.`}),n&&o.jsx("form",{children:o.jsx(N,{id:"app-guided-tour__import-demo-content-toggle",label:t("GUIDED_TOUR_IMPORT_DEMO_CONTENT",{defaultValue:"Import demo content"}),onChange:p=>{x(p.target.checked)},checked:f,"data-feature":c&&`guidedtour.${c}.demo`})})]})}},f&&{content:{header:t("GUIDED_TOUR_DEMO_CONTENT_STEP_HEADER",{defaultValue:"Importing demo content"}),body:()=>o.jsx(L,{demoContentSteps:n})}},...s].filter(Boolean),...O})}U.propTypes={isOpen:e.bool.isRequired,appName:e.string.isRequired,localStorageKey:e.string,steps:v.propTypes.steps,welcomeStepBody:e.node,demoContentSteps:i.propTypes.steps,onRequestOpen:e.func.isRequired,onImportDemoContent:e.func,onRequestClose:e.func.isRequired,tourId:e.string};function M({withDemoContent:r=!1}){const[a,s]=l.useState(i.LOADING_STEP_STATUSES.PENDING),u={demoContentSteps:[{label:"Importing datasets",status:a}],onImportDemoContent:()=>{s(i.LOADING_STEP_STATUSES.LOADING),setTimeout(()=>{s(i.LOADING_STEP_STATUSES.SUCCESS)},2e3)}};return o.jsx(U,{tourId:"preparation",isOpen:!0,appName:"Data Preparation",steps:[{content:{header:"Header",body:()=>"Content"}}],onRequestOpen:()=>{},onRequestClose:()=>{},lastStepNextButtonDataFeature:"HEHEEE",...r?u:{}})}const Ne={title:"Components/Messaging & Communication/AppGuidedTour"},_=()=>o.jsx(M,{withDemoContent:!0});_.parameters={chromatic:{disableSnapshot:!0}};const g=()=>o.jsx(M,{});g.parameters={chromatic:{disableSnapshot:!0}};_.parameters={..._.parameters,docs:{..._.parameters?.docs,source:{originalSource:"() => <AppGuidedTourContainer withDemoContent />",..._.parameters?.docs?.source}}};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:"() => <AppGuidedTourContainer />",...g.parameters?.docs?.source}}};const xe=["Default","WithoutDemoContent"];export{_ as Default,g as WithoutDemoContent,xe as __namedExportsOrder,Ne as default};
